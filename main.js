(function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(e){V=e}function i(e){H=e}function o(){return function(){process.nextTick(u)}}function s(){return function(){F(u)}}function a(){var e=0,t=new G(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function c(){var e=new MessageChannel;return e.port1.onmessage=u,function(){e.port2.postMessage(0)}}function l(){return function(){setTimeout(u,1)}}function u(){for(var e=0;B>e;e+=2){var t=X[e],n=X[e+1];t(n),X[e]=void 0,X[e+1]=void 0}B=0}function d(){try{var e=require,t=e("vertx");return F=t.runOnLoop||t.runOnContext,s()}catch(n){return l()}}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(t){return te.error=t,te}}function g(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function y(e,t,n){H(function(e){var r=!1,i=g(n,t,function(n){r||(r=!0,t!==n?w(e,n):$(e,n))},function(t){r||(r=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,C(e,i))},e)}function v(e,t){t._state===Q?$(e,t._result):t._state===ee?C(e,t._result):x(t,void 0,function(t){w(e,t)},function(t){C(e,t)})}function b(e,n){if(n.constructor===e.constructor)v(e,n);else{var r=m(n);r===te?C(e,te.error):void 0===r?$(e,n):t(r)?y(e,n,r):$(e,n)}}function w(t,n){t===n?C(t,f()):e(n)?b(t,n):$(t,n)}function S(e){e._onerror&&e._onerror(e._result),O(e)}function $(e,t){e._state===J&&(e._result=t,e._state=Q,0!==e._subscribers.length&&H(O,e))}function C(e,t){e._state===J&&(e._state=ee,e._result=t,H(S,e))}function x(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+Q]=n,i[o+ee]=r,0===o&&e._state&&H(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?A(n,r,i,o):i(o);e._subscribers.length=0}}function T(){this.error=null}function k(e,t){try{return e(t)}catch(n){return ne.error=n,ne}}function A(e,n,r,i){var o,s,a,c,l=t(r);if(l){if(o=k(r,i),o===ne?(c=!0,s=o.error,o=null):a=!0,n===o)return void C(n,h())}else o=i,a=!0;n._state!==J||(l&&a?w(n,o):c?C(n,s):e===Q?$(n,o):e===ee&&C(n,o))}function I(e,t){try{t(function(t){w(e,t)},function(t){C(e,t)})}catch(n){C(e,n)}}function M(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(p),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?$(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&$(n.promise,n._result))):C(n.promise,n._validationError())}function E(e){return new re(this,e).promise}function L(e){function t(e){w(i,e)}function n(e){C(i,e)}var r=this,i=new r(p);if(!q(e))return C(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,s=0;i._state===J&&o>s;s++)x(r.resolve(e[s]),void 0,t,n);return i}function N(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(p);return w(n,e),n}function D(e){var t=this,n=new t(p);return C(n,e),n}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(e){this._id=ce++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==e&&(t(e)||j(),this instanceof P||R(),I(this,e))}function _(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=le)}var U;U=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var F,V,Y,q=U,B=0,H=({}.toString,function(e,t){X[B]=e,X[B+1]=t,B+=2,2===B&&(V?V(u):Y())}),W="undefined"!=typeof window?window:void 0,z=W||{},G=z.MutationObserver||z.WebKitMutationObserver,K="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3);Y=K?o():G?a():Z?c():void 0===W&&"function"==typeof require?d():l();var J=void 0,Q=1,ee=2,te=new T,ne=new T;M.prototype._validateInput=function(e){return q(e)},M.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},M.prototype._init=function(){this._result=new Array(this.length)};var re=M;M.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===J&&t>i;i++)e._eachEntry(r[i],i)},M.prototype._eachEntry=function(e,t){var r=this,i=r._instanceConstructor;n(e)?e.constructor===i&&e._state!==J?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(i.resolve(e),t):(r._remaining--,r._result[t]=e)},M.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===J&&(r._remaining--,e===ee?C(i,n):r._result[t]=n),0===r._remaining&&$(i,r._result)},M.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){n._settledAt(Q,t,e)},function(e){n._settledAt(ee,t,e)})};var ie=E,oe=L,se=N,ae=D,ce=0,le=P;P.all=ie,P.race=oe,P.resolve=se,P.reject=ae,P._setScheduler=r,P._setAsap=i,P._asap=H,P.prototype={constructor:P,then:function(e,t){var n=this,r=n._state;if(r===Q&&!e||r===ee&&!t)return this;var i=new this.constructor(p),o=n._result;if(r){var s=arguments[r-1];H(function(){A(r,i,s,o)})}else x(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var ue=_,de={Promise:le,polyfill:ue};"function"==typeof define&&define.amd?define("es6-promise",[],function(){return de}):"undefined"!=typeof module&&module.exports?module.exports=de:"undefined"!=typeof this&&(this.ES6Promise=de),ue()}).call(this),define("platform/framework/src/Constants",{MODULE_NAME:"OpenMCTWeb",BUNDLE_LISTING_FILE:"bundles.json",BUNDLE_FILE:"bundle.json",SEPARATOR:"/",EXTENSION_SUFFIX:"[]",DEFAULT_BUNDLE:{sources:"src",resources:"res",libraries:"lib",tests:"test",configuration:{},extensions:{}},PRIORITY_LEVELS:{fallback:Number.NEGATIVE_INFINITY,"default":-100,none:0,optional:100,preferred:1e3,mandatory:Number.POSITIVE_INFINITY},DEFAULT_PRIORITY:0}),define("platform/framework/src/FrameworkInitializer",[],function(){function e(e,t,n,r){this.loader=e,this.resolver=t,this.registrar=n,this.bootstrapper=r}function t(e,t){return function(){return e.apply(t,arguments)}}return e.prototype.runApplication=function(e){return this.loader.loadBundles(e).then(t(this.resolver.resolveBundles,this.resolver)).then(t(this.registrar.registerExtensions,this.registrar)).then(t(this.bootstrapper.bootstrap,this.bootstrapper))},e}),define("platform/framework/src/LogLevel",[],function(){function e(){}function t(e){this.index=n.indexOf(e),this.index<0&&(this.index=1)}var n=["error","warn","info","log","debug"];return t.prototype.configure=function(t,r){function i(t){n.forEach(function(n,r){r>o&&(t[n]=e)})}var o=this.index;i(r),t.decorator("$log",["$delegate",function(e){return i(e),e}])},t}),define("platform/framework/src/load/Extension",[],function(){function e(e,t,n){var r=t,i={};(n.key||n.name)&&(r+="(",r+=n.key||"",r+=n.key&&n.name?" ":"",r+=n.name||"",r+=")"),r+=" from "+e.getLogName(),Object.keys(n).forEach(function(e){i[e]=n[e]}),i.bundle=e.getDefinition(),this.logName=r,this.bundle=e,this.category=t,this.definition=n,this.extensionDefinition=i}return e.prototype.getKey=function(){return this.definition.key||"undefined"},e.prototype.getBundle=function(){return this.bundle},e.prototype.getCategory=function(){return this.category},e.prototype.hasImplementation=function(){return void 0!==this.definition.implementation},e.prototype.getImplementationPath=function(){return this.hasImplementation()&&!this.hasImplementationValue()?this.bundle.getSourcePath(this.definition.implementation):void 0},e.prototype.getImplementationValue=function(){return"function"==typeof this.definition.implementation?this.definition.implementation:void 0},e.prototype.hasImplementationValue=function(){return"function"==typeof this.definition.implementation},e.prototype.getLogName=function(){return this.logName},e.prototype.getDefinition=function(){return this.extensionDefinition},e}),define("platform/framework/src/load/Bundle",["../Constants","./Extension"],function(e,t){function n(t,n){var r=Object.create(e.DEFAULT_BUNDLE),i=t;Object.keys(n).forEach(function(e){r[e]=n[e]}),r.path=t,(r.key||r.name)&&(i+="(",i+=r.key||"",i+=r.key&&r.name?" ":"",i+=r.name||"",i+=")"),this.path=t,this.definition=r,this.logName=i}return n.prototype.resolvePath=function(t){var n=this.path;return[n].concat(t||[]).join(e.SEPARATOR)},n.prototype.getPath=function(){return this.path},n.prototype.getSourcePath=function(e){var t=e?[this.definition.sources,e]:[this.definition.sources];return this.resolvePath(t)},n.prototype.getResourcePath=function(e){var t=e?[this.definition.resources,e]:[this.definition.resources];return this.resolvePath(t)},n.prototype.getLibraryPath=function(e){var t=e?[this.definition.libraries,e]:[this.definition.libraries];return this.resolvePath(t)},n.prototype.getConfiguration=function(){return this.definition.configuration||{}},n.prototype.getLogName=function(){return this.logName},n.prototype.getExtensions=function(e){var n=this.definition.extensions[e]||[],r=this;return n.map(function(n){return new t(r,e,n)})},n.prototype.getExtensionCategories=function(){return Object.keys(this.definition.extensions)},n.prototype.getDefinition=function(){return this.definition},n}),define("platform/framework/src/load/BundleLoader",["../Constants","./Bundle"],function(e,t){function n(e,t,n){this.$http=e,this.$log=t,this.legacyRegistry=n}var r="Malformed loadBundles argument; expected string or array",i="Invalid bundle contents for ",o="Failed to load bundle ";return n.prototype.loadBundles=function(n){function s(e){return f.get(e).then(function(e){return e.data})}function a(e){return e.filter(function(e){return void 0!==e})}function c(t){return s(t+"/"+e.BUNDLE_FILE).then(function(e){return null===e||"object"!=typeof e?void h.warn(i+t):e},function(){h.warn(o+t)})}function l(e){return m.contains(e)?Promise.resolve(new t(e,m.get(e))):c(e).then(function(n){return n&&new t(e,n)})}function u(e,t,n){return n.indexOf(e)===t}function d(e){var t=m.list().concat(e).filter(u).map(l);return Promise.all(t).then(a)}function p(e){function t(t){return h.info(["No external bundles loaded;","could not load bundle listing in",e,"due to error",t.status,t.statusText].join(" ")),d([])}return s(e).then(d,t)}var f=this.$http,h=this.$log,m=this.legacyRegistry;return Array.isArray(n)?d(n):"string"==typeof n?p(n):Promise.reject(new Error(r))},n}),define("platform/framework/src/resolve/ImplementationLoader",[],function(){function e(e){this.require=e}return e.prototype.load=function(e){var t=this.require;return new Promise(function(n,r){t([e],n,r)})},e}),define("platform/framework/src/resolve/ExtensionResolver",[],function(){function e(e,t){this.loader=e,this.$log=t}return e.prototype.resolve=function(e){function t(e){function t(e){function t(){return e.apply(this,arguments)}return t.prototype=e.prototype,t}function i(n){var i="function"==typeof n?t(n):Object.create(n);return Object.keys(n).forEach(function(e){i[e]=n[e]}),Object.keys(a).forEach(function(e){void 0===i[e]&&(i[e]=a[e])}),i.definition=a,r.info("Resolved "+e.getLogName()),i}function o(t){var n=["Could not load implementation for extension ",e.getLogName()," due to ",t.message].join("");return r.warn(n),e.getDefinition()}var s=e.hasImplementationValue()?Promise.resolve(e.getImplementationValue()):n.load(e.getImplementationPath()),a=e.getDefinition();return e.hasImplementationValue()||r.info(["Loading implementation ",e.getImplementationPath()," for extension ",e.getLogName()].join("")),s.then(i,o)}var n=this.loader,r=this.$log;return r.info(["Resolving extension ",e.getLogName()].join("")),e.hasImplementation()?t(e):Promise.resolve(e.getDefinition())},e}),define("platform/framework/src/resolve/BundleResolver",[],function(){function e(e,t,n){this.extensionResolver=e,this.requireConfigurator=t,this.$log=n}return e.prototype.resolveBundles=function(e){function t(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=(t[n]||[]).concat(e[n])})}),t}function n(e){function t(e){function t(e){a[n].push(e)}var n=e.getCategory();return r.resolve(e).then(t)}function n(n){return a[n]=[],Promise.all(e.getExtensions(n).map(t))}function i(){return a}var s=e.getExtensionCategories(),a={};return o.info("Resolving extensions for bundle "+e.getLogName()),Promise.all(s.map(n)).then(i)}var r=this.extensionResolver,i=this.requireConfigurator,o=this.$log;return i.configure(e),Promise.all(e.map(n)).then(t)},e}),define("platform/framework/src/resolve/RequireConfigurator",[],function(){function e(e){this.requirejs=e}function t(e){return JSON.parse(JSON.stringify(e))}function n(e){var n=e.getConfiguration();return n.paths&&(n=t(n),Object.keys(n.paths).forEach(function(t){n.paths[t]=e.getLibraryPath(n.paths[t])})),n}function r(e,t){return["paths","shim"].forEach(function(n){Object.keys(t[n]||{}).forEach(function(r){e[n][r]=t[n][r]})}),e}function i(e){var t={baseUrl:"",paths:{},shim:{}},i=e.map(n);return i.reduce(r,t)}return e.prototype.configure=function(e){return this.requirejs.config(i(e))},e}),define("platform/framework/src/register/ServiceCompositor",[],function(){function e(e,t){this.latest={},this.providerLists={},this.app=e,this.$log=t}return e.prototype.registerCompositeServices=function(e){function t(e,t,n){var r=n||"No service provided by";m.warn([r," ",t," ",e.key," from bundle ",(e.bundle||{path:"unknown bundle"}).path,"; skipping."].join(""))}function n(){return Array.prototype.slice.call(arguments)}function r(e){return e}function i(e){return function(t){return t.type===e}}function o(e,t,n){return[t,"[",e,"#",n,"]"].join("")}function s(e,n){var r=e.provides,i=e.depends||[],s=o("provider",r,n);return r?(f[r]=f[r]||[],f[r].push(s),p[r]=s,void h.service(s,i.concat([e]))):t(e,"provider")}function a(){Object.keys(f).forEach(function(e){var t=o("provider",e,"*"),r=f[e];h.service(t,r.concat([n]))})}function c(e,n){var r=e.provides,i=e.depends||[],s=o("provider",r,"*"),a=o("aggregator",r,n);return r?p[r]?(i=i.concat([s]),p[r]=a,void h.service(a,i.concat([e]))):t(e,"aggregator","No services to aggregate for"):t(e,"aggregator")}function l(e,n){var r=e.provides,i=e.depends||[],s=o("decorator",r,n);return r?p[r]?(i=i.concat([p[r]]),p[r]=s,void h.service(s,i.concat([e]))):t(e,"decorator","No services to decorate for"):t(e,"decorator")}function u(){Object.keys(p).forEach(function(e){h.service(e,[p[e],r])})}function d(e,t,n){e.forEach(s),a(),t.forEach(c),n.forEach(l),u()}var p=this.latest,f=this.providerLists,h=this.app,m=this.$log;d(e.filter(i("provider")),e.filter(i("aggregator")),e.filter(i("decorator")))},e}),define("platform/framework/src/register/CustomRegistrars",["../Constants","./ServiceCompositor"],function(e,t){function n(e,t){this.app=e,this.$log=t,this.registered={}}function r(e,t){return function(){return e.apply(t,arguments)}}function i(e){return function(t,n){var r=this.app,i=this.$log,o=t.key,s=t.depends||[],a=this.registered[e]||{};this.registered[e]=a,o?a[o]?i.debug(["Already registered ",e," with key ",o,"; skipping."].join("")):(i.info(["Registering ",e,": ",o].join("")),a[o]=!0,r[e](o,s.concat([t]))):i.warn(["Cannot register ",e," ",n,", no key specified. ",JSON.stringify(t)].join(""))}}function o(e){var t=this.app,n=this.$log,r=e.key,i=e.value;"string"==typeof r&&void 0!==i?(n.info(["Registering constant: ",r," with value ",i].join("")),t.constant(r,i)):n.warn(["Cannot register constant ",r," with value ",i].join(""))}function s(e){var t=this.app,n=this.$log;"function"==typeof e?t.run((e.depends||[]).concat([e])):n.warn(["Cannot register run extension from ",(e.bundle||{}).path,"; no implementation."].join(""))}function a(t){var n=this.app,r=this.$log,i=Object.create(t);i.templateUrl&&(i.templateUrl=[i.bundle.path,i.bundle.resources,i.templateUrl].join(e.SEPARATOR)),r.info("Registering route: "+(i.key||i.when)),n.config(["$routeProvider",function(e){i.when?e.when(i.when,i):e.otherwise(i)}])}function c(e){var n=this.app,r=this.$log;return new t(n,r).registerCompositeServices(e)}function l(e){return function(t){return t.map(r(e,this))}}return n.prototype.constants=l(o),n.prototype.routes=l(a),n.prototype.directives=l(i("directive")),n.prototype.controllers=l(i("controller")),n.prototype.services=l(i("service")),n.prototype.filters=l(i("filter")),n.prototype.runs=l(s),n.prototype.components=c,n}),define("platform/framework/src/register/PartialConstructor",[],function(){function e(e){function t(){function t(){var t=Array.prototype.slice.call(arguments),r=Object.create(e.prototype);return r=e.apply(r,n.concat(t))||r}var n=Array.prototype.slice.call(arguments);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}return t}return e}),define("platform/framework/src/register/ExtensionRegistrar",["../Constants","./PartialConstructor"],function(e,t){function n(e,t,n,r){this.registeredCategories={},this.customRegistrars=t||{},this.app=e,this.sorter=n,this.$log=r}return n.prototype.registerExtensions=function(n){function r(e,t,n){var r=t.key?"extension-"+t.key+"#"+n:"extension#"+n;return e+"["+r+"]"}function i(){return Array.prototype.slice.call(arguments)}function o(e){return function(){return e}}function s(e,n){var r=n.depends||[],i="function"==typeof n?new t(n):o(n);return r.concat([i])}function a(t,n){var r=t+e.EXTENSION_SUFFIX;h.factory(r,n.concat([i]))}function c(e,t){function n(t,n){var o=r(e,t,n);i.push(o),h.factory(o,s(e,t))}var i=[];return p[e]?void g.warn(["Tried to register extensions for category ",e," more than once. Ignoring all but first set."].join("")):(f[e]?f[e](t):(t.forEach(n),a(e,i)),p[e]=!0,!0)}function l(t){var n=t.indexOf(e.EXTENSION_SUFFIX,t.length-e.EXTENSION_SUFFIX.length);return-1!==n}function u(t){var n={},r=Object.keys(t),i=[];return r.forEach(function(e){i=i.concat(t[e])}),i.forEach(function(e){(e.depends||[]).filter(l).forEach(function(e){n[e]=!0})}),r.forEach(function(t){var r=t+e.EXTENSION_SUFFIX;delete n[r]}),Object.keys(n)}function d(e){u(e).forEach(function(e){g.info("Registering empty extension category "+e),h.factory(e,[o([])])})}var p=this.registeredCategories,f=this.customRegistrars,h=this.app,m=this.sorter,g=this.$log;return g.info("Registering extensions..."),Object.keys(n).forEach(function(e){c(e,m.sort(n[e]))}),d(n),h},n}),define("platform/framework/src/register/ExtensionSorter",["../Constants"],function(e){function t(e){this.$log=e}return t.prototype.sort=function(t){function n(t){return a.warn(["Unrecognized priority '",(t||{}).priority,"' specified for extension from ",((t||{}).bundle||{}).path,"; defaulting to ",e.DEFAULT_PRIORITY].join("")),e.DEFAULT_PRIORITY}function r(t){var r=(t||{}).priority||e.DEFAULT_PRIORITY;return"string"==typeof r&&(r=e.PRIORITY_LEVELS[r]),"number"==typeof r?r:n(t)}function i(e,t){return{extension:e,index:t,priority:r(e)}}function o(e){return e.extension}function s(e,t){return t.priority-e.priority||e.index-t.index}var a=this.$log;return(t||[]).map(i).sort(s).map(o)},t}),define("platform/framework/src/bootstrap/ApplicationBootstrapper",[],function(){function e(e,t,n){this.angular=e,this.document=t,this.$log=n}return e.prototype.bootstrap=function(e){var t=this.angular,n=this.document,r=this.$log;r.info("Bootstrapping application "+(e||{}).name),t.element(n).ready(function(){t.bootstrap(n,[e.name],{strictDi:!0})})},e}),define("platform/framework/src/FrameworkLayer",["require","./Constants","./FrameworkInitializer","./LogLevel","./load/BundleLoader","./resolve/ImplementationLoader","./resolve/ExtensionResolver","./resolve/BundleResolver","./resolve/RequireConfigurator","./register/CustomRegistrars","./register/ExtensionRegistrar","./register/ExtensionSorter","./bootstrap/ApplicationBootstrapper"],function(e,t,n,r,i,o,s,a,c,l,u,d,p){function f(e,t){this.$http=e,this.$log=t}return f.prototype.initializeApplication=function(f,h,m){var g=this.$http,y=this.$log,v=f.module(t.MODULE_NAME,["ngRoute"]),b=new i(g,y,h),w=new a(new s(new o(e),y),new c(requirejs),y),S=new u(v,new l(v,y),new d(y),y),$=new p(f,window.document,y),C=new n(b,w,S,$);new r(m).configure(v,y),y.info("Initializing application."),C.runApplication(t.BUNDLE_LISTING_FILE)},f}),function(e){define("angular",[],function(){return function(){return function(e,t,n){"use strict";function r(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.4.4/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,t+=i(r)}return Error(t)}}function i(e){if(null==e||A(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===cr&&t?!0:C(e)||Qn(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var r,s;if(e)if(T(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Qn(e)||i(e)){var a="object"!=typeof e;for(r=0,s=e.length;s>r;r++)(a||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if($(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Yn.call(e,r)&&t.call(n,e[r],r,e);return e}function s(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function a(e){return function(t,n){e(n,t)}}function c(){return++Xn}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var s=t[i];if(S(s)||T(s))for(var a=Object.keys(s),c=0,d=a.length;d>c;c++){var p=a[c],f=s[p];n&&S(f)?O(f)?e[p]=new Date(f.valueOf()):k(f)?e[p]=new RegExp(f):(S(e[p])||(e[p]=Qn(f)?[]:{}),u(e[p],[f],!0)):e[p]=f}}return l(e,r),e}function d(e){return u(e,Bn.call(arguments,1),!1)}function p(e){return u(e,Bn.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function y(e){return function(){return e}}function v(e){return T(e.toString)&&e.toString!==Object.prototype.toString}function b(e){return"undefined"==typeof e}function w(e){return"undefined"!=typeof e}function S(e){return null!==e&&"object"==typeof e}function $(e){return null!==e&&"object"==typeof e&&!Gn(e)}function C(e){return"string"==typeof e}function x(e){return"number"==typeof e}function O(e){return"[object Date]"===zn.call(e)}function T(e){return"function"==typeof e}function k(e){return"[object RegExp]"===zn.call(e)}function A(e){return e&&e.window===e}function I(e){return e&&e.$evalAsync&&e.$watch}function M(e){return"boolean"==typeof e}function E(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function L(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function N(e){return Vn(e.nodeName||e[0]&&e[0].nodeName)}function D(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function j(e,t,n,r){if(A(e)||I(e))throw Kn("cpws");if(er.test(zn.call(t)))throw Kn("cpta");if(t){if(e===t)throw Kn("cpi");n=n||[],r=r||[],S(e)&&(n.push(e),r.push(t));var i;if(Qn(e))for(i=t.length=0;i<e.length;i++)t.push(j(e[i],null,n,r));else{var s=t.$$hashKey;if(Qn(t)?t.length=0:o(t,function(e,n){delete t[n]}),$(e))for(i in e)t[i]=j(e[i],null,n,r);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=j(e[i],null,n,r));else for(i in e)Yn.call(e,i)&&(t[i]=j(e[i],null,n,r));l(t,s)}}else if(t=e,S(e)){if(n&&-1!==(s=n.indexOf(e)))return r[s];if(Qn(e))return j(e,[],n,r);if(er.test(zn.call(e)))t=new e.constructor(e);else if(O(e))t=new Date(e.getTime());else{if(!k(e))return i=Object.create(Gn(e)),j(e,i,n,r);t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}r&&(n.push(e),r.push(t))}return t}function R(e,t){if(Qn(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(S(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function P(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i=typeof e;if(i==typeof t&&"object"==i){if(!Qn(e)){if(O(e))return O(t)?P(e.getTime(),t.getTime()):!1;if(k(e))return k(t)?e.toString()==t.toString():!1;if(I(e)||I(t)||A(e)||A(t)||Qn(t)||O(t)||k(t))return!1;i=le();for(r in e)if("$"!==r.charAt(0)&&!T(e[r])){if(!P(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i||"$"===r.charAt(0)||t[r]===n||T(t[r])))return!1;return!0}if(!Qn(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!P(e[r],t[r]))return!1;return!0}}return!1}function _(e,t,n){return e.concat(Bn.call(t,n))}function U(e,t){var n=2<arguments.length?Bn.call(arguments,2):[];return!T(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,_(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:A(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":I(r)&&(i="$SCOPE"),i}function V(e,t){return"undefined"==typeof e?n:(x(t)||(t=t?2:null),JSON.stringify(e,F,t))}function Y(e){return C(e)?JSON.parse(e):e}function q(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function B(e,t,n){n=n?-1:1;var r=q(t,e.getTimezoneOffset());return t=e,e=n*(r-e.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function H(e){e=Pn(e).clone();try{e.empty()}catch(t){}var n=Pn("<div>").append(e).html();try{return e[0].nodeType===lr?Vn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Vn(t)})}catch(r){return Vn(n)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function z(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=W(r),w(r)&&(i=w(i)?W(i):!0,Yn.call(t,r)?Qn(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function G(e){var t=[];return o(e,function(e,n){Qn(e)?o(e,function(e){t.push(Z(n,!0)+(!0===e?"":"="+Z(e,!0)))}):t.push(Z(n,!0)+(!0===e?"":"="+Z(e,!0)))}),t.length?t.join("&"):""}function K(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function X(e,t){var n,r,i=or.length;for(r=0;i>r;++r)if(n=or[r]+t,C(n=e.getAttribute(n)))return n;return null}function J(e,t){var n,r,i={};o(or,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,r=e.getAttribute(t))}),o(or,function(t){t+="app";var i;!n&&(i=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(t))}),n&&(i.strictDi=null!==X(n,"strict-di"),t(n,r?[r]:[],i))}function Q(n,r,i){S(i)||(i={}),i=d({strictDi:!1},i);var s=function(){if(n=Pn(n),n.injector()){var e=n[0]===t?"document":H(n);throw Kn("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),e=_e(r,i.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},a=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!c.test(e.name)?s():(e.name=e.name.replace(c,""),Zn.resumeBootstrap=function(e){return o(e,function(e){r.push(e)}),s()},void(T(Zn.resumeDeferredBootstrap)&&Zn.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=Zn.element(e).injector(),!e)throw Kn("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(sr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;if(!ar){var r=ir();_n=e.jQuery,w(r)&&(_n=null===r?n:e[r]),_n&&_n.fn.on?(Pn=_n,d(_n.fn,{scope:$r.scope,isolateScope:$r.isolateScope,controller:$r.controller,injector:$r.injector,inheritedData:$r.inheritedData}),t=_n.cleanData,_n.cleanData=function(e){var n;if(Jn)Jn=!1;else for(var r,i=0;null!=(r=e[i]);i++)(n=_n._data(r,"events"))&&n.$destroy&&_n(r).triggerHandler("$destroy");t(e)}):Pn=me,Zn.element=Pn,ar=!0}}function ie(e,t,n){if(!e)throw Kn("areq",t||"?",n||"required");return e}function oe(e,t,n){return n&&Qn(e)&&(e=e[e.length-1]),ie(T(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function se(e,t){if("hasOwnProperty"===e)throw Kn("badname",t)}function ae(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,o=t.length,s=0;o>s;s++)r=t[s],e&&(e=(i=e)[r]);return!n&&T(e)?U(i,e):e}function ce(e){var t=e[0];e=e[e.length-1];var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return Pn(n)}function le(){return Object.create(null)}function ue(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||r,t(e,"module",function(){var e={};return function(r,o,s){if("hasOwnProperty"===r)throw i("badname","module");return o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,o){return o&&T(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),u}}if(!o)throw n("nomod",r);var i=[],a=[],c=[],l=e("$injector","invoke","push",a),u={_invokeQueue:i,_configBlocks:a,_runBlocks:c,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return c.push(e),this}};return s&&l(s),u})}})}function de(t){d(t,{bootstrap:Q,copy:j,extend:d,merge:p,equals:P,element:Pn,forEach:o,injector:_e,noop:m,bind:U,toJson:V,fromJson:Y,identity:g,isUndefined:b,isDefined:w,isString:C,isFunction:T,isObject:S,isNumber:x,isElement:E,isArray:Qn,version:ur,isDate:O,lowercase:Vn,uppercase:qn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:rr,reloadWithDebugInfo:ee}),(Un=ue(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Wt}),e.provider("$compile",ze).directive({a:wi,input:Ri,textarea:Ri,form:xi,script:Oo,select:Ao,style:Mo,option:Io,ngBind:Ui,ngBindHtml:Vi,ngBindTemplate:Fi,ngClass:qi,ngClassEven:Hi,ngClassOdd:Bi,ngCloak:Wi,ngController:zi,ngForm:Oi,ngHide:bo,ngIf:Zi,ngInclude:Xi,ngInit:Qi,ngNonBindable:po,ngPluralize:go,ngRepeat:yo,ngShow:vo,ngStyle:wo,ngSwitch:So,ngSwitchWhen:$o,ngSwitchDefault:Co,ngOptions:mo,ngTransclude:xo,ngModel:co,ngList:eo,ngChange:Yi,pattern:Lo,ngPattern:Lo,required:Eo,ngRequired:Eo,minlength:Do,ngMinlength:Do,maxlength:No,ngMaxlength:No,ngValue:_i,ngModelOptions:uo}).directive({ngInclude:Ji}).directive(Si).directive(Gi),e.provider({$anchorScroll:Ue,$animate:jr,$animateCss:Rr,$$animateQueue:Dr,$$AnimateRunner:Nr,$browser:Be,$cacheFactory:He,$controller:Xe,$document:Je,$exceptionHandler:Qe,$filter:an,$$forceReflow:Vr,$interpolate:dt,$interval:pt,$http:at,$httpParamSerializer:tt,$httpParamSerializerJQLike:nt,$httpBackend:lt,$location:xt,$log:Ot,$parse:Ft,$rootScope:Ht,$q:Vt,$$q:Yt,$sce:Zt,$sceDelegate:Kt,
$sniffer:Xt,$templateCache:We,$templateRequest:Jt,$$testability:Qt,$timeout:en,$window:rn,$$rAF:Bt,$$jqLite:De,$$HashMap:Tr,$$cookieReader:sn})}])}function pe(e){return e.replace(fr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(hr,"Moz$1")}function fe(e){return e=e.nodeType,e===cr||!e||9===e}function he(e,t){var n,r,i=t.createDocumentFragment(),s=[];if(vr.test(e)){for(n=n||i.appendChild(t.createElement("div")),r=(br.exec(e)||["",""])[1].toLowerCase(),r=Sr[r]||Sr._default,n.innerHTML=r[1]+e.replace(wr,"<$1></$2>")+r[2],r=r[0];r--;)n=n.lastChild;s=_(s,n.childNodes),n=i.firstChild,n.textContent=""}else s.push(t.createTextNode(e));return i.textContent="",i.innerHTML="",o(s,function(e){i.appendChild(e)}),i}function me(e){if(e instanceof me)return e;var n;if(C(e)&&(e=tr(e),n=!0),!(this instanceof me)){if(n&&"<"!=e.charAt(0))throw gr("nosel");return new me(e)}if(n){n=t;var r;e=(r=yr.exec(e))?[n.createElement(r[1])]:(r=he(e,n))?r.childNodes:[]}Oe(this,e)}function ge(e){return e.cloneNode(!0)}function ye(e,t){if(t||be(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)be(n[r])}function ve(e,t,n,r){if(w(r))throw gr("offargs");var i=(r=we(e))&&r.events,s=r&&r.handle;if(s)if(t)o(t.split(" "),function(t){if(w(n)){var r=i[t];if(D(r||[],n),r&&0<r.length)return}e.removeEventListener(t,s,!1),delete i[t]});else for(t in i)"$destroy"!==t&&e.removeEventListener(t,s,!1),delete i[t]}function be(e,t){var r=e.ng339,i=r&&dr[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ve(e)),delete dr[r],e.ng339=n))}function we(e,t){var r=e.ng339,r=r&&dr[r];return t&&!r&&(e.ng339=r=++pr,r=dr[r]={events:{},data:{},handle:n}),r}function Se(e,t,n){if(fe(e)){var r=w(n),i=!r&&t&&!S(t),o=!t;if(e=(e=we(e,!i))&&e.data,r)e[t]=n;else{if(o)return e;if(i)return e&&e[t];d(e,t)}}}function $e(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function Ce(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",tr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+tr(t)+" "," ")))})}function xe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=tr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",tr(n))}}function Oe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Te(e,t){return ke(e,"$"+(t||"ngController")+"Controller")}function ke(e,t,r){for(9==e.nodeType&&(e=e.documentElement),t=Qn(t)?t:[t];e;){for(var i=0,o=t.length;o>i;i++)if((r=Pn.data(e,t[i]))!==n)return r;e=e.parentNode||11===e.nodeType&&e.host}}function Ae(e){for(ye(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ie(e,t){t||ye(e);var n=e.parentNode;n&&n.removeChild(e)}function Me(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Pn(n).on("load",t)}function Ee(e,t){var n=Cr[t.toLowerCase()];return n&&xr[N(e)]&&n}function Le(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Or[t]}function Ne(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},o>1&&(i=R(i));for(var a=0;o>a;a++)n.isImmediatePropagationStopped()||i[a].call(e,n)}};return n.elem=e,n}function De(){this.$get=function(){return d(me,{hasClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),xe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)}})}}function je(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||c)():n+":"+e)}function Re(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function Pe(e){return(e=e.toString().replace(Mr,"").match(kr))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function _e(e,t){function r(e){return function(t,n){return S(t)?void o(t,a(e)):e(t,n)}}function i(e,t){if(se(e,"service"),(T(t)||Qn(t))&&(t=m.instantiate(t)),!t.$get)throw Er("pget",e);return h[e+"Provider"]=t}function s(e,t){return function(){var n=v.invoke(t,this);if(b(n))throw Er("undef",e);return n}}function c(e,t,n){return i(e,{$get:!1!==n?s(e,t):t})}function l(e){ie(b(e)||Qn(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=m.get(r[0]);i[r[1]].apply(i,r[2])}}if(!f.get(e)){f.put(e,!0);try{C(e)?(t=Un(e),n=n.concat(l(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):T(e)?n.push(m.invoke(e)):Qn(e)?n.push(m.invoke(e)):oe(e,"module")}catch(i){throw Qn(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Er("modulerr",e,i.stack||i.message||i)}}}),n}function u(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===d)throw Er("cdep",t+" <- "+p.join(" <- "));return e[t]}try{return p.unshift(t),e[t]=d,e[t]=n(t,r)}catch(i){throw e[t]===d&&delete e[t],i}finally{p.shift()}}function i(e,n,i,o){"string"==typeof i&&(o=i,i=null);var s,a,c,l=[],u=_e.$$annotate(e,t,o);for(a=0,s=u.length;s>a;a++){if(c=u[a],"string"!=typeof c)throw Er("itkn",c);l.push(i&&i.hasOwnProperty(c)?i[c]:r(c,o))}return Qn(e)&&(e=e[s]),e.apply(n,l)}return{invoke:i,instantiate:function(e,t,n){var r=Object.create((Qn(e)?e[e.length-1]:e).prototype||null);return e=i(e,r,t,n),S(e)||T(e)?e:r},get:r,annotate:_e.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},p=[],f=new Re([],!0),h={$provide:{provider:r(i),factory:r(c),service:r(function(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}),value:r(function(e,t){return c(e,y(t),!1)}),constant:r(function(e,t){se(e,"constant"),h[e]=t,g[e]=t}),decorator:function(e,t){var n=m.get(e+"Provider"),r=n.$get;n.$get=function(){var e=v.invoke(r,n);return v.invoke(t,null,{$delegate:e})}}}},m=h.$injector=u(h,function(e,t){throw Zn.isString(t)&&p.push(t),Er("unpr",p.join(" <- "))}),g={},v=g.$injector=u(g,function(e,t){var r=m.get(e+"Provider",t);return v.invoke(r.$get,r,n,e)});return o(l(e),function(e){e&&v.invoke(e)}),v}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===N(e)?(t=e,!0):void 0}),t}function o(e){if(e){e.scrollIntoView();var n;n=s.yOffset,T(n)?n=n():E(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):x(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function s(e){e=C(e)?e:n.hash();var t;e?(t=a.getElementById(e))?o(t):(t=i(a.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var a=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Me(function(){r.$evalAsync(s)})}),s}]}function Fe(e,t){return e||t?e?t?(Qn(e)&&(e=e.join(" ")),Qn(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ve(e){C(e)&&(e=e.split(" "));var t=le();return o(e,function(e){e.length&&(t[e]=!0)}),t}function Ye(e){return S(e)?e:{}}function qe(e,t,n,r){function i(e){try{e.apply(null,Bn.call(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function s(){a(),c()}function a(){e:{try{v=d.state;break e}catch(e){}v=void 0}v=b(v)?null:v,P(v,T)&&(v=T),T=v}function c(){(S!==l.url()||w!==v)&&(S=l.url(),w=v,o(x,function(e){e(l.url(),v)}))}var l=this,u=e.location,d=e.history,p=e.setTimeout,f=e.clearTimeout,h={};l.isMock=!1;var g=0,y=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(e){0===g?e():y.push(e)};var v,w,S=u.href,$=t.find("base"),C=null;a(),w=v,l.url=function(t,n,i){if(b(i)&&(i=null),u!==e.location&&(u=e.location),d!==e.history&&(d=e.history),t){var o=w===i;if(S===t&&(!r.history||o))return l;var s=S&&yt(S)===yt(t);return S=t,w=i,!r.history||s&&o?((!s||C)&&(C=t),n?u.replace(t):s?(n=u,i=t.indexOf("#"),t=-1===i?"":t.substr(i),n.hash=t):u.href=t):(d[n?"replaceState":"pushState"](i,"",t),a(),w=v),l}return C||u.href.replace(/%27/g,"'")},l.state=function(){return v};var x=[],O=!1,T=null;l.onUrlChange=function(t){return O||(r.history&&Pn(e).on("popstate",s),Pn(e).on("hashchange",s),O=!0),x.push(t),t},l.$$applicationDestroyed=function(){Pn(e).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var e=$.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(e,t){var n;return g++,n=p(function(){delete h[n],i(e)},t||0),h[n]=!0,n},l.defer.cancel=function(e){return h[e]?(delete h[e],f(e),i(m),!0):!1}}function Be(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new qe(e,r,t,n)}]}function He(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var s=0,a=d({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});i(n)}return e in c||s++,c[e]=t,s>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;i(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete u[e]}delete c[e],s--},removeAll:function(){c={},s=0,u={},p=f=null},destroy:function(){u=a=c=null,delete t[e]},info:function(){return d({},a,{size:s})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function We(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ze(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(e,function(e,o){var s=e.match(r);if(!s)throw Pr("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o}}),i}function s(e){var t=e.charAt(0);if(!t||t!==Vn(t))throw Pr("baddir",e);if(e!==e.trim())throw Pr("baddir",e)}var c={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=L("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function x(t,n){return se(t,"directive"),C(t)?(s(t),ie(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var r=[];return o(c[t],function(o,s){try{var a=e.invoke(o);T(a)?a={compile:y(a)}:!a.compile&&a.link&&(a.compile=y(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var c=a,l=a,u=a.name,d={isolateScope:null,bindToController:null};if(S(l.scope)&&(!0===l.bindToController?(d.bindToController=i(l.scope,u,!0),d.isolateScope={}):d.isolateScope=i(l.scope,u,!1)),S(l.bindToController)&&(d.bindToController=i(l.bindToController,u,!0)),S(d.bindToController)){var p=l.controller,f=l.controllerAs;if(!p)throw Pr("noctrl",u);var h;e:if(f&&C(f))h=f;else{if(C(p)){var m=Fr.exec(p);if(m){h=m[3];break e}}h=void 0}if(!h)throw Pr("noident",u)}var g=c.$$bindings=d;S(g.isolateScope)&&(a.$$isolateBindings=g.isolateScope),a.$$moduleName=o.$$moduleName,r.push(a)}catch(v){n(v)}}),r}])),c[t].push(n)):o(t,a(x)),this},this.aHrefSanitizationWhitelist=function(e){return w(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(e){return w(e)?($=e,this):$},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,i,s,a,y,w,x,O,k,A){function M(e,t){try{e.addClass(t)}catch(n){}}function E(e,t,n,r,i){e instanceof Pn||(e=Pn(e)),o(e,function(t,n){t.nodeType==lr&&t.nodeValue.match(/\S+/)&&(e[n]=Pn(t).wrap("<span></span>").parent()[0])});var s=L(e,t,e,n,r,i);E.$$addScopeClass(e);var a=null;return function(t,n,r){ie(t,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers;if(r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),a||(a=(r=r&&r[0])&&"foreignobject"!==N(r)&&r.toString().match(/SVG/)?"svg":"html"),r="html"!==a?Pn(Z(a,Pn("<div>").append(e).html())):n?$r.clone.call(e):e,o)for(var c in o)r.data("$"+c+"Controller",o[c].instance);return E.$$addScopeInfo(r,t),n&&n(r,t),s&&s(t,r,r,i),r}}function L(e,t,r,i,o,s){function a(e,r,i,o){var s,a,c,l,u,d,h;if(p)for(h=Array(r.length),l=0;l<f.length;l+=3)s=f[l],h[s]=r[s];else h=r;for(l=0,u=f.length;u>l;)a=h[f[l++]],r=f[l++],s=f[l++],r?(r.scope?(c=e.$new(),E.$$addScopeInfo(Pn(a),c),(d=r.$$destroyBindings)&&(r.$$destroyBindings=null,c.$on("$destroyed",d))):c=e,d=r.transcludeOnThisElement?j(e,r.transclude,o):!r.templateOnThisElement&&o?o:!o&&t?j(e,t):null,r(s,c,a,i,d,r)):s&&s(e,a.childNodes,n,o)}for(var c,l,u,d,p,f=[],h=0;h<e.length;h++)c=new oe,l=R(e[h],[],c,0===h?i:n,o),(s=l.length?F(l,e[h],c,t,r,null,[],[],s):null)&&s.scope&&E.$$addScopeClass(c.$$element),c=s&&s.terminal||!(u=e[h].childNodes)||!u.length?null:L(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:t),(s||c)&&(f.push(h,s,c),d=!0,p=p||s),s=null;return d?a:null}function j(e,t,n){return function(r,i,o,s,a){return r||(r=e.$new(!1,a),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function R(e,t,n,r,i){var o,s=n.$attr;switch(e.nodeType){case cr:Y(t,Ge(N(e)),"E",r,i);for(var a,c,d,p=e.attributes,f=0,h=p&&p.length;h>f;f++){var m=!1,g=!1;a=p[f],o=a.name,c=tr(a.value),a=Ge(o),(d=ue.test(a))&&(o=o.replace(_r,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var y=a.replace(/(Start|End)$/,"");q(y)&&a===y+"Start"&&(m=o,g=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a=Ge(o.toLowerCase()),s[a]=o,(d||!n.hasOwnProperty(a))&&(n[a]=c,Ee(e,a)&&(n[a]=!0)),J(e,t,c,a,d),Y(t,a,"A",r,i,m,g)}if(e=e.className,S(e)&&(e=e.animVal),C(e)&&""!==e)for(;o=u.exec(e);)a=Ge(o[2]),Y(t,a,"C",r,i)&&(n[a]=tr(o[3])),e=e.substr(o.index+o[0].length);break;case lr:if(11===Rn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===lr;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);K(t,e.nodeValue);break;case 8:try{(o=l.exec(e.nodeValue))&&(a=Ge(o[1]),Y(t,a,"M",r,i)&&(n[a]=tr(o[2])))}catch(v){}}return t.sort(z),t}function _(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Pr("uterdir",t,n);e.nodeType==cr&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Pn(r)}function U(e,t,n){return function(r,i,o,s,a){return i=_(i[0],t,n),e(r,i,o,s,a)}}function F(e,r,o,s,a,c,l,u,d){function p(e,t,n,r){e&&(n&&(e=U(e,n,r)),e.require=v.require,e.directiveName=b,(A===v||v.$$isolateScope)&&(e=ee(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=U(t,n,r)),t.require=v.require,t.directiveName=b,(A===v||v.$$isolateScope)&&(t=ee(t,{isolateScope:!0})),u.push(t))}function h(e,t,n,r){var i;if(C(t)){var o=t.match(f);t=t.substring(o[0].length);var s=o[1]||o[3],o="?"===o[2];if("^^"===s?n=n.parent():i=(i=r&&r[t])&&i.instance,i||(r="$"+t+"Controller",i=s?n.inheritedData(r):n.data(r)),!i&&!o)throw Pr("ctreq",t,e)}else if(Qn(t))for(i=[],s=0,o=t.length;o>s;s++)i[s]=h(e,t[s],n,r);return i||null}function m(e,t,n,r,i,o){var s,a=le();for(s in r){var c=r[s],l={$scope:c===A||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]),l=y(u,l,!0,c.controllerAs),a[c.name]=l,j||e.data("$"+c.name+"Controller",l.instance)}return a}function g(e,t,i,s,a,c){function d(e,t,r){var i;return I(e)||(r=t,t=e,e=n),j&&(i=v),r||(r=j?w.parent():w),a(e,t,i,r,x)}var p,f,g,y,v,b,w;if(r===i?(s=o,w=o.$$element):(w=Pn(i),s=new oe(w,o)),A&&(y=t.$new(!0)),a&&(b=d,b.$$boundTransclude=a),k&&(v=m(w,s,b,k,y,t)),A&&(E.$$addScopeInfo(w,y,!0,!(M&&(M===A||M===A.$$originalDirective))),E.$$addScopeClass(w,!0),y.$$isolateBindings=A.$$isolateBindings,re(t,s,y,y.$$isolateBindings,A,y)),v){var S,$=A||O;$&&v[$.name]&&(f=$.$$bindings.bindToController,(g=v[$.name])&&g.identifier&&f&&(S=g,c.$$destroyBindings=re(t,s,g.instance,f,$)));for(p in v){g=v[p];var C=g();C!==g.instance&&(g.instance=C,w.data("$"+p+"Controller",C),g===S&&(c.$$destroyBindings(),c.$$destroyBindings=re(t,s,C,f,$)))}}for(p=0,c=l.length;c>p;p++)f=l[p],te(f,f.isolateScope?y:t,w,s,f.require&&h(f.directiveName,f.require,w,v),b);var x=t;for(A&&(A.template||null===A.templateUrl)&&(x=y),e&&e(x,i.childNodes,n,a),p=u.length-1;p>=0;p--)f=u[p],te(f,f.isolateScope?y:t,w,s,f.require&&h(f.directiveName,f.require,w,v),b)}d=d||{};for(var v,b,w,$,x=-Number.MAX_VALUE,O=d.newScopeDirective,k=d.controllerDirectives,A=d.newIsolateScopeDirective,M=d.templateDirective,L=d.nonTlbTranscludeDirective,N=!1,D=!1,j=d.hasElementTranscludeDirective,P=o.$$element=Pn(r),F=s,Y=0,q=e.length;q>Y;Y++){v=e[Y];var z=v.$$start,K=v.$$end;if(z&&(P=_(r,z,K)),w=n,x>v.priority)break;if((w=v.scope)&&(v.templateUrl||(S(w)?(G("new/isolated scope",A||O,v,P),A=v):G("new/isolated scope",A,v,P)),O=O||v),b=v.name,!v.templateUrl&&v.controller&&(w=v.controller,k=k||le(),G("'"+b+"' controller",k[b],v,P),k[b]=v),(w=v.transclude)&&(N=!0,v.$$tlb||(G("transclusion",L,v,P),L=v),"element"==w?(j=!0,x=v.priority,w=P,P=o.$$element=Pn(t.createComment(" "+b+": "+o[b]+" ")),r=P[0],Q(a,Bn.call(w,0),r),F=E(w,s,x,c&&c.name,{nonTlbTranscludeDirective:L})):(w=Pn(ge(r)).contents(),P.empty(),F=E(w,s))),v.template)if(D=!0,G("template",M,v,P),M=v,w=T(v.template)?v.template(P,o):v.template,w=ce(w),v.replace){if(c=v,w=vr.test(w)?Ze(Z(v.templateNamespace,tr(w))):[],r=w[0],1!=w.length||r.nodeType!==cr)throw Pr("tplrt",b,"");Q(a,P,r),q={$attr:{}},w=R(r,[],q);var X=e.splice(Y+1,e.length-(Y+1));A&&V(w),e=e.concat(w).concat(X),B(o,q),q=e.length}else P.html(w);if(v.templateUrl)D=!0,G("template",M,v,P),M=v,v.replace&&(c=v),g=W(e.splice(Y,e.length-Y),P,o,a,N&&F,l,u,{controllerDirectives:k,newScopeDirective:O!==v&&O,newIsolateScopeDirective:A,templateDirective:M,nonTlbTranscludeDirective:L}),q=e.length;else if(v.compile)try{$=v.compile(P,o,F),T($)?p(null,$,z,K):$&&p($.pre,$.post,z,K)}catch(J){i(J,H(P))}v.terminal&&(g.terminal=!0,x=Math.max(x,v.priority))}return g.scope=O&&!0===O.scope,g.transcludeOnThisElement=N,g.templateOnThisElement=D,g.transclude=F,d.hasElementTranscludeDirective=j,g}function V(e){for(var t=0,n=e.length;n>t;t++)e[t]=h(e[t],{$$isolateScope:!0})}function Y(t,r,o,s,a,l,u){if(r===a)return null;if(a=null,c.hasOwnProperty(r)){var d;r=e.get(r+"Directive");for(var p=0,f=r.length;f>p;p++)try{d=r[p],(s===n||s>d.priority)&&-1!=d.restrict.indexOf(o)&&(l&&(d=h(d,{$$start:l,$$end:u})),t.push(d),a=d)}catch(m){i(m)}}return a}function q(t){if(c.hasOwnProperty(t))for(var n=e.get(t+"Directive"),r=0,i=n.length;i>r;r++)if(t=n[r],t.multiElement)return!0;return!1}function B(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(M(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function W(e,t,n,r,i,a,c,l){var u,d,p=[],f=t[0],m=e.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=T(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,v=m.templateNamespace;return t.empty(),s(y).then(function(s){var h,b;if(s=ce(s),m.replace){if(s=vr.test(s)?Ze(Z(v,tr(s))):[],h=s[0],1!=s.length||h.nodeType!==cr)throw Pr("tplrt",m.name,y);s={$attr:{}},Q(r,t,h);var w=R(h,[],s);S(m.scope)&&V(w),e=w.concat(e),B(n,s)}else h=f,t.html(s);for(e.unshift(g),u=F(e,h,n,i,t,m,a,c,l),o(r,function(e,n){e==h&&(r[n]=t[0])}),d=L(t[0].childNodes,i);p.length;){s=p.shift(),b=p.shift();var $=p.shift(),C=p.shift(),w=t[0];if(!s.$$destroyed){if(b!==f){var x=b.className;l.hasElementTranscludeDirective&&m.replace||(w=ge(h)),Q($,Pn(b),w),M(Pn(w),x)}b=u.transcludeOnThisElement?j(s,u.transclude,C):C,u(d,s,w,r,b,u)}}p=null}),function(e,t,n,r,i){e=i,t.$$destroyed||(p?p.push(t,n,r,e):(u.transcludeOnThisElement&&(e=j(t,u.transclude,i)),u(d,t,n,r,e,u)))}}function z(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function G(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Pr("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,H(r))}function K(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&E.$$addBindingClass(e),function(e,r){var i=r.parent();t||E.$$addBindingClass(i),E.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){r[0].nodeValue=e})}}})}function Z(e,n){switch(e=Vn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function X(e,t){if("srcdoc"==t)return O.HTML;var n=N(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?O.RESOURCE_URL:void 0}function J(e,t,n,i,o){var s=X(e,i);o=p[i]||o;var a=r(n,!0,s,o);if(a){if("multiple"===i&&"select"===N(e))throw Pr("selmulti",H(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){if(t=c.$$observers||(c.$$observers={}),v.test(i))throw Pr("nodomevents");var l=c[i];l!==n&&(a=l&&r(l,!0,s,o),n=l),a&&(c[i]=a(e),(t[i]||(t[i]=[])).$$inter=!0,(c.$$observers&&c.$$observers[i].$$scope||e).$watch(a,function(e,t){"class"===i&&e!=t?c.$updateClass(e,t):c.$set(i,e)}))}}}})}}function Q(e,n,r){var i,o,s=n[0],a=n.length,c=s.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==s){e[i++]=r,o=i+a-1;for(var l=e.length;l>i;i++,o++)l>o?e[i]=e[o]:delete e[i];e.length-=a-1,e.context===s&&(e.context=r);break}for(c&&c.replaceChild(r,s),e=t.createDocumentFragment(),e.appendChild(s),Pn.hasData(s)&&(Pn(r).data(Pn(s).data()),_n?(Jn=!0,_n.cleanData([s])):delete Pn.cache[s[Pn.expando]]),s=1,a=n.length;a>s;s++)c=n[s],Pn(c).remove(),e.appendChild(c),delete n[s];n[0]=r,n.length=1}function ee(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function te(e,t,n,r,o,s){try{e(t,n,r,o,s)}catch(a){i(a,H(n))}}function re(e,t,n,i,s,c){var l;return o(i,function(i,o){var c,u,d,p,f=i.attrName,h=i.optional;switch(i.mode){case"@":h||Yn.call(t,f)||(n[o]=t[f]=void 0),t.$observe(f,function(e){C(e)&&(n[o]=e)}),t.$$observers[f].$$scope=e,C(t[f])&&(n[o]=r(t[f])(e));break;case"=":if(!Yn.call(t,f)){if(h)break;t[f]=void 0}if(h&&!t[f])break;u=a(t[f]),p=u.literal?P:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw c=n[o]=u(e),Pr("nonassign",t[f],s.name)},c=n[o]=u(e),h=function(t){return p(t,n[o])||(p(t,c)?d(e,t=n[o]):n[o]=t),c=t},h.$stateful=!0,h=i.collection?e.$watchCollection(t[f],h):e.$watch(a(t[f],h),null,u.literal),l=l||[],l.push(h);break;case"&":if(u=t.hasOwnProperty(f)?a(t[f]):m,u===m&&h)break;n[o]=function(t){return u(e,t)}}}),i=l?function(){for(var e=0,t=l.length;t>e;++e)l[e]()}:m,c&&i!==m?(c.$on("$destroy",i),m):i}var oe=function(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e};oe.prototype={$normalize:Ge,$addClass:function(e){e&&0<e.length&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ke(e,t);n&&n.length&&k.addClass(this.$$element,n),(n=Ke(t,e))&&n.length&&k.removeClass(this.$$element,n)},$set:function(e,t,r,s){var a=this.$$element[0],c=Ee(a,e),l=Le(a,e),a=e;if(c?(this.$$element.prop(e,t),s=c):l&&(this[l]=t,a=l),this[e]=t,s?this.$attr[e]=s:(s=this.$attr[e])||(this.$attr[e]=s=ne(e,"-")),c=N(this.$$element),"a"===c&&"href"===e||"img"===c&&"src"===e)this[e]=t=A(t,"src"===e);else if("img"===c&&"srcset"===e){for(var c="",l=tr(t),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(l)?u:/(,)/,l=l.split(u),u=Math.floor(l.length/2),d=0;u>d;d++)var p=2*d,c=c+A(tr(l[p]),!0),c=c+(" "+tr(l[p+1]));l=tr(l[2*d]).split(/\s/),c+=A(tr(l[0]),!0),2===l.length&&(c+=" "+tr(l[1])),this[e]=t=c}!1!==r&&(null===t||t===n?this.$$element.removeAttr(s):this.$$element.attr(s,t)),(e=this.$$observers)&&o(e[a],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=le()),i=r[e]||(r[e]=[]);return i.push(t),w.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){D(i,t)}}};var se=r.startSymbol(),ae=r.endSymbol(),ce="{{"==se||"}}"==ae?g:function(e){return e.replace(/\{\{/g,se).replace(/}}/g,ae)},ue=/^ngAttr[A-Z]/;return E.$$addBindingInfo=$?function(e,t){var n=e.data("$binding")||[];Qn(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,E.$$addBindingClass=$?function(e){M(e,"ng-binding")}:m,E.$$addScopeInfo=$?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:m,E.$$addScopeClass=$?function(e,t){M(e,t?"ng-isolate-scope":"ng-scope")}:m,E}]}function Ge(e){return pe(e.replace(_r,""))}function Ke(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),o=0;e:for(;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue e;n+=(0<n.length?" ":"")+s}return n}function Ze(e){e=Pn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Hn.call(e,t,1);return e}function Xe(){var e={},t=!1;this.register=function(t,n){se(t,"controller"),S(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function s(e,t,n,i){if(!e||!S(e.$scope))throw r("$controller")("noscp",i,t);e.$scope[t]=n}return function(r,a,c,l){var u,p,f;if(c=!0===c,l&&C(l)&&(f=l),C(r)){if(l=r.match(Fr),!l)throw Ur("ctrlfmt",r);p=l[1],f=f||l[3],r=e.hasOwnProperty(p)?e[p]:ae(a.$scope,p,!0)||(t?ae(o,p,!0):n),oe(r,p,!0)}return c?(c=(Qn(r)?r[r.length-1]:r).prototype,u=Object.create(c||null),f&&s(a,f,u,p||r.name),d(function(){var e=i.invoke(r,u,a,p);return e!==u&&(S(e)||T(e))&&(u=e,f&&s(a,f,u,p||r.name)),u},{instance:u,identifier:f})):(u=i.instantiate(r,a,p),f&&s(a,f,u,p||r.name),u)}}]}function Je(){this.$get=["$window",function(e){return Pn(e.document)}]}function Qe(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function et(e){return S(e)?O(e)?e.toISOString():V(e):e}function tt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return s(e,function(e,n){null===e||b(e)||(Qn(e)?o(e,function(e,r){t.push(Z(n)+"="+Z(et(e)))}):t.push(Z(n)+"="+Z(et(e))))}),t.join("&")}}}function nt(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(Qn(e)?o(e,function(e,n){t(e,r+"["+(S(e)?n:"")+"]")}):S(e)&&!O(e)?s(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(Z(r)+"="+Z(et(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function rt(e,t){if(C(e)){var n=e.replace(Wr,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(Yr))||(r=(r=n.match(Br))&&Hr[r[0]].test(n)),r&&(e=Y(n))}}return e}function it(e){var t,n=le();return C(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var r=Vn(tr(e.substr(0,t)));e=tr(e.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+e:e)}):S(e)&&o(e,function(e,t){var r=Vn(t),i=tr(e);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function ot(e){var t;return function(n){return t||(t=it(e)),n?(n=t[Vn(n)],void 0===n&&(n=null),n):t}}function st(e,t,n,r){return T(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function at(){var e=this.defaults={transformResponse:[rt],transformRequest:[function(e){return S(e)&&"[object File]"!==zn.call(e)&&"[object Blob]"!==zn.call(e)&&"[object FormData]"!==zn.call(e)?V(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(qr),put:R(qr),patch:R(qr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return w(e)?(i=!!e,this):i};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,c,l,u,p,f){function h(t){function s(e){var t=d({},e);return t.data=e.data?st(e.data,e.headers,e.status,c.transformResponse):e.data,e=e.status,e>=200&&300>e?t:p.reject(t)}function a(e,t){var n,r={};return o(e,function(e,i){T(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}if(!Zn.isObject(t))throw r("$http")("badreq",t);var c=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=function(t){var n,r,i,o=e.headers,s=d({},t.headers),o=d({},o.common,o[Vn(t.method)]);e:for(n in o){r=Vn(n);for(i in s)if(Vn(i)===r)continue e;s[n]=o[n]}return a(s,R(t))}(t),c.method=qn(c.method),c.paramSerializer=C(c.paramSerializer)?f.get(c.paramSerializer):c.paramSerializer;var l=[function(t){var r=t.headers,i=st(t.data,ot(r),n,t.transformRequest);return b(i)&&o(r,function(e,t){"content-type"===Vn(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,i).then(s,s)},n],u=p.when(c);for(o(v,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var h=l.shift(),u=u.then(t,h)}return i?(u.success=function(e){return oe(e,"fn"),u.then(function(t){e(t.data,t.status,t.headers,c)}),u},u.error=function(e){return oe(e,"fn"),u.then(null,function(t){e(t.data,t.status,t.headers,c)}),u}):(u.success=Gr("success"),u.error=Gr("error")),u}function m(r,i){function o(e,n,r,i){function o(){s(n,e,r,i)}f&&(e>=200&&300>e?f.put(x,[e,n,it(r),i]):f.remove(x)),t?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function s(e,t,n,i){t=Math.max(t,0),(t>=200&&300>t?v.resolve:v.reject)({data:e,status:t,headers:ot(n),config:r,statusText:i})}function l(e){s(e.data,e.status,R(e.headers()),e.statusText)}function d(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var f,m,v=p.defer(),$=v.promise,C=r.headers,x=g(r.url,r.paramSerializer(r.params));return h.pendingRequests.push(r),$.then(d,d),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(f=S(r.cache)?r.cache:S(e.cache)?e.cache:y),f&&(m=f.get(x),w(m)?m&&T(m.then)?m.then(l,l):Qn(m)?s(m[1],m[0],R(m[2]),m[3]):s(m,200,{},"OK"):f.put(x,$)),b(m)&&((m=nn(r.url)?c()[r.xsrfCookieName||e.xsrfCookieName]:n)&&(C[r.xsrfHeaderName||e.xsrfHeaderName]=m),a(r.method,x,i,o,C,r.timeout,r.withCredentials,r.responseType)),$}function g(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var y=l("$http");e.paramSerializer=C(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var v=[];return o(s,function(e){v.unshift(C(e)?f.get(e):f.invoke(e))}),h.pendingRequests=[],function(e){o(arguments,function(e){h[e]=function(t,n){return h(d({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){h[e]=function(t,n,r){return h(d({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function ct(){return new e.XMLHttpRequest}function lt(){this.$get=["$browser","$window","$document",function(e,t,n){return ut(e,ct,e.defer,t.angular.callbacks,n[0])}]}function ut(e,t,r,i,s){function a(e,t,n){var r=s.createElement("script"),o=null;return r.type="text/javascript",r.src=e,r.async=!0,o=function(e){r.removeEventListener("load",o,!1),r.removeEventListener("error",o,!1),s.body.removeChild(r),r=null;var a=-1,c="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),c=e.type,a="error"===e.type?404:200),n&&n(a,c);
},r.addEventListener("load",o,!1),r.addEventListener("error",o,!1),s.body.appendChild(r),o}return function(s,c,l,u,d,p,f,h){function g(){b&&b(),S&&S.abort()}function y(t,i,o,s,a){C!==n&&r.cancel(C),b=S=null,t(i,o,s,a),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==Vn(s)){var v="_"+(i.counter++).toString(36);i[v]=function(e){i[v].data=e,i[v].called=!0};var b=a(c.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){y(u,e,i[v].data,"",t),i[v]=m})}else{var S=t();if(S.open(s,c,!0),o(d,function(e,t){w(e)&&S.setRequestHeader(t,e)}),S.onload=function(){var e=S.statusText||"",t="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=t?200:"file"==tn(c).protocol?404:0),y(u,n,t,S.getAllResponseHeaders(),e)},s=function(){y(u,-1,null,null,"")},S.onerror=s,S.onabort=s,f&&(S.withCredentials=!0),h)try{S.responseType=h}catch($){if("json"!==h)throw $}S.send(l)}if(p>0)var C=r(g,p);else p&&T(p.then)&&p.then(g)}}function dt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function s(n){return n.replace(u,e).replace(p,t)}function a(o,a,u,p){function f(e){try{var t=e;e=u?i.getTrusted(u,t):i.valueOf(t);var n;if(p&&!w(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=V(e)}n=e}return n}catch(s){r(Kr.interr(o,s))}}p=!!p;for(var h,m,g=0,y=[],v=[],S=o.length,$=[],C=[];S>g;){if(-1==(h=o.indexOf(e,g))||-1==(m=o.indexOf(t,h+c))){g!==S&&$.push(s(o.substring(g)));break}g!==h&&$.push(s(o.substring(g,h))),g=o.substring(h+c,m),y.push(g),v.push(n(g,f)),g=m+l,C.push($.length),$.push("")}if(u&&1<$.length&&Kr.throwNoconcat(o),!a||y.length){var x=function(e){for(var t=0,n=y.length;n>t;t++){if(p&&b(e[t]))return;$[C[t]]=e[t]}return $.join("")};return d(function(e){var t=0,n=y.length,i=Array(n);try{for(;n>t;t++)i[t]=v[t](e);return x(i)}catch(s){r(Kr.interr(o,s))}},{exp:o,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(v,function(r,i){var o=x(r);T(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var c=e.length,l=t.length,u=new RegExp(e.replace(/./g,o),"g"),p=new RegExp(t.replace(/./g,o),"g");return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function pt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,s,a,c){var l=4<arguments.length,u=l?Bn.call(arguments,4):[],d=t.setInterval,p=t.clearInterval,f=0,h=w(c)&&!c,m=(h?r:n).defer(),g=m.promise;return a=w(a)?a:0,g.then(null,null,l?function(){i.apply(null,u)}:i),g.$$intervalId=d(function(){m.notify(f++),a>0&&f>=a&&(m.resolve(f),p(g.$$intervalId),delete o[g.$$intervalId]),h||e.$apply()},s),o[g.$$intervalId]=m,g}var o={};return i.cancel=function(e){return e&&e.$$intervalId in o?(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0):!1},i}]}function ft(e){e=e.split("/");for(var t=e.length;t--;)e[t]=K(e[t]);return e.join("/")}function ht(e,t){var n=tn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Xr[n.protocol]||null}function mt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=tn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function gt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function yt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function vt(e){return e.replace(/(#.+)|#$/,"$1")}function bt(e,t,r){this.$$html5=!0,r=r||"",ht(e,this),this.$$parse=function(e){var n=gt(t,e);if(!C(n))throw Jr("ipthprfx",e,t);mt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ft(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var s,a;return(s=gt(e,i))!==n?(a=s,a=(s=gt(r,s))!==n?t+(gt("/",s)||s):e+a):(s=gt(t,i))!==n?a=t+s:t==i+"/"&&(a=t),a&&this.$$parse(a),!!a}}function wt(e,t,n){ht(e,this),this.$$parse=function(r){var i,o=gt(e,r)||gt(t,r);b(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",b(o)&&(e=r,this.replace())):(i=gt(n,o),b(i)&&(i=o)),mt(i,this),r=this.$$path;var o=e,s=/^\/[A-Z]:(\/.*)/;0===i.indexOf(o)&&(i=i.replace(o,"")),s.exec(i)||(r=(i=s.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=G(this.$$search),r=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return yt(e)==yt(t)?(this.$$parse(t),!0):!1}}function St(e,t,n){this.$$html5=!0,wt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return e==yt(r)?o=r:(s=gt(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=G(this.$$search),r=this.$$hash?"#"+K(this.$$hash):"";this.$$url=ft(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function $t(e){return function(){return this[e]}}function Ct(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function xt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):S(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){function a(e,t,n){var i=l.url(),o=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(s){throw l.url(i),l.$$state=o,s}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u;u=r.baseHref();var d,p=r.url();if(t.enabled){if(!u&&t.requireBase)throw Jr("nobase");d=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(u||"/"),u=i.history?bt:St}else d=yt(p),u=wt;var f=d.substr(0,yt(d).lastIndexOf("/")+1);l=new u(d,f,"#"+e),l.$$parseLinkUrl(p,p),l.$$state=r.state();var h=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Pn(e.target);"a"!==N(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var a=i.prop("href"),c=i.attr("href")||i.attr("xlink:href");S(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=tn(a.animVal).href),h.test(a)||!a||i.attr("target")||e.isDefaultPrevented()||!l.$$parseLinkUrl(a,c)||(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),vt(l.absUrl())!=vt(p)&&r.url(l.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){b(gt(f,e))?s.location.href=e:(n.$evalAsync(function(){var r,i=l.absUrl(),o=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=o,a(i,!1,o)):(m=!1,c(i,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=vt(r.url()),t=vt(l.absUrl()),o=r.state(),s=l.$$replace,u=e!==t||l.$$html5&&i.history&&o!==l.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,o).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=o):(u&&a(t,s,o===l.$$state?null:l.$$state),c(e,o)))})),l.$$replace=!1}),l}]}function Ot(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m;e=!1;try{e=!!i.apply}catch(s){}return e?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Tt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ei("isecfld",t);return e}function kt(e,t){if(e){if(e.constructor===e)throw ei("isecfn",t);if(e.window===e)throw ei("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ei("isecdom",t);if(e===Object)throw ei("isecobj",t)}return e}function At(e,t){if(e){if(e.constructor===e)throw ei("isecfn",t);if(e===ti||e===ni||e===ri)throw ei("isecff",t)}}function It(e,t){return"undefined"!=typeof e?e:t}function Mt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Et(e,t){var n,r;switch(e.type){case ai.Program:n=!0,o(e.body,function(e){Et(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case ai.Literal:e.constant=!0,e.toWatch=[];break;case ai.UnaryExpression:Et(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ai.BinaryExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ai.LogicalExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ai.ConditionalExpression:Et(e.test,t),Et(e.alternate,t),Et(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ai.Identifier:e.constant=!1,e.toWatch=[e];break;case ai.MemberExpression:Et(e.object,t),e.computed&&Et(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ai.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,r=[],o(e.arguments,function(e){Et(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?r:[e];break;case ai.AssignmentExpression:Et(e.left,t),Et(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ai.ArrayExpression:n=!0,r=[],o(e.elements,function(e){Et(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case ai.ObjectExpression:n=!0,r=[],o(e.properties,function(e){Et(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case ai.ThisExpression:e.constant=!1,e.toWatch=[]}}function Lt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Nt(e){return e.type===ai.Identifier||e.type===ai.MemberExpression}function Dt(e){return 1===e.body.length&&Nt(e.body[0].expression)?{type:ai.AssignmentExpression,left:e.body[0].expression,right:{type:ai.NGValueParameter},operator:"="}:void 0}function jt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===ai.Literal||e.body[0].expression.type===ai.ArrayExpression||e.body[0].expression.type===ai.ObjectExpression)}function Rt(e,t){this.astBuilder=e,this.$filter=t}function Pt(e,t){this.astBuilder=e,this.$filter=t}function _t(e){return"constructor"==e}function Ut(e){return T(e.valueOf)?e.valueOf():li.call(e)}function Ft(){var e=le(),t=le();this.$get=["$filter",function(r){function i(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Ut(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function s(e,t,r,o,s){var a,c=o.inputs;if(1===c.length){var l=i,c=c[0];return e.$watch(function(e){var t=c(e);return i(t,l)||(a=o(e,n,n,[t]),l=t&&Ut(t)),a},t,r,s)}for(var u=[],d=[],p=0,f=c.length;f>p;p++)u[p]=i,d[p]=null;return e.$watch(function(e){for(var t=!1,r=0,s=c.length;s>r;r++){var l=c[r](e);(t||(t=!i(l,u[r])))&&(d[r]=l,u[r]=l&&Ut(l))}return t&&(a=o(e,n,n,d)),a},t,r,s)}function a(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,T(t)&&t.apply(this,arguments),w(e)&&r.$$postDigest(function(){w(o)&&i()})},n)}function c(e,t,n,r){function i(e){var t=!0;return o(e,function(e){w(e)||(t=!1)}),t}var s,a;return s=e.$watch(function(e){return r(e)},function(e,n,r){a=e,T(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(a)&&s()})},n)}function l(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){T(t)&&t.apply(this,arguments),i()},n)}function u(e,t){if(!t)return e;var n=e.$$watchDelegate,n=n!==c&&n!==a?function(n,r,i,o){return i=e(n,r,i,o),t(i,n,r)}:function(n,r,i,o){return i=e(n,r,i,o),n=t(i,n,r),w(i)?n:i};return e.$$watchDelegate&&e.$$watchDelegate!==s?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=s,n.inputs=e.inputs?e.inputs:[e]),n}var d=rr().noUnsafeEval,p={csp:d,expensiveChecks:!1},f={csp:d,expensiveChecks:!0};return function(n,i,o){var d,h,g;switch(typeof n){case"string":g=n=n.trim();var y=o?t:e;return d=y[g],d||(":"===n.charAt(0)&&":"===n.charAt(1)&&(h=!0,n=n.substring(2)),o=o?f:p,d=new si(o),d=new ci(d,r,o).parse(n),d.constant?d.$$watchDelegate=l:h?d.$$watchDelegate=d.literal?c:a:d.inputs&&(d.$$watchDelegate=s),y[g]=d),u(d,i);case"function":return u(n,i);default:return m}}}]}function Vt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return qt(function(t){e.$evalAsync(t)},t)}]}function Yt(){this.$get=["$browser","$exceptionHandler",function(e,t){return qt(function(t){e.defer(t)},t)}]}function qt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function s(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function c(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,e(function(){var e,i,o;o=r.pending,r.processScheduled=!1,r.pending=n;for(var s=0,a=o.length;a>s;++s){i=o[s][0],e=o[s][r.status];try{T(e)?i.resolve(e(r.value)):1===r.status?i.resolve(r.value):i.reject(r.value)}catch(c){i.reject(c),t(c)}}}))}function l(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var u=r("$q",TypeError);d(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&c(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return f(t,!0,e)},function(t){return f(t,!1,e)},t)}}),d(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(u("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(S(e)||T(e))&&(n=e&&e.then),T(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,c(this.promise.$$state))}catch(o){r[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,o=0,s=r.length;s>o;o++){i=r[o][0],e=r[o][3];try{i.notify(T(e)?e(n):n)}catch(a){t(a)}}})}});var p=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},f=function(e,t,n){var r=null;try{T(n)&&(r=n())}catch(i){return p(i,!1)}return r&&T(r.then)?r.then(function(){return p(e,t)},function(e){return p(e,!1)}):p(e,t)},h=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},m=function g(e){if(!T(e))throw u("norslvr",e);if(!(this instanceof g))return new g(e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return m.defer=function(){return new l},m.reject=function(e){var t=new l;return t.reject(e),t.promise},m.when=h,m.resolve=h,m.all=function(e){var t=new l,n=0,r=Qn(e)?[]:{};return o(e,function(e,i){n++,h(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise},m}function Bt(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}l=u.length=0}function r(e){var t=u.length;return l++,u.push(e),0===t&&(c=a(n)),function(){t>=0&&(t=u[t]=null,0===--l&&c&&(c(),c=null,u.length=0))}}var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,s=!!i,a=s?function(e){var t=i(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=s;var c,l=0,u=[];return r}]}function Ht(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Xn,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),s=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,c,l,u){function d(e){e.currentScope.$$destroyed=!0}function p(){this.$id=++Xn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if($.$$phase)throw n("inprog",$.$$phase);$.$$phase=e}function h(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function y(){}function v(){for(;O.length;)try{O.shift()()}catch(e){c(e)}a=null}function w(){null===a&&(a=u.defer(function(){$.$apply(v)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=l(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,a=o.$$watchers,c={fn:t,last:y,get:i,exp:r||e,eq:!!n};return s=null,T(t)||(c.fn=m),a||(a=o.$$watchers=[]),a.unshift(c),h(this,1),function(){0<=D(a,c)&&h(o,-1),s=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(i,i,a)):t(i,r,a)}var r=Array(e.length),i=Array(e.length),s=[],a=this,c=!1,l=!0;if(!e.length){var u=!0;return a.$evalAsync(function(){u&&t(i,i,a)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=a.$watch(e,function(e,o){i[t]=e,r[t]=o,c||(c=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,s,a;if(!b(r)){if(S(r))if(i(r))for(o!==p&&(o=p,m=o.length=0,u++),e=r.length,m!==e&&(u++,o.length=m=e),t=0;e>t;t++)a=o[t],s=r[t],n=a!==a&&s!==s,n||a===s||(u++,o[t]=s);else{o!==f&&(o=f={},m=0,u++),e=0;for(t in r)r.hasOwnProperty(t)&&(e++,s=r[t],a=o[t],t in o?(n=a!==a&&s!==s,n||a===s||(u++,o[t]=s)):(m++,o[t]=s,u++));if(m>e)for(t in u++,o)r.hasOwnProperty(t)||(m--,delete o[t])}else o!==r&&(o=r,u++);return u}}n.$stateful=!0;var r,o,s,a=this,c=1<t.length,u=0,d=l(e,n),p=[],f={},h=!0,m=0;return this.$watch(d,function(){if(h?(h=!1,t(r,r,a)):t(r,s,a),c)if(S(r))if(i(r)){s=Array(r.length);for(var e=0;e<r.length;e++)s[e]=r[e]}else for(e in s={},r)Yn.call(r,e)&&(s[e]=r[e]);else s=r})},$digest:function(){var e,r,i,o,l,d,p,h,m,g=t,b=[];f("$digest"),u.$$checkUrlChange(),this===$&&null!==a&&(u.defer.cancel(a),v()),s=null;do{for(d=!1,p=this;C.length;){try{m=C.shift(),m.scope.$eval(m.expression,m.locals)}catch(w){c(w)}s=null}e:do{if(o=p.$$watchers)for(l=o.length;l--;)try{if(e=o[l])if((r=e.get(p))===(i=e.last)||(e.eq?P(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===s){d=!1;break e}}else d=!0,s=e,e.last=e.eq?j(r,null):r,e.fn(r,i===y?r:i,p),5>g&&(h=4-g,b[h]||(b[h]=[]),b[h].push({msg:T(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(S){c(S)}if(!(o=p.$$watchersCount&&p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(o=p.$$nextSibling);)p=p.$parent}while(p=o);if((d||C.length)&&!g--)throw $.$$phase=null,n("infdig",t,b)}while(d||C.length);for($.$$phase=null;x.length;)try{x.shift()()}catch(O){c(O)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$&&u.$$applicationDestroyed(),h(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){$.$$phase||C.length||u.defer(function(){C.length&&$.$digest()}),C.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){x.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{$.$$phase=null}}catch(t){c(t)}finally{try{$.$digest()}catch(n){throw c(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&O.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,g(i,1,e))}},$emit:function(e,t){var n,r,i,o=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=_([l],arguments,1);do{for(n=s.$$listeners[e]||o,l.currentScope=s,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,u)}catch(d){c(d)}else n.splice(r,1),r--,i--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var o,s,a=_([i],arguments,1);n=r;){for(i.currentScope=n,r=n.$$listeners[e]||[],o=0,s=r.length;s>o;o++)if(r[o])try{r[o].apply(null,a)}catch(l){c(l)}else r.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var $=new p,C=$.$$asyncQueue=[],x=$.$$postDigestQueue=[],O=$.$$applyAsyncQueue=[];return $}]}function Wt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=tn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function zt(e){if("self"===e)return e;if(C(e)){if(-1<e.indexOf("***"))throw ui("iwcard",e);return e=nr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw ui("imatcher")}function Gt(e){var t=[];return w(e)&&o(e,function(e){t.push(zt(e))}),t}function Kt(){this.SCE_CONTEXTS=di;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Gt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Gt(e)),t},this.$get=["$injector",function(r){function i(e,t){return"self"===e?nn(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw ui("unsafe")};r.has("$sanitize")&&(s=r.get("$sanitize"));var a=o(),c={};return c[di.HTML]=o(a),c[di.CSS]=o(a),c[di.URL]=o(a),c[di.JS]=o(a),c[di.RESOURCE_URL]=o(c[di.URL]),{trustAs:function(e,t){var r=c.hasOwnProperty(e)?c[e]:null;if(!r)throw ui("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ui("itype",e);return new r(t)},getTrusted:function(r,o){if(null===o||o===n||""===o)return o;var a=c.hasOwnProperty(r)?c[r]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(r===di.RESOURCE_URL){var l,u,a=tn(o.toString()),d=!1;for(l=0,u=e.length;u>l;l++)if(i(e[l],a)){d=!0;break}if(d)for(l=0,u=t.length;u>l;l++)if(i(t[l],a)){d=!1;break}if(d)return o;throw ui("insecurl",o.toString())}if(r===di.HTML)return s(o);throw ui("unsafe")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Zt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Rn)throw ui("iequirks");var r=R(di);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,s=r.getTrusted,a=r.trustAs;return o(di,function(e,t){var n=Vn(t);r[pe("parse_as_"+n)]=function(t){return i(e,t)},r[pe("get_trusted_"+n)]=function(t){return s(e,t)},r[pe("trust_as_"+n)]=function(t){return a(e,t)}}),r}]}function Xt(){this.$get=["$window","$document",function(e,t){var n,r={},i=f((/android (\d+)/.exec(Vn((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,l=!1,u=!1;if(c){for(var d in c)if(l=a.exec(d)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),l=!!("transition"in c||n+"Transition"in c),u=!!("animation"in c||n+"Animation"in c),!i||l&&u||(l=C(c.webkitTransition),u=C(c.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||o),hasEvent:function(e){if("input"===e&&11>=Rn)return!1;if(b(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:rr(),vendorPrefix:n,transitions:l,animations:u,android:i}}]}function Jt(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(o,s){i.totalPendingRequests++,C(o)&&e.get(o)||(o=r.getTrustedResourceUrl(o));var a=t.defaults&&t.defaults.transformResponse;return Qn(a)?a=a.filter(function(e){return e!==rt}):a===rt&&(a=null),t.get(o,{cache:e,transformResponse:a})["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(o,t.data),t.data},function(e){if(!s)throw Pr("tpload",o,e.status,e.statusText);return n.reject(e)})}return i.totalPendingRequests=0,i}]}function Qt(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return o(e,function(e){var i=Zn.element(e).data("$binding");i&&o(i,function(i){n?new RegExp("(^|\\s)"+nr(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!=i.indexOf(t)&&r.push(e)})}),r},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function en(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,a,c){T(o)||(c=a,a=o,o=m);var l,u=Bn.call(arguments,3),d=w(c)&&!c,p=(d?r:n).defer(),f=p.promise;return l=t.defer(function(){try{p.resolve(o.apply(null,u))}catch(t){p.reject(t),i(t)}finally{delete s[f.$$timeoutId]}d||e.$apply()},a),f.$$timeoutId=l,s[l]=p,f}var s={};return o.cancel=function(e){return e&&e.$$timeoutId in s?(s[e.$$timeoutId].reject("canceled"),delete s[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function tn(e){return Rn&&(pi.setAttribute("href",e),e=pi.href),pi.setAttribute("href",e),{href:pi.href,protocol:pi.protocol?pi.protocol.replace(/:$/,""):"",host:pi.host,search:pi.search?pi.search.replace(/^\?/,""):"",hash:pi.hash?pi.hash.replace(/^#/,""):"",hostname:pi.hostname,port:pi.port,pathname:"/"===pi.pathname.charAt(0)?pi.pathname:"/"+pi.pathname}}function nn(e){return e=C(e)?tn(e):e,e.protocol===fi.protocol&&e.host===fi.host}function rn(){this.$get=y(e)}function on(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},i={},o="";return function(){var e,s,a,c,l;if(e=r.cookie||"",e!==o)for(o=e,e=o.split("; "),i={},a=0;a<e.length;a++)s=e[a],c=s.indexOf("="),c>0&&(l=t(s.substring(0,c)),i[l]===n&&(i[l]=t(s.substring(c+1))));return i}}function sn(){this.$get=on}function an(e){function t(n,r){if(S(n)){var i={};return o(n,function(e,n){i[n]=t(n,e)}),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",pn),t("date",Sn),t("filter",cn),t("json",$n),t("limitTo",Cn),t("lowercase",vi),t("number",fn),t("orderBy",xn),t("uppercase",bi)}function cn(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray",e)}var o;switch(dn(t)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":t=ln(t,n,o);break;default:return e}return Array.prototype.filter.call(e,t)}}function ln(e,t,n){var r=S(e)&&"$"in e;return!0===t?t=P:T(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:S(t)||S(e)&&!v(e)?!1:(e=Vn(""+e),t=Vn(""+t),-1!==e.indexOf(t))}),function(i){return r&&!S(i)?un(i,e.$,t,!1):un(i,e,t,n)}}function un(e,t,n,r,i){var o=dn(e),s=dn(t);if("string"===s&&"!"===t.charAt(0))return!un(e,t.substring(1),n,r);if(Qn(e))return e.some(function(e){return un(e,t,n,r)});switch(o){case"object":var a;if(r){for(a in e)if("$"!==a.charAt(0)&&un(e[a],t,n,!0))return!0;return i?!1:un(e,t,n,!1)}if("object"===s){for(a in t)if(i=t[a],!T(i)&&!b(i)&&(o="$"===a,!un(o?e:e[a],i,n,o,o)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function dn(e){return null===e?"null":typeof e}function pn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function hn(e,t,n,r,i){if(S(e))return"";var o=0>e;e=Math.abs(e);var s=1/0===e;if(!s&&!isFinite(e))return"";var a=e+"",c="",l=!1,u=[];if(s&&(c="∞"),!s&&-1!==a.indexOf("e")){var d=a.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>i+1?e=0:(c=a,l=!0)}if(s||l)i>0&&1>e&&(c=e.toFixed(i),e=parseFloat(c));else{s=(a.split(hi)[1]||"").length,b(i)&&(i=Math.min(Math.max(t.minFrac,s),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var s=(""+e).split(hi),a=s[0],s=s[1]||"",d=0,p=t.lgSize,f=t.gSize;if(a.length>=p+f)for(d=a.length-p,l=0;d>l;l++)0===(d-l)%f&&0!==l&&(c+=n),c+=a.charAt(l);for(l=d;l<a.length;l++)0===(a.length-l)%p&&0!==l&&(c+=n),c+=a.charAt(l);for(;s.length<i;)s+="0";i&&"0"!==i&&(c+=r+s.substr(0,i))}return 0===e&&(o=!1),u.push(o?t.negPre:t.posPre,c,o?t.negSuf:t.posSuf),u.join("")}function mn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function gn(e,t,n,r){return n=n||0,function(i){return i=i["get"+e](),(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),mn(i,t,r)}}function yn(e,t){return function(n,r){var i=n["get"+e](),o=qn(t?"SHORT"+e:e);return r[o][i]}}function vn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t);
}function bn(e){return function(t){var n=vn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),mn(t,e)}}function wn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Sn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,o=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=f(t[9]+t[10]),i=f(t[9]+t[11])),o.call(e,f(t[1]),f(t[2])-1,f(t[3])),r=f(t[4]||0)-r,i=f(t[5]||0)-i,o=f(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),s.call(e,r,i,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var s,a,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,C(n)&&(n=yi.test(n)?f(n):t(n)),x(n)&&(n=new Date(n)),!O(n)||!isFinite(n.getTime()))return n;for(;r;)(a=gi.exec(r))?(l=_(l,a,1),r=l.pop()):(l.push(r),r=null);var u=n.getTimezoneOffset();return i&&(u=q(i,n.getTimezoneOffset()),n=B(n,i,!0)),o(l,function(t){s=mi[t],c+=s?s(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function $n(){return function(e,t){return b(t)&&(t=2),V(e,t)}}function Cn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):f(t),isNaN(t)?e:(x(e)&&(e=e.toString()),Qn(e)||C(e)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function xn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(T(t))i=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant)))var o=i(),i=function(e){return e[o]};return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,r,o){if(!i(e))return e;Qn(r)||(r=[r]),0===r.length&&(r=["+"]);var s=t(r,o);return s.push({get:function(){return{}},descending:o?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:s.map(function(r){var i=r.get(e);return r=typeof i,null===i?(r="string",i="null"):"string"===r?i=i.toLowerCase():"object"===r&&("function"==typeof i.valueOf&&(i=i.valueOf(),n(i))||v(i)&&(i=i.toString(),n(i))||(i=t)),{value:i,type:r}})}}),e.sort(function(e,t){for(var n=0,r=0,i=s.length;i>r;++r){var n=e.predicateValues[r],o=t.predicateValues[r],a=0;if(n.type===o.type?n.value!==o.value&&(a=n.value<o.value?-1:1):a=n.type<o.type?-1:1,n=a*s[r].descending)break}return n}),e=e.map(function(e){return e.value})}}function On(e){return T(e)&&(e={link:e}),e.restrict=e.restrict||"AC",y(e)}function Tn(e,t,r,i,s){var a=this,c=[],l=a.$$parentForm=e.parent().controller("form")||$i;a.$error={},a.$$success={},a.$pending=n,a.$name=s(t.name||t.ngForm||"")(r),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,l.$addControl(a),a.$rollbackViewValue=function(){o(c,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){o(c,function(e){e.$commitViewValue()})},a.$addControl=function(e){se(e.$name,"input"),c.push(e),e.$name&&(a[e.$name]=e)},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(a.$pending,function(t,n){a.$setValidity(n,null,e)}),o(a.$error,function(t,n){a.$setValidity(n,null,e)}),o(a.$$success,function(t,n){a.$setValidity(n,null,e)}),D(c,e)},Dn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(D(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:i}),a.$setDirty=function(){i.removeClass(e,ro),i.addClass(e,io),a.$dirty=!0,a.$pristine=!1,l.$setDirty()},a.$setPristine=function(){i.setClass(e,ro,io+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(c,function(e){e.$setPristine()})},a.$setUntouched=function(){o(c,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,"ng-submitted"),a.$submitted=!0,l.$setSubmitted()}}function kn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function An(e,t,n,r,i,o){var s=Vn(t[0].type);if(!i.android){var a=!1;t.on("compositionstart",function(e){a=!0}),t.on("compositionend",function(){a=!1,c()})}var c=function(e){if(l&&(o.defer.cancel(l),l=null),!a){var i=t.val();e=e&&e.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=tr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",c);else{var l,u=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function In(e,t){return function(n,r){var i,s;if(O(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ti.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){n<t.length&&(s[t[n]]=+e)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function Mn(e,t,r,i){return function(o,s,a,c,l,u,d){function p(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return w(e)?O(e)?e:r(e):n}En(o,s,a,c),An(o,s,a,c,l,u);var h,m=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){return c.$isEmpty(e)?null:t.test(e)?(e=r(e,h),m&&(e=B(e,m)),e):n}),c.$formatters.push(function(e){if(e&&!O(e))throw so("datefmt",e);return p(e)?((h=e)&&m&&(h=B(h,m,!0)),d("date")(e,i,m)):(h=null,"")}),w(a.min)||a.ngMin){var g;c.$validators.min=function(e){return!p(e)||b(g)||r(e)>=g},a.$observe("min",function(e){g=f(e),c.$validate()})}if(w(a.max)||a.ngMax){var y;c.$validators.max=function(e){return!p(e)||b(y)||r(e)<=y},a.$observe("max",function(e){y=f(e),c.$validate()})}}}function En(e,t,r,i){(i.$$hasNativeValidators=S(t[0].validity))&&i.$parsers.push(function(e){var r=t.prop("validity")||{};return r.badInput&&!r.typeMismatch?n:e})}function Ln(e,t,n,r,i){if(w(r)){if(e=e(r),!e.constant)throw so("constexpr",n,r);return e(t)}return i}function Nn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return Qn(e)?(o(e,function(e){t=t.concat(i(e))}),t):C(e)?e.split(" "):S(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(s,a,c){function l(e,t){var n=a.data("$classCounts")||le(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),a.data("$classCounts",n),r.join(" ")}function u(e){if(!0===t||s.$index%2===t){var o=i(e||[]);if(d){if(!P(e,d)){var u=i(d),p=r(o,u),o=r(u,o),p=l(p,1),o=l(o,-1);p&&p.length&&n.addClass(a,p),o&&o.length&&n.removeClass(a,o)}}else{var p=l(o,1);c.$addClass(p)}}d=R(e)}var d;s.$watch(c[e],u,!0),c.$observe("class",function(t){u(s.$eval(c[e]))}),"ngClass"!==e&&s.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var a=i(s.$eval(c[e]));o===t?(o=l(a,1),c.$addClass(o)):(o=l(a,-1),c.$removeClass(o))}})}}}]}function Dn(e){function t(e,t){t&&!s[e]?(u.addClass(o,e),s[e]=!0):!t&&s[e]&&(u.removeClass(o,e),s[e]=!1)}function r(e,n){e=e?"-"+ne(e,"-"):"",t(to+e,!0===n),t(no+e,!1===n)}var i=e.ctrl,o=e.$element,s={},a=e.set,c=e.unset,l=e.parentForm,u=e.$animate;s[no]=!(s[to]=o.hasClass(to)),i.$setValidity=function(e,o,s){o===n?(i.$pending||(i.$pending={}),a(i.$pending,e,s)):(i.$pending&&c(i.$pending,e,s),jn(i.$pending)&&(i.$pending=n)),M(o)?o?(c(i.$error,e,s),a(i.$$success,e,s)):(a(i.$error,e,s),c(i.$$success,e,s)):(c(i.$error,e,s),c(i.$$success,e,s)),i.$pending?(t(oo,!0),i.$valid=i.$invalid=n,r("",null)):(t(oo,!1),i.$valid=jn(i.$error),i.$invalid=!i.$valid,r("",i.$valid)),o=i.$pending&&i.$pending[e]?n:i.$error[e]?!1:i.$$success[e]?!0:null,r(e,o),l.$setValidity(e,o,i)}}function jn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Rn,Pn,_n,Un,Fn=/^\/(.+)\/([a-z]*)$/,Vn=function(e){return C(e)?e.toLowerCase():e},Yn=Object.prototype.hasOwnProperty,qn=function(e){return C(e)?e.toUpperCase():e},Bn=[].slice,Hn=[].splice,Wn=[].push,zn=Object.prototype.toString,Gn=Object.getPrototypeOf,Kn=r("ng"),Zn=e.angular||(e.angular={}),Xn=0;Rn=t.documentMode,m.$inject=[],g.$inject=[];var Jn,Qn=Array.isArray,er=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,tr=function(e){return C(e)?e.trim():e},nr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},rr=function(){if(!w(rr.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");rr.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=rr;try{new Function(""),n=!1}catch(r){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return rr.rules},ir=function(){if(w(ir.name_))return ir.name_;var e,n,r,i,o=or.length;for(n=0;o>n;++n)if(r=or[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return ir.name_=i},or=["ng-","data-ng-","ng:","x-ng-"],sr=/[A-Z]/g,ar=!1,cr=1,lr=3,ur={full:"1.4.4",major:1,minor:4,dot:4,codeName:"pylon-requirement"};me.expando="ng339";var dr=me.cache={},pr=1;me._data=function(e){return this.cache[e[this.expando]]||{}};var fr=/([\:\-\_]+(.))/g,hr=/^moz([A-Z])/,mr={mouseleave:"mouseout",mouseenter:"mouseover"},gr=r("jqLite"),yr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vr=/<|&#?\w+;/,br=/<([\w:]+)/,wr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Sr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sr.optgroup=Sr.option,Sr.tbody=Sr.tfoot=Sr.colgroup=Sr.caption=Sr.thead,Sr.th=Sr.td;var $r=me.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),me(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Pn(e>=0?this[e]:this[this.length+e])},length:0,push:Wn,sort:[].sort,splice:[].splice},Cr={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){Cr[Vn(e)]=e});var xr={};o("input select option textarea button form details".split(" "),function(e){xr[e]=!0});var Or={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Se,removeData:be,hasData:function(e){for(var t in dr[e.ng339])return!0;return!1}},function(e,t){me[t]=e}),o({data:Se,inheritedData:ke,scope:function(e){return Pn.data(e,"$scope")||ke(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Pn.data(e,"$isolateScope")||Pn.data(e,"$isolateScopeNoTemplate")},controller:Te,injector:function(e){return ke(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:$e,css:function(e,t,n){return t=pe(t),w(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==lr&&2!==i&&8!==i)if(i=Vn(t),Cr[i]){if(!w(r))return e[t]||(e.attributes.getNamedItem(t)||m).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(w(r))e.setAttribute(t,r);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return w(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===cr||n===lr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===N(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(ye(e,!0),void(e.innerHTML=t))},empty:Ae},function(e,t){me.prototype[t]=function(t,r){var i,o,s=this.length;if(e!==Ae&&(2==e.length&&e!==$e&&e!==Te?t:r)===n){if(S(t)){for(i=0;s>i;i++)if(e===Se)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(i=e.$dv,s=i===n?Math.min(s,1):s,o=0;s>o;o++){var a=e(this[o],t,r);i=i?i+a:a}return i}for(i=0;s>i;i++)e(this[i],t,r);return this}}),o({removeData:be,on:function jo(e,t,n,r){if(w(r))throw gr("onargs");if(fe(e)){var i=we(e,!0);r=i.events;var o=i.handle;o||(o=i.handle=Ne(e,r));for(var i=0<=t.indexOf(" ")?t.split(" "):[t],s=i.length;s--;){t=i[s];var a=r[t];a||(r[t]=[],"mouseenter"===t||"mouseleave"===t?jo(e,mr[t],function(e){var n=e.relatedTarget;n&&(n===this||this.contains(n))||o(e,t)}):"$destroy"!==t&&e.addEventListener(t,o,!1),a=r[t]),a.push(n)}}},off:ve,one:function(e,t,n){e=Pn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ye(e),o(new me(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===cr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===cr||11===n){t=new me(t);for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(e.nodeType===cr){var n=e.firstChild;o(new me(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Pn(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Ie,detach:function(e){Ie(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new me(t);for(var i=0,o=t.length;o>i;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:xe,removeClass:Ce,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!$e(e,t)),(r?xe:Ce)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ge,triggerHandler:function(e,t,n){var r,i,s=t.type||t,a=we(e);(a=(a=a&&a.events)&&a[s])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:m,type:s,target:e},t.type&&(r=d(r,t)),t=R(a),i=n?[r].concat(n):[r],o(t,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(e,t){me.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;s>o;o++)b(i)?(i=e(this[o],t,n,r),w(i)&&(i=Pn(i))):Oe(i,e(this[o],t,n,r));return w(i)?i:this},me.prototype.bind=me.prototype.on,me.prototype.unbind=me.prototype.off}),Re.prototype={put:function(e,t){this[je(e,this.nextUid)]=t},get:function(e){return this[je(e,this.nextUid)]},remove:function(e){var t=this[e=je(e,this.nextUid)];return delete this[e],t}};var Tr=[function(){this.$get=[function(){return Re}]}],kr=/^[^\(]*\(\s*([^\)]*)\)/m,Ar=/,/,Ir=/^\s*(_?)(\S+?)\1\s*$/,Mr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Er=r("$injector");_e.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw C(n)&&n||(n=e.name||Pe(e)),Er("strictdi",n);t=e.toString().replace(Mr,""),t=t.match(kr),o(t[1].split(Ar),function(e){e.replace(Ir,function(e,t,n){r.push(n)})})}e.$inject=r}}else Qn(e)?(t=e.length-1,oe(e[t],"fn"),r=e.slice(0,t)):oe(e,"fn",!0);return r};var Lr=r("$animate"),Nr=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=m,n.chain=m,n.prototype={end:m,cancel:m,resume:m,pause:m,complete:m,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},Dr=function(){var e=new Re,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,s){var a=e.get(n);a||(e.put(n,a={}),t.push(n)),n=function(e,t){var n=!1;return e&&(e=C(e)?e.split(" "):Qn(e)?e:[],o(e,function(e){e&&(n=!0,a[e]=t)})),n},i=n(i,!0),s=n(s,!1),!i&&!s||1<t.length||r.$$postDigest(function(){o(t,function(t){var n=e.get(t);if(n){var r=Ve(t.attr("class")),i="",s="";o(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:s+=(s.length?" ":"")+t)}),o(t,function(e){i&&xe(e,i),s&&Ce(e,s)}),e.remove(t)}}),t.length=0})}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,r,o){return o&&o(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&i(e,r.addClass,r.removeClass),new n}}}]},jr=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Lr("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Lr("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Pn(r),i=i&&Pn(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",Ye(o))},move:function(n,r,i,o){return r=r&&Pn(r),i=i&&Pn(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",Ye(o))},leave:function(t,n){return e.push(t,"leave",Ye(n),function(){t.remove()})},addClass:function(t,n,r){return r=Ye(r),r.addClass=Fe(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=Ye(r),r.removeClass=Fe(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=Ye(i),i.addClass=Fe(i.addClass,n),i.removeClass=Fe(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=Ye(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,o.tempClasses=Fe(o.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],Rr=function(){this.$get=["$$rAF","$q",function(e,t){var n=function(){};return n.prototype={done:function(e){this.defer&&this.defer[!0===e?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=t.defer()),this.defer.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)}},function(t,r){function i(){return e(function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null),r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null),r.to&&(t.css(r.to),r.to=null),o||s.done(),o=!0}),s}r.from&&(t.css(r.from),r.from=null);var o,s=new n;return{start:i,end:i}}}]},Pr=r("$compile");ze.$inject=["$provide","$$sanitizeUriProvider"];var _r=/^((?:x|data)[\:\-_])/i,Ur=r("$controller"),Fr=/^(\S+)(\s+as\s+(\w+))?$/,Vr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Pn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Yr="application/json",qr={"Content-Type":Yr+";charset=utf-8"},Br=/^\[|^\{(?!\{)/,Hr={"[":/]$/,"{":/}$/},Wr=/^\)\]\}',?\n/,zr=r("$http"),Gr=function(e){return function(){throw zr("legacy",e)}},Kr=Zn.$interpolateMinErr=r("$interpolate");Kr.throwNoconcat=function(e){throw Kr("noconcat",e)},Kr.interr=function(e,t){return Kr("interr",e,t.toString())};var Zr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Xr={http:80,https:443,ftp:21},Jr=r("$location"),Qr={$$html5:!1,$$replace:!1,absUrl:$t("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Zr.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:$t("$$protocol"),host:$t("$$host"),port:$t("$$port"),path:Ct("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||x(e))e=e.toString(),this.$$search=z(e);else{if(!S(e))throw Jr("isrcharg");e=j(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ct("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([St,wt,bt],function(e){e.prototype=Object.create(Qr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==bt||!this.$$html5)throw Jr("nostate");return this.$$state=b(t)?null:t,this}});var ei=r("$parse"),ti=Function.prototype.call,ni=Function.prototype.apply,ri=Function.prototype.bind,ii=le();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ii[e]=!0});var oi={n:"\n",f:"\f",r:"\r",t:"	",v:"\x0B","'":"'",'"':'"'},si=function(e){this.options=e};si.prototype={constructor:si,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=ii[t],i=ii[n];ii[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||"\x0B"===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,ei("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Vn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=oi[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var ai=function(e,t){this.lexer=e,this.options=t};ai.Program="Program",ai.ExpressionStatement="ExpressionStatement",ai.AssignmentExpression="AssignmentExpression",ai.ConditionalExpression="ConditionalExpression",ai.LogicalExpression="LogicalExpression",ai.BinaryExpression="BinaryExpression",ai.UnaryExpression="UnaryExpression",ai.CallExpression="CallExpression",ai.MemberExpression="MemberExpression",ai.Identifier="Identifier",ai.Literal="Literal",ai.ArrayExpression="ArrayExpression",ai.Property="Property",ai.ObjectExpression="ObjectExpression",ai.ThisExpression="ThisExpression",ai.NGValueParameter="NGValueParameter",ai.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ai.Program,body:e}},expressionStatement:function(){return{type:ai.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:ai.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:ai.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ai.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ai.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:ai.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:ai.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:ai.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:ai.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ai.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=j(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:ai.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:ai.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:ai.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:ai.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ai.Identifier,name:e.text}},constant:function(){return{type:ai.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ai.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:ai.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:ai.ObjectExpression,properties:t}},throwError:function(e,t){throw ei("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ei("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ei("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===r||o===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.tokens.shift(),e):!1},constants:{"true":{type:ai.Literal,value:!0},"false":{type:ai.Literal,value:!1},"null":{type:ai.Literal,value:null},undefined:{type:ai.Literal,value:n},"this":{type:ai.ThisExpression}}},Rt.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Et(i,r.$filter);var s,a="";return this.stage="assign",(s=Dt(i))&&(this.state.computing="assign",a=this.nextId(),this.recurse(s,a),a="fn.assign="+this.generateFunction("assign","s,v,l")),s=Lt(i.body),r.stage="inputs",o(s,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",a)(this.$filter,Tt,kt,At,It,Mt,e),this.state=this.stage=n,a.literal=jt(i),a.constant=i.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,s,a){var c,l,u,d,p=this;if(i=i||m,!a&&w(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,s,!0));else switch(e.type){case ai.Program:o(e.body,function(t,r){p.recurse(t.expression,n,n,function(e){l=e}),r!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case ai.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case ai.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),i(d);break;case ai.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){l=e}),d="+"===e.operator?this.plus(c,l):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(l,0):"("+c+")"+e.operator+"("+l+")",this.assign(t,d),i(d);break;case ai.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case ai.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case ai.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Tt(e.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){
p.if_("inputs"===p.stage||"s",function(){s&&1!==s&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||_t(e.name))&&p.addEnsureSafeObject(t),i(t);break;case ai.MemberExpression:c=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,c,n,function(){p.if_(p.notNull(c),function(){e.computed?(l=p.nextId(),p.recurse(e.property,l),p.addEnsureSafeMemberName(l),s&&1!==s&&p.if_(p.not(p.computedMember(c,l)),p.lazyAssign(p.computedMember(c,l),"{}")),d=p.ensureSafeObject(p.computedMember(c,l)),p.assign(t,d),r&&(r.computed=!0,r.name=l)):(Tt(e.property.name),s&&1!==s&&p.if_(p.not(p.nonComputedMember(c,e.property.name)),p.lazyAssign(p.nonComputedMember(c,e.property.name),"{}")),d=p.nonComputedMember(c,e.property.name),(p.state.expensiveChecks||_t(e.property.name))&&(d=p.ensureSafeObject(d)),p.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!s);break;case ai.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),d=l+"("+u.join(",")+")",p.assign(t,d),i(t)):(l=p.nextId(),c={},u=[],p.recurse(e.callee,l,c,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),o(e.arguments,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(p.ensureSafeObject(e))})}),c.name?(p.state.expensiveChecks||p.addEnsureSafeObject(c.context),d=p.member(c.context,c.name,c.computed)+"("+u.join(",")+")"):d=l+"("+u.join(",")+")",d=p.ensureSafeObject(d),p.assign(t,d)},function(){p.assign(t,"undefined")}),i(t)}));break;case ai.AssignmentExpression:if(l=this.nextId(),c={},!Nt(e.left))throw ei("lval");this.recurse(e.left,n,c,function(){p.if_(p.notNull(c.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(c.context,c.name,c.computed)),d=p.member(c.context,c.name,c.computed)+e.operator+l,p.assign(t,d),i(t||d)})},1);break;case ai.ArrayExpression:u=[],o(e.elements,function(e){p.recurse(e,p.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),i(d);break;case ai.ObjectExpression:u=[],o(e.properties,function(e){p.recurse(e.value,p.nextId(),n,function(t){u.push(p.escape(e.key.type===ai.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),i(d);break;case ai.ThisExpression:this.assign(t,"s"),i("s");break;case ai.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw ei("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Pt.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Et(r,n.$filter);var i,s;(i=Dt(r))&&(s=this.recurse(i)),i=Lt(r.body);var a;i&&(a=[],o(i,function(e,t){var r=n.recurse(e);e.input=r,a.push(r),e.watchId=t}));var c=[];return o(r.body,function(e){c.push(n.recurse(e.expression))}),i=0===r.body.length?function(){}:1===r.body.length?c[0]:function(e,t){var n;return o(c,function(r){n=r(e,t)}),n},s&&(i.assign=function(e,t,n){return s(e,n,t)}),a&&(i.inputs=a),i.literal=jt(r),i.constant=r.constant,i},recurse:function(e,t,r){var i,s,a,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ai.Literal:return this.value(e.value,t);case ai.UnaryExpression:return s=this.recurse(e.argument),this["unary"+e.operator](s,t);case ai.BinaryExpression:return i=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](i,s,t);case ai.LogicalExpression:return i=this.recurse(e.left),s=this.recurse(e.right),this["binary"+e.operator](i,s,t);case ai.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ai.Identifier:return Tt(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||_t(e.name),t,r,c.expression);case ai.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Tt(e.property.name,c.expression),s=e.property.name),e.computed&&(s=this.recurse(e.property)),e.computed?this.computedMember(i,s,t,r,c.expression):this.nonComputedMember(i,s,c.expensiveChecks,t,r,c.expression);case ai.CallExpression:return a=[],o(e.arguments,function(e){a.push(c.recurse(e))}),e.filter&&(s=this.$filter(e.callee.name)),e.filter||(s=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var c=[],l=0;l<a.length;++l)c.push(a[l](e,r,i,o));return e=s.apply(n,c,o),t?{context:n,name:n,value:e}:e}:function(e,n,r,i){var o,l=s(e,n,r,i);if(null!=l.value){kt(l.context,c.expression),At(l.value,c.expression),o=[];for(var u=0;u<a.length;++u)o.push(kt(a[u](e,n,r,i),c.expression));o=kt(l.value.apply(l.context,o),c.expression)}return t?{value:o}:o};case ai.AssignmentExpression:return i=this.recurse(e.left,!0,1),s=this.recurse(e.right),function(e,n,r,o){var a=i(e,n,r,o);return e=s(e,n,r,o),kt(a.value,c.expression),a.context[a.name]=e,t?{value:e}:e};case ai.ArrayExpression:return a=[],o(e.elements,function(e){a.push(c.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case ai.ObjectExpression:return a=[],o(e.properties,function(e){a.push({key:e.key.type===ai.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case ai.ThisExpression:return function(e){return t?{value:e}:e};case ai.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){return n=e(n,r,i,o),n=w(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,o){return n=e(n,r,i,o),n=w(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,o){return n=!e(n,r,i,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s);return r=t(r,i,o,s),a=Mt(a,r),n?{value:a}:a}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s);return r=t(r,i,o,s),a=(w(a)?a:0)-(w(r)?r:0),n?{value:a}:a}},"binary*":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)*t(r,i,o,s),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)/t(r,i,o,s),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)%t(r,i,o,s),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)===t(r,i,o,s),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)!==t(r,i,o,s),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)==t(r,i,o,s),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)!=t(r,i,o,s),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)<t(r,i,o,s),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)>t(r,i,o,s),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)<=t(r,i,o,s),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)>=t(r,i,o,s),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)&&t(r,i,o,s),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,o,s){return r=e(r,i,o,s)||t(r,i,o,s),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){return i=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(s,a,c,l){return s=a&&e in a?a:s,i&&1!==i&&s&&!s[e]&&(s[e]={}),a=s?s[e]:n,t&&kt(a,o),r?{context:s,name:e,value:a}:a}},computedMember:function(e,t,n,r,i){return function(o,s,a,c){var l,u,d=e(o,s,a,c);return null!=d&&(l=t(o,s,a,c),Tt(l,i),r&&1!==r&&d&&!d[l]&&(d[l]={}),u=d[l],kt(u,i)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,r,i,o,s){return function(a,c,l,u){return a=e(a,c,l,u),o&&1!==o&&a&&!a[t]&&(a[t]={}),c=null!=a?a[t]:n,(r||_t(t))&&kt(c,s),i?{context:a,name:t,value:c}:c}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var ci=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new ai(this.lexer),this.astCompiler=n.csp?new Pt(this.ast,t):new Rt(this.ast,t)};ci.prototype={constructor:ci,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}},le(),le();var li=Object.prototype.valueOf,ui=r("$sce"),di={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pr=r("$compile"),pi=t.createElement("a"),fi=tn(e.location.href);on.$inject=["$document"],an.$inject=["$provide"],pn.$inject=["$locale"],fn.$inject=["$locale"];var hi=".",mi={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:yn("Month"),MMM:yn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:yn("Day"),EEE:yn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(mn(Math[e>0?"floor":"ceil"](e/60),2)+mn(Math.abs(e%60),2))},ww:bn(2),w:bn(1),G:wn,GG:wn,GGG:wn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},gi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yi=/^\-?\d+$/;Sn.$inject=["$locale"];var vi=y(Vn),bi=y(qn);xn.$inject=["$parse"];var wi=y({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===zn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Si={};o(Cr,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=Ge("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Si[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Or,function(e,t){Si[t]=function(){return{priority:100,link:function(e,n,r){return"ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Fn))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(r[t],function(e){r.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=Ge("ng-"+e);Si[t]=function(){return{priority:99,link:function(n,r,i){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===zn.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(t,function(t){t?(i.$set(s,t),Rn&&o&&r.prop(o,i[s])):"href"===e&&i.$set(s,null)})}}}});var $i={$addControl:m,$$renameControl:function(e,t){e.$name=t},$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m};Tn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ci=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||m}return{name:"form",restrict:e?"EAC":"E",controller:Tn,compile:function(r,o){r.addClass(ro).addClass(to);var s=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,r,o,a){if(!("action"in o)){var c=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};r[0].addEventListener("submit",c,!1),r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",c,!1)},0,!1)})}var l=a.$$parentForm,u=s?i(a.$name):m;s&&(u(e,a),o.$observe(s,function(t){a.$name!==t&&(u(e,n),l.$$renameControl(a,t),(u=i(a.$name))(e,a))})),r.on("$destroy",function(){l.$removeControl(a),u(e,n),d(a,$i)})}}}}}]},xi=Ci(),Oi=Ci(!0),Ti=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ki=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ai=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ii=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Mi=/^(\d{4})-(\d{2})-(\d{2})$/,Ei=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Li=/^(\d{4})-W(\d\d)$/,Ni=/^(\d{4})-(\d\d)$/,Di=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ji={text:function(e,t,n,r,i,o){An(e,t,n,r,i,o),kn(r)},date:Mn("date",Mi,In(Mi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Mn("datetimelocal",Ei,In(Ei,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Mn("time",Di,In(Di,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Mn("week",Li,function(e,t){if(O(e))return e;if(C(e)){Li.lastIndex=0;var n=Li.exec(e);if(n){var r=+n[1],i=+n[2],o=n=0,s=0,a=0,c=vn(r),i=7*(i-1);return t&&(n=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds()),new Date(r,0,c.getDate()+i,n,o,s,a)}}return NaN},"yyyy-Www"),month:Mn("month",Ni,In(Ni,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,r,i,o,s){if(En(e,t,r,i),An(e,t,r,i,o,s),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Ii.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!x(e))throw so("numfmt",e);e=e.toString()}return e}),w(r.min)||r.ngMin){var a;i.$validators.min=function(e){return i.$isEmpty(e)||b(a)||e>=a},r.$observe("min",function(e){w(e)&&!x(e)&&(e=parseFloat(e,10)),a=x(e)&&!isNaN(e)?e:n,i.$validate()})}if(w(r.max)||r.ngMax){var c;i.$validators.max=function(e){return i.$isEmpty(e)||b(c)||c>=e},r.$observe("max",function(e){w(e)&&!x(e)&&(e=parseFloat(e,10)),c=x(e)&&!isNaN(e)?e:n,i.$validate()})}},url:function(e,t,n,r,i,o){An(e,t,n,r,i,o),kn(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||ki.test(n)}},email:function(e,t,n,r,i,o){An(e,t,n,r,i,o),kn(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ai.test(n)}},radio:function(e,t,n,r){b(n.name)&&t.attr("name",++Xn),t.on("click",function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,o,s,a){var c=Ln(a,e,"ngTrueValue",n.ngTrueValue,!0),l=Ln(a,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return P(e,c)}),r.$parsers.push(function(e){return e?c:l})},hidden:m,button:m,submit:m,reset:m,file:m},Ri=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(ji[Vn(s.type)]||ji.text)(i,o,s,a[0],t,e,n,r)}}}}],Pi=/^(true|false|\d+)$/,_i=function(){return{restrict:"A",priority:100,compile:function(e,t){return Pi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ui=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,i){e.$$addBindingInfo(r,i.ngBind),r=r[0],t.$watch(i.ngBind,function(e){r.textContent=e===n?"":e})}}}}],Fi=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,i,o){r=e(i.attr(o.$attr.ngBindTemplate)),t.$$addBindingInfo(i,r.expressions),i=i[0],o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}],Vi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],Yi=y({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),qi=Nn("",!0),Bi=Nn("Odd",0),Hi=Nn("Even",1),Wi=On({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),zi=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Gi={},Ki={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Ge("ng-"+e);Gi[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){s(t,{$event:n})};Ki[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Zi=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,c,l;n.$watch(i.ngIf,function(n){n?c||s(function(n,o){c=o,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),a={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),a&&(l=ce(a.clone),e.leave(l).then(function(){l=null}),a=null))})}}}],Xi=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Zn.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,c,l,u){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(o,function(o){var c=function(){!w(a)||a&&!r.$eval(a)||t()},p=++h;o?(e(o,!0).then(function(e){if(p===h){var t=r.$new();l.template=e,e=u(t,function(e){m(),n.enter(e,null,i).then(c)}),d=t,f=e,d.$emit("$includeContentLoaded",o),r.$eval(s)}},function(){p===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),l.template=null)})}}}}],Ji=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){/SVG/.test(r[0].toString())?(r.empty(),e(he(o.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),e(r.contents())(n))}}}],Qi=On({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),eo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var s=t.attr(r.$attr.ngList)||", ",a="false"!==r.ngTrim,c=a?tr(s):s;i.$parsers.push(function(e){if(!b(e)){var t=[];return e&&o(e.split(c),function(e){e&&t.push(a?tr(e):e)}),t}}),i.$formatters.push(function(e){return Qn(e)?e.join(s):n}),i.$isEmpty=function(e){return!e||!e.length}}}},to="ng-valid",no="ng-invalid",ro="ng-pristine",io="ng-dirty",oo="ng-pending",so=r("ngModel"),ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,s,a,c,l,u,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e);var p,f=s(r.ngModel),h=f.assign,g=f,y=h,v=null,S=this;this.$$setOptions=function(e){if((S.$options=e)&&e.getterSetter){var t=s(r.ngModel+"()"),n=s(r.ngModel+"($$$p)");g=function(e){var n=f(e);return T(n)&&(n=t(e)),n},y=function(e,t){T(f(e))?n(e,{$$$p:S.$modelValue}):h(e,S.$modelValue)}}else if(!f.assign)throw so("nonassign",r.ngModel,H(i))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var $=i.inheritedData("$formController")||$i,C=0;Dn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:$,$animate:a}),this.$setPristine=function(){S.$dirty=!1,S.$pristine=!0,a.removeClass(i,io),a.addClass(i,ro)},this.$setDirty=function(){S.$dirty=!0,S.$pristine=!1,a.removeClass(i,ro),a.addClass(i,io),$.$setDirty()},this.$setUntouched=function(){S.$touched=!1,S.$untouched=!0,a.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){S.$touched=!0,S.$untouched=!1,a.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){c.cancel(v),S.$viewValue=S.$$lastCommittedViewValue,S.$render()},this.$validate=function(){if(!x(S.$modelValue)||!isNaN(S.$modelValue)){var e=S.$$rawModelValue,t=S.$valid,r=S.$modelValue,i=S.$options&&S.$options.allowInvalid;S.$$runValidators(e,S.$$lastCommittedViewValue,function(o){i||t===o||(S.$modelValue=o?e:n,S.$modelValue!==r&&S.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var n=!0;return o(S.$validators,function(r,i){var o=r(e,t);n=n&&o,a(i,o)}),n?!0:(o(S.$asyncValidators,function(e,t){a(t,null)}),!1)}function s(){var r=[],i=!0;o(S.$asyncValidators,function(o,s){var c=o(e,t);if(!c||!T(c.then))throw so("$asyncValidators",c);a(s,n),r.push(c.then(function(){a(s,!0)},function(e){i=!1,a(s,!1)}))}),r.length?u.all(r).then(function(){c(i)},m):c(!0)}function a(e,t){l===C&&S.$setValidity(e,t)}function c(e){l===C&&r(e)}C++;var l=C;(function(){var e=S.$$parserName||"parse";return p!==n?(p||(o(S.$validators,function(e,t){a(t,null)}),o(S.$asyncValidators,function(e,t){a(t,null)})),a(e,p),p):(a(e,null),!0)})()&&i()?s():c(!1)},this.$commitViewValue=function(){var e=S.$viewValue;c.cancel(v),(S.$$lastCommittedViewValue!==e||""===e&&S.$$hasNativeValidators)&&(S.$$lastCommittedViewValue=e,S.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=S.$$lastCommittedViewValue;if(p=b(t)?n:!0)for(var r=0;r<S.$parsers.length;r++)if(t=S.$parsers[r](t),b(t)){p=!1;break}x(S.$modelValue)&&isNaN(S.$modelValue)&&(S.$modelValue=g(e));var i=S.$modelValue,o=S.$options&&S.$options.allowInvalid;S.$$rawModelValue=t,o&&(S.$modelValue=t,S.$modelValue!==i&&S.$$writeModelToScope()),S.$$runValidators(t,S.$$lastCommittedViewValue,function(e){o||(S.$modelValue=e?t:n,S.$modelValue!==i&&S.$$writeModelToScope())})},this.$$writeModelToScope=function(){y(e,S.$modelValue),o(S.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){S.$viewValue=e,S.$options&&!S.$options.updateOnDefault||S.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=S.$options;r&&w(r.debounce)&&(r=r.debounce,x(r)?n=r:x(r[t])?n=r[t]:x(r["default"])&&(n=r["default"])),c.cancel(v),n?v=c(function(){S.$commitViewValue()},n):l.$$phase?S.$commitViewValue():e.$apply(function(){S.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==S.$modelValue&&(S.$modelValue===S.$modelValue||t===t)){S.$modelValue=S.$$rawModelValue=t,p=n;for(var r=S.$formatters,i=r.length,o=t;i--;)o=r[i](o);S.$viewValue!==o&&(S.$viewValue=S.$$lastCommittedViewValue=o,S.$render(),S.$$runValidators(t,o,m))}return t})}],co=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ao,priority:1,compile:function(t){return t.addClass(ro).addClass("ng-untouched").addClass(to),{pre:function(e,t,n,r){var i=r[0],o=r[1]||$i;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&o.$$renameControl(i,e)}),e.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],lo=/(\s+|^)default(\s+|$)/,uo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=j(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=tr(this.$options.updateOn.replace(lo,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},po=On({terminal:!0,priority:1e3}),fo=r("ngOptions"),ho=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,mo=["$compile","$parse",function(e,n){function r(e,t,r){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function s(e){var t;if(!l&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var a=e.match(ho);if(!a)throw fo("iexp",e,H(t));var c=a[5]||a[7],l=a[6];e=/ as /.test(a[0])&&a[1];var u=a[9];t=n(a[2]?a[1]:c);var d=e&&n(e)||t,p=u&&n(u),f=u?function(e,t){return p(r,t)}:function(e){return je(e)},h=function(e,t){return f(e,w(e,t))},m=n(a[2]||a[1]),g=n(a[3]||""),y=n(a[4]||""),v=n(a[8]),b={},w=l?function(e,t){return b[l]=t,b[c]=e,b}:function(e){return b[c]=e,b};return{trackBy:u,getTrackByValue:h,getWatchables:n(v,function(e){var t=[];e=e||[];for(var n=s(e),i=n.length,o=0;i>o;o++){var c=e===n?o:n[o],l=w(e[c],c),c=f(e[c],l);t.push(c),(a[2]||a[1])&&(c=m(r,l),t.push(c)),a[4]&&(l=y(r,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=v(r)||[],i=s(n),a=i.length,c=0;a>c;c++){var l=n===i?c:i[c],p=w(n[l],l),b=d(r,p),l=f(b,p),S=m(r,p),$=g(r,p),p=y(r,p),b=new o(l,b,S,$,p);e.push(b),t[l]=b}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return u?Zn.copy(e.viewValue):e.viewValue}}}}}var s=t.createElement("option"),a=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,i,c){function l(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function u(e,t,n,r){return t&&Vn(t.nodeName)===n?n=t:(n=r.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function d(e){for(var t;e;)t=e.nextSibling,Ie(e),e=t}function p(e){var t=g&&g[0],n=S&&S[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function f(){var e=$&&m.readValue();$=C.getOptions();var t={},r=n[0].firstChild;if(w&&n.prepend(g),r=p(r),$.items.forEach(function(e){var i,o;e.group?(i=t[e.group],i||(i=u(n[0],r,"optgroup",a),r=i.nextSibling,i.label=e.group,i=t[e.group]={groupElement:i,currentOptionElement:i.firstChild}),o=u(i.groupElement,i.currentOptionElement,"option",s),l(e,o),i.currentOptionElement=o.nextSibling):(o=u(n[0],r,"option",s),l(e,o),r=o.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),h.$render(),!h.$isEmpty(e)){var i=m.readValue();(C.trackBy?P(e,i):e===i)||(h.$setViewValue(i),h.$render())}}var h=c[1];if(h){var m=c[0];c=i.multiple;for(var g,y=0,v=n.children(),b=v.length;b>y;y++)if(""===v[y].value){g=v.eq(y);break}var w=!!g,S=Pn(s.cloneNode(!1));S.val("?");var $,C=r(i.ngOptions,n,t);c?(h.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){$.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=$.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return o(e,function(e){(e=$.selectValueMap[e])&&!e.disabled&&t.push($.getViewValueFromOption(e))}),t},C.trackBy&&t.$watchCollection(function(){return Qn(h.$viewValue)?h.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){h.$render()})):(m.writeValue=function(e){var t=$.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(S.remove(),w||g.remove(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||w?(S.remove(),w||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)):(w||g.remove(),n.prepend(S),n.val("?"),S.prop("selected",!0),S.attr("selected",!0))},m.readValue=function(){var e=$.selectValueMap[n.val()];return e&&!e.disabled?(w||g.remove(),S.remove(),$.getViewValueFromOption(e)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(h.$viewValue)},function(){h.$render()})),w?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=Pn(s.cloneNode(!1)),f(),t.$watchCollection(C.getWatchables,f)}}}}],go=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(s,a,c){function l(e){a.text(e||"")}var u,d=c.count,p=c.$attr.when&&a.attr(c.$attr.when),f=c.offset||0,h=s.$eval(p)||{},g={},y=t.startSymbol(),v=t.endSymbol(),w=y+d+"-"+f+v,S=Zn.noop;o(c,function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+Vn(n[2]),h[n]=a.attr(c.$attr[t]))}),o(h,function(e,n){g[n]=t(e.replace(r,w))}),s.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);i||r in h||(r=e.pluralCat(r-f)),r===u||i&&x(u)&&isNaN(u)||(S(),i=g[r],b(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),S=m,l()):S=s.$watch(i,l),u=r)})}}}],yo=["$parse","$animate",function(e,s){var a=r("ngRepeat"),c=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,l){var u=l.ngRepeat,d=t.createComment(" end ngRepeat: "+u+" "),p=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw a("iexp",u);var f=p[1],h=p[2],m=p[3],g=p[4],p=f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!p)throw a("iidexp",f);var y=p[3]||p[1],v=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw a("badident",m);var b,w,S,$,C={$id:je};return g?b=e(g):(S=function(e,t){return je(t)},$=function(e){return e}),function(e,t,r,l,p){b&&(w=function(t,n,r){return v&&(C[v]=t),C[y]=n,C.$index=r,b(e,C)});var f=le();e.$watchCollection(h,function(r){var l,h,g,b,C,x,O,T,k,A,I=t[0],M=le();if(m&&(e[m]=r),i(r))T=r,h=w||S;else for(A in h=w||$,T=[],r)r.hasOwnProperty(A)&&"$"!==A.charAt(0)&&T.push(A);for(b=T.length,A=Array(b),l=0;b>l;l++)if(C=r===T?l:T[l],x=r[C],O=h(C,x,l),f[O])k=f[O],delete f[O],M[O]=k,A[l]=k;else{if(M[O])throw o(A,function(e){e&&e.scope&&(f[e.id]=e)}),a("dupes",u,O,x);A[l]={id:O,scope:n,clone:n},M[O]=!0}for(g in f){if(k=f[g],O=ce(k.clone),s.leave(O),O[0].parentNode)for(l=0,h=O.length;h>l;l++)O[l].$$NG_REMOVED=!0;k.scope.$destroy();
}for(l=0;b>l;l++)if(C=r===T?l:T[l],x=r[C],k=A[l],k.scope){g=I;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);k.clone[0]!=g&&s.move(ce(k.clone),null,Pn(I)),I=k.clone[k.clone.length-1],c(k.scope,l,y,x,v,C,b)}else p(function(e,t){k.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,s.enter(e,null,Pn(I)),I=n,k.clone=e,M[k.id]=k,c(k.scope,l,y,x,v,C,b)});f=M})}}}}],vo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],bo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],wo=On(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),So=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,s){var a=[],c=[],l=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(i.ngSwitch||i.on,function(n){var r,i;for(r=0,i=l.length;i>r;++r)e.cancel(l[r]);for(r=l.length=0,i=u.length;i>r;++r){var p=ce(c[r].clone);u[r].$destroy(),(l[r]=e.leave(p)).then(d(l,r))}c.length=0,u.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(r,i){u.push(i);var o=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: "),c.push({clone:r}),e.enter(r,o.parent(),o)})})})}}}],$o=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Co=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),xo=On({restrict:"EAC",link:function(e,t,n,i,o){if(!o)throw r("ngTransclude")("orphan",H(t));o(function(e){t.empty(),t.append(e)})}}),Oo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],To={$setViewValue:m,$render:m},ko=["$element","$scope","$attrs",function(e,r,i){var o=this,s=new Re;o.ngModelCtrl=To,o.unknownOption=Pn(t.createElement("option")),o.renderUnknownOption=function(t){t="? "+je(t)+" ?",o.unknownOption.val(t),e.prepend(o.unknownOption),e.val(t)},r.$on("$destroy",function(){o.renderUnknownOption=m}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),e.val()},o.writeValue=function(t){o.hasOption(t)?(o.removeUnknownOption(),e.val(t),""===t&&o.emptyOption.prop("selected",!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),e.val("")):o.renderUnknownOption(t)},o.addOption=function(e,t){se(e,'"option value"'),""===e&&(o.emptyOption=t);var n=s.get(e)||0;s.put(e,n+1)},o.removeOption=function(e){var t=s.get(e);t&&(1===t?(s.remove(e),""===e&&(o.emptyOption=n)):s.put(e,t-1))},o.hasOption=function(e){return!!s.get(e)}}],Ao=function(){return{restrict:"E",require:["select","?ngModel"],controller:ko,link:function(e,t,n,r){var i=r[1];if(i){var s=r[0];if(s.ngModelCtrl=i,i.$render=function(){s.writeValue(i.$viewValue)},t.on("change",function(){e.$apply(function(){i.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},s.writeValue=function(e){var n=new Re(e);o(t.find("option"),function(e){e.selected=w(n.get(e.value))})};var a,c=NaN;e.$watch(function(){c!==i.$viewValue||P(a,i.$viewValue)||(a=R(i.$viewValue),i.$render()),c=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}}},Io=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(b(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.ngModelCtrl&&(i?e.$watch(i,function(e,i){r.$set("value",e),i!==e&&s.removeOption(i),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Mo=y({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Lo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var s,a=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(C(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp",a,e,H(t));s=e||n,o.$validate()}),o.$validators.pattern=function(e){return o.$isEmpty(e)||b(s)||s.test(e)}}}}},No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=f(e),i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Do=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(re(),de(Zn),Zn.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,r){var i=0|e,o=r;return n===o&&(o=Math.min(t(e),3)),Math.pow(10,o),1==i&&0==o?"one":"other"}})}]),Pn(t).ready(function(){J(t,Q)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),e.angular=angular}.apply(e,arguments)})}(this),function(e){define("angular-route",["angular"],function(){return function(){!function(e,t,n){"use strict";function r(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,s,a,c){function l(){f&&(r.cancel(f),f=null),d&&(d.$destroy(),d=null),p&&(f=r.leave(p),f.then(function(){f=null}),p=null)}function u(){var s=e.current&&e.current.locals;if(t.isDefined(s&&s.$template)){var s=i.$new(),a=e.current;p=c(s,function(e){r.enter(e,null,p||o).then(function(){!t.isDefined(h)||h&&!i.$eval(h)||n()}),l()}),d=a.scope=s,d.$emit("$viewContentLoaded"),d.$eval(m)}else l()}var d,p,f,h=s.autoscroll,m=s.onload||"";i.$on("$routeChangeSuccess",u),u()}}}function i(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,s=o.locals;i.html(s.$template);var a=e(i.contents());o.controller&&(s.$scope=r,s=t(o.controller,s),o.controllerAs&&(r[o.controllerAs]=s),i.data("$ngControllerController",s),i.children().data("$ngControllerController",s)),a(r)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){return e="?"===r?r:null,r="*"===r?r:null,i.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(r&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&n(e,o)),e){var s="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[s]=t.extend({redirectTo:e},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,s,a,c,l,u){function d(e){var r=v.current;(g=(m=f())&&r&&m.$$route===r.$$route&&t.equals(m.pathParams,r.pathParams)&&!m.reloadOnSearch&&!y)||!r&&!m||n.$broadcast("$routeChangeStart",m,r).defaultPrevented&&e&&e.preventDefault()}function p(){var e=v.current,r=m;g?(e.params=r.params,t.copy(e.params,s),n.$broadcast("$routeUpdate",e)):(r||e)&&(y=!1,(v.current=r)&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(h(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?c.get(e):c.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=u.valueOf(n),e=l(n))),t.isDefined(e)&&(i.$template=e),a.all(i)}}).then(function(i){r==v.current&&(r&&(r.locals=i,t.copy(r.params,s)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==v.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function f(){var n,o;return t.forEach(r,function(r,s){var a;if(a=!o){var c=i.path();a=r.keys;var l={};if(r.regexp)if(c=r.regexp.exec(c)){for(var u=1,d=c.length;d>u;++u){var p=a[u-1],f=c[u];p&&f&&(l[p.name]=f)}a=l}else a=null;else a=null;a=n=a}a&&(o=e(r,{params:t.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function h(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var m,g,y=!1,v={routes:r,reload:function(){y=!0,n.$evalAsync(function(){d(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout");e=t.extend({},this.current.params,e),i.path(h(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),v}]});var o=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",r),e.directive("ngView",i),r.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular)}.apply(e,arguments)})}(this),define("platform/framework/src/Main",["require","es6-promise","./FrameworkLayer","angular","angular-route"],function(e,t,n,r){function i(){}return i.prototype.run=function(e){function i(){var e=/[?&]log=([a-z]+)/.exec(window.location.search);return e?e[1]:""}var o=r.injector(["ng"]);window.Promise=window.Promise||t.Promise,requirejs.config({baseUrl:""}),o.instantiate(["$http","$log",n]).initializeApplication(r,e,i())},i}),define("src/BundleRegistry",[],function(){function e(){this.bundles={}}return e.prototype.register=function(e,t){this.bundles[e]=t},e.prototype.contains=function(e){return!!this.bundles[e]},e.prototype.get=function(e){return this.bundles[e]},e.prototype.list=function(){return Object.keys(this.bundles)},e.prototype.remove=function(e){delete this.bundles[e]},e}),define("legacyRegistry",["src/BundleRegistry"],function(e){return new e}),define("platform/framework/bundle",["legacyRegistry"],function(e){e.register("platform/framework",{name:"Open MCT Framework Component",description:"Framework layer for Open MCT; interprets bundle definitions and serves as an intermediary between Require and Angular",libraries:"lib",configuration:{paths:{angular:"angular.min"},shim:{angular:{exports:"angular"}}},extensions:{licenses:[{name:"Blanket.js",version:"1.1.5",description:"Code coverage measurement and reporting",author:"Alex Seville",website:"http://blanketjs.org/",copyright:"Copyright (c) 2013 Alex Seville",license:"license-mit",link:"http://opensource.org/licenses/MIT"},{name:"Jasmine",version:"1.3.1",description:"Unit testing",author:"Pivotal Labs",website:"http://jasmine.github.io/",copyright:"Copyright (c) 2008-2011 Pivotal Labs",license:"license-mit",link:"http://opensource.org/licenses/MIT"},{name:"RequireJS",version:"2.1.22",description:"Script loader",author:"The Dojo Foundation",website:"http://requirejs.org/",copyright:"Copyright (c) 2010-2015, The Dojo Foundation",license:"license-mit",link:"https://github.com/jrburke/requirejs/blob/master/LICENSE"},{name:"AngularJS",version:"1.4.4",description:"Client-side web application framework",author:"Google",website:"http://angularjs.org/",copyright:"Copyright (c) 2010-2015 Google, Inc. http://angularjs.org",license:"license-mit",link:"https://github.com/angular/angular.js/blob/v1.4.4/LICENSE"},{name:"Angular-Route",version:"1.4.4",description:"Client-side view routing",author:"Google",website:"http://angularjs.org/",copyright:"Copyright (c) 2010-2015 Google, Inc. http://angularjs.org",license:"license-mit",link:"https://github.com/angular/angular.js/blob/v1.4.4/LICENSE"},{name:"ES6-Promise",version:"3.0.2",description:"Promise polyfill for pre-ECMAScript 6 browsers",author:"Yehuda Katz, Tom Dale, Stefan Penner and contributors",website:"https://github.com/jakearchibald/es6-promise",copyright:"Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors",license:"license-mit",link:"https://github.com/jakearchibald/es6-promise/blob/master/LICENSE"}]}})}),define("platform/core/src/objects/DomainObjectProvider",[],function(){function e(e,t){this.modelService=e,this.instantiate=t}return e.prototype.getObjects=function(e){function t(t){var n={};return e.forEach(function(e){t[e]&&(n[e]=r(t[e],e))}),n}var n=this.modelService,r=this.instantiate;return n.getModels(e).then(t)},e}),define("platform/core/src/capabilities/CoreCapabilityProvider",[],function(){function e(e,t){function n(t){return e.filter(function(e){return e.appliesTo?e.appliesTo(t):!0})}function r(e){var n={};return e.forEach(function(e){e.key?n[e.key]=n[e.key]||e:t.warn("No key defined for capability; skipping.")}),n}function i(e){return r(n(e))}return{getCapabilities:i}}return e}),define("platform/core/src/models/StaticModelProvider",[],function(){function e(e,t,n){function r(e){"object"!=typeof e||"string"!=typeof e.id||"object"!=typeof e.model?n.warn(["Skipping malformed domain object model exposed by ",((e||{}).bundle||{}).path].join("")):i[e.id]=e.model}var i={};e.forEach(r),this.modelMap=i,this.$q=t}return e.prototype.getModels=function(e){var t=this.modelMap,n={};return e.forEach(function(e){n[e]=t[e]}),this.$q.when(n)},e}),define("platform/core/src/models/RootModelProvider",["./StaticModelProvider"],function(e){function t(t,n,r){var i=t.map(function(e){return e.id});t.forEach(function(e){e.model||(e.model={}),e.model.location="ROOT"}),this.baseProvider=new e(t,n,r),this.rootModel={name:"The root object",type:"root",composition:i}}return t.prototype.getModels=function(e){var t=this.rootModel;return this.baseProvider.getModels(e).then(function(e){return e.ROOT=t,e})},t}),define("platform/core/src/models/ModelAggregator",[],function(){function e(e,t){this.providers=t,this.$q=e}function t(e,t){var n=(e||{}).modified||Number.NEGATIVE_INFINITY,r=(t||{}).modified||Number.NEGATIVE_INFINITY;return n>r?e:t||e}function n(e,n){var r={};return n.forEach(function(n){e.forEach(function(e){e[n]&&(r[n]=t(r[n],e[n]))})}),r}return e.prototype.getModels=function(e){return this.$q.all(this.providers.map(function(t){return t.getModels(e)})).then(function(t){return n(t,e)})},e}),define("platform/core/src/models/ModelCacheService",[],function(){function e(){this.cache={}}return e.prototype.put=function(e,t){this.cache[e]=t},e.prototype.get=function(e){return this.cache[e]},e.prototype.has=function(e){return this.cache.hasOwnProperty(e)},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.all=function(){return this.cache},e}),define("platform/core/src/models/PersistedModelProvider",[],function(){function e(e,t,n,r){this.persistenceService=e,this.$q=t,this.now=n,this.defaultSpace=r}return e.prototype.getModels=function(e){function t(e){return a.readObject(e.space,e.key)}function n(e){return e&&void 0===e.persisted&&(e.persisted=void 0!==e.modified?e.modified:l()),e}function r(e,t){var n={};return e.forEach(function(e,r){var i=e.id;t[r]&&(n[i]=t[r])}),n}function i(e){return c.all(e.map(t)).then(function(t){return r(e,t.map(n))})}function o(e){return s.filter(function(t){return-1!==e.indexOf(t.space)})}var s,a=this.persistenceService,c=this.$q,l=this.now,u=this.defaultSpace;return s=e.map(function(e){var t=e.split(":");return t.length>1?{id:e,space:t[0],key:t.slice(1).join(":")}:{id:e,space:u,key:e}}),a.listSpaces().then(o).then(i)},e}),define("platform/core/src/models/CachingModelDecorator",[],function(){function e(e,t){this.cacheService=e,this.modelService=t}function t(e){return(e||{}).then?e:{then:function(n){return t(n(e))}}}return e.prototype.getModels=function(e){function n(e,t){var n=o.get(e);return n===t?t:void 0===n||void 0===t?(o.put(e,t),t):(Object.keys(n).forEach(function(e){delete n[e]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n)}function r(e){Object.keys(e).forEach(function(t){var r=o.has(t)?n(t,e[t]):e[t];o.put(t,r)})}function i(){return o.all()}var o=this.cacheService,s=e.filter(function(e){return!o.has(e)});return s.length>0?this.modelService.getModels(s).then(r).then(i):t(o.all())},e}),define("platform/core/src/models/MissingModelDecorator",[],function(){function e(e){this.modelService=e}function t(e){return{type:"unknown",name:"Missing: "+e}}return e.prototype.getModels=function(e){function n(n){var r={};return e.forEach(function(e){r[e]=n[e]||t(e)}),r}return this.modelService.getModels(e).then(n)},e}),define("platform/core/src/types/TypePropertyConversion",[],function(){function e(e){return{toModelValue:function(t){return t&&t.map(e.toModelValue)},toFormValue:function(t){return t&&t.map(e.toFormValue)}}}function t(i){if(i&&i.length>r.length&&-1!==i.indexOf(r,i.length-r.length))return new e(new t(i.substring(0,i.length-r.length)));if(!n[i])throw new Error("Unknown conversion type: "+i);return n[i]}var n={number:{toModelValue:parseFloat,toFormValue:function(e){return"number"==typeof e?e.toString(10):void 0}},identity:{toModelValue:function(e){return e},toFormValue:function(e){return e}}},r="[]";return t}),define("platform/core/src/types/TypeProperty",["./TypePropertyConversion"],function(e){function t(t){this.conversion=new e(t.conversion||"identity"),this.propertyDefinition=t}function n(e){var t;if(!Array.isArray(e)||0===e.length)return!1;for(t=0;t<e.length;t+=1)if(void 0!==e[t])return!1;return!0}function r(e,t,n){Array.isArray(t)?t.length>1?(e[t[0]]=e[t[0]]||{},r(e[t[0]],t.slice(1),n)):1===t.length&&(e[t[0]]=n):e[t]=n}function i(e,t){var n;if(e)return Array.isArray(t)?t.length>0?(n=e[t[0]],t.length>1?i(n,t.slice(1)):n):void 0:e[t]}return t.prototype.getValue=function(e){var t=this.propertyDefinition.property||this.propertyDefinition.key,n=t&&i(e,t);return Array.isArray(this.propertyDefinition.items)&&(n=n||new Array(this.propertyDefinition.items.length)),this.conversion.toFormValue(n)},t.prototype.setValue=function(e,t){var i=this.propertyDefinition.property||this.propertyDefinition.key;return t=n(t)?void 0:t,t=this.conversion.toModelValue(t),i?r(e,i,t):void 0},t.prototype.getDefinition=function(){return this.propertyDefinition},t}),define("platform/core/src/types/TypeImpl",["./TypeProperty"],function(e){function t(e){var t=e.inherits||[],n={};(e.features||[]).forEach(function(e){n[e]=!0}),this.typeDef=e,this.featureSet=n,this.inheritList=t}return t.prototype.getKey=function(){return this.typeDef.key},t.prototype.getName=function(){return this.typeDef.name},t.prototype.getDescription=function(){return this.typeDef.description},t.prototype.getCssClass=function(){return this.typeDef.cssclass},t.prototype.getProperties=function(){return(this.typeDef.properties||[]).map(function(t){return new e(t)})},t.prototype.getInitialModel=function(){return JSON.parse(JSON.stringify(this.typeDef.model||{}))},t.prototype.getDefinition=function(){return this.typeDef},t.prototype.instanceOf=function(e){var t=this.typeDef,n=this.inheritList;return e===t.key?!0:n.indexOf(e)>-1?!0:e?null!==e&&"object"==typeof e&&e.getKey?this.instanceOf(e.getKey()):!1:!0},t.prototype.hasFeature=function(e){return this.featureSet[e]||!1},t}),define("platform/core/src/types/MergeModels",[],function(){function e(t,n,r){function i(e,t){return e.concat(t)}function o(t,n){var i={};return Object.keys(t).forEach(function(o){i[o]=n.hasOwnProperty(o)?e(t[o],n[o],(r||{})[o]):t[o]}),Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(i[e]=n[e])}),i}function s(e,t){return t}var a;return(a=r&&Function.isFunction(r)?r:Array.isArray(t)&&Array.isArray(n)?i:t instanceof Object&&n instanceof Object?o:s)(t,n)}return e}),define("platform/core/src/types/TypeProvider",["./TypeImpl","./MergeModels"],function(e,t){function n(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})}function r(e){var t={};return e?e.filter(function(e){return e instanceof Object&&!(e instanceof String)?!0:t[e]?!1:t[e]=!0}):e}function i(e){var i=e.reduce(function(e,r){var i={};return n(i,e),n(i,r),a.forEach(function(n){e[n]&&r[n]&&(i[n]=t(e[n],r[n]))}),s.forEach(function(t){(e[t]||r[t])&&(i[t]=(e[t]||[]).concat(r[t]||[]))}),i},{});return s.forEach(function(e){i[e]&&(i[e]=r(i[e]))}),i}function o(e){var t=e,n=function(e){var t={};return e.forEach(function(e){var n=e.key;n&&(t[n]=(t[n]||[]).concat(e))}),t}(t);this.typeMap={},this.typeDefinitions=n,this.rawTypeDefinitions=e}var s=["inherits","capabilities","properties","features"],a=["model"];return o.prototype.listTypes=function(){var e=this;return r(this.rawTypeDefinitions.filter(function(e){return e.key}).map(function(e){return e.key}).map(function(t){return e.getType(t)}))},o.prototype.getType=function(t){function n(){return a.undefinedType=a.undefinedType||i(a.rawTypeDefinitions.filter(function(e){return!e.key}))}function r(e){return Array.isArray(e)?e:[e]}function o(e){function t(e){var t=s[e]||[],a=t.map(function(e){return r(e.inherits||[])}).reduce(function(e,t){return e.concat(t)},[]),c=i([n()].concat(a.map(o)).concat(t));return c.model=c.model||{},c.model.name=c.model.name||"Unnamed "+(c.name||"Object"),c}return a.typeMap[e]=a.typeMap[e]||t(e)}var s=this.typeDefinitions,a=this;return new e(o(t))},o}),define("platform/core/src/actions/ActionProvider",[],function(){function e(e,t){var n=this;this.$log=t,this.actions=e,this.actionsByKey={},this.actionsByCategory={},e.forEach(function(e){var t=e.category||[];t=Array.isArray(t)?t:[t],t.forEach(function(t){n.actionsByCategory[t]=n.actionsByCategory[t]||[],n.actionsByCategory[t].push(e)}),e.key&&(n.actionsByKey[e.key]=n.actionsByKey[e.key]||[],n.actionsByKey[e.key].push(e))})}return e.prototype.getActions=function(e){function t(e,t){var n,r=new e(t);return r.getMetadata||(n=Object.create(e.definition||{}),n.context=t,r.getMetadata=function(){return n}),r}function n(e,n){function r(e){return e.appliesTo?e.appliesTo(n):!0}function i(e){try{return t(e,n)}catch(r){return void a.error(["Could not instantiate action",e.key,"due to:",r.message].join(" "))}}function o(e){return void 0!==e}return(e||[]).filter(r).map(i).filter(o)}var r,i=e||{},o=i.category,s=i.key,a=this.$log;return r=this.actions,s?(r=this.actionsByKey[s],o&&(r=r.filter(function(e){return e.category===o}))):o&&(r=this.actionsByCategory[o]),n(r,i)},e}),define("platform/core/src/actions/ActionAggregator",[],function(){function e(e){this.actionProviders=e}return e.prototype.getActions=function(e){return this.actionProviders.map(function(t){return t.getActions(e)}).reduce(function(e,t){return e.concat(t)},[])},e}),define("platform/core/src/actions/LoggingActionDecorator",[],function(){function e(e,t){this.$log=e,this.actionService=t}return e.prototype.getActions=function(){function e(e){var t=Object.create(e),r=e.getMetadata()||{},i=r.context||{},o=i.domainObject;return t.perform=function(){return n.info(["Performing action ",r.key," upon ",o&&o.getId()].join("")),e.perform.apply(e,arguments)},t}var t=this.actionService,n=this.$log;return t.getActions.apply(t,arguments).map(e)},e}),define("platform/core/src/views/ViewProvider",[],function(){function e(e,t){function n(e){var n=e.key;return n||t.warn(["No key specified for view in ",(e.bundle||{}).path,"; omitting this view."].join("")),n}this.views=e.filter(n)}return e.prototype.getViews=function(e){function t(e,t,n){function r(t){return e.hasCapability(t)||n&&o.doesDelegateCapability(t)}function i(e,t){return e&&t}var o=e.getCapability("delegation");return n=n&&void 0!==o,t.map(r).reduce(i,!0)}function n(e,t){var n=t&&(t.getDefinition()||{}).views,r=!0;return e.type&&(r=r&&t&&t.instanceOf(e.type)),Array.isArray(n)&&(r=r&&n.indexOf(e.key)>-1),r}var r=e.useCapability("type");return this.views.filter(function(i){return n(i,r)&&t(e,i.needs||[],i.delegation||!1)})},e}),function(e){"use strict";function t(){var t=e.crypto||e.msCrypto;if(!a&&t&&t.getRandomValues)try{var n=new Uint8Array(16);u=a=function(){return t.getRandomValues(n),n},a()}catch(r){}if(!a){var i=new Array(16);c=a=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){if("function"==typeof require)try{var e=require("crypto").randomBytes;l=a=e&&function(){return e(16)},a()}catch(t){}}function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[r+i++]=h[e])});16>i;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=f;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function o(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var s=null!=e.clockseq?e.clockseq:v,a=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:w+1,l=a-b+(c-w)/1e4;if(0>l&&null==e.clockseq&&(s=s+1&16383),(0>l||a>b)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b=a,w=c,v=s,a+=122192928e5;var u=(1e4*(268435455&a)+c)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u;var d=a/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var p=e.node||y,f=0;6>f;f++)o[r+f]=p[f];return t?t:i(o)}function s(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;16>s;s++)t[r+s]=o[s];return t||i(o)}var a,c,l,u,d;e?t():n();for(var p="function"==typeof Buffer?Buffer:Array,f=[],h={},m=0;256>m;m++)f[m]=(m+256).toString(16).substr(1),h[f[m]]=m;var g=a(),y=[1|g[0],g[1],g[2],g[3],g[4],g[5]],v=16383&(g[6]<<8|g[7]),b=0,w=0,S=s;S.v1=o,S.v4=s,S.parse=r,S.unparse=i,S.BufferClass=p,S._rng=a,S._mathRNG=c,S._nodeRNG=l,S._whatwgRNG=u,"undefined"!=typeof module&&module.exports?module.exports=S:"function"==typeof define&&define.amd?define("uuid",[],function(){return S}):(d=e.uuid,S.noConflict=function(){return e.uuid=d,S},e.uuid=S)}("undefined"!=typeof window?window:null),define("platform/core/src/identifiers/Identifier",[],function(){function e(e,n){var r=e.indexOf(t);r>-1?(this.key=e.substring(r+1),this.space=e.substring(0,r),this.definedSpace=this.space):(this.key=e,this.space=n,this.definedSpace=void 0)}var t=":";return e.prototype.getKey=function(){return this.key},e.prototype.getSpace=function(){return this.space},e.prototype.getDefinedSpace=function(){return this.definedSpace},e}),define("platform/core/src/identifiers/IdentifierProvider",["uuid","./Identifier"],function(e,t){function n(e){this.defaultSpace=e}return n.prototype.generate=function(t){var n=e();return void 0!==t&&(n=t+":"+n),n},n.prototype.parse=function(e){return new t(e,this.defaultSpace)},n}),define("platform/core/src/capabilities/CompositionCapability",[],function(){function e(e,t,n){this.injectObjectService=function(){this.objectService=e.get("objectService")},this.contextualize=t,this.domainObject=n}return e.prototype.add=function(e,t){function n(e){var t;for(t=0;t<e.length;t+=1)if(e[t].getId()===s)return e[t]}function r(e){return e&&o.invoke().then(n)}function i(e){t=isNaN(t)?c.length:t,t=Math.min(c.length,t),-1!==l&&e.composition.splice(l,1),e.composition.splice(t,0,s)}var o=this,s="string"==typeof e?e:e.getId(),a=o.domainObject.getModel(),c=a.composition,l=c.indexOf(s);return isNaN(t)&&-1!==l||t===l?r(!0):this.domainObject.useCapability("mutation",i).then(r)},e.prototype.invoke=function(){function e(e){return t.filter(function(t){return e[t]}).map(function(t){return i(e[t],n)})}var t,n=this.domainObject,r=n.getModel(),i=this.contextualize;return this.objectService||this.injectObjectService(),this.lastPromise&&this.lastModified===r.modified||(t=r.composition||[],this.lastModified=r.modified,this.lastPromise=this.objectService.getObjects(t).then(e)),this.lastPromise},e.appliesTo=function(e){return Array.isArray((e||{}).composition)},e}),define("platform/core/src/capabilities/RelationshipCapability",[],function(){function e(e,t){this.injectObjectService=function(){this.objectService=e.get("objectService")},this.lastPromise={},this.domainObject=t}return e.prototype.listRelationships=function(){function e(e){return Array.isArray(t[e])}var t=(this.domainObject.getModel()||{}).relationships||{};return Object.keys(t).filter(e).sort()},e.prototype.getRelatedObjects=function(e){function t(e){return n.map(function(t){return e[t]}).filter(function(e){return e})}var n,r=this.domainObject.getModel();return this.lastModified!==r.modified&&(this.lastPromise={},this.lastModified=r.modified),this.lastPromise[e]||(n=(r.relationships||{})[e]||[],this.lastModified=r.modified,this.objectService||this.injectObjectService(),this.lastPromise[e]=this.objectService.getObjects(n).then(t)),this.lastPromise[e]},e.appliesTo=function(e){return!!(e||{}).relationships},e}),define("platform/core/src/types/TypeCapability",[],function(){function e(e,t){var n=t.getModel().type,r=e.getType(n);return Object.create(r)}return e}),define("platform/core/src/actions/ActionCapability",[],function(){function e(e,t,n){this.$q=e,this.actionService=t,this.domainObject=n}return e.prototype.getActions=function(e){var t="string"==typeof e?{key:e}:e||{},n=Object.create(t);return n.domainObject=this.domainObject,this.actionService.getActions(n)},e.prototype.perform=function(e){var t=this.getActions(e);return this.$q.when(t&&t.length>0?t[0].perform():void 0)},e}),define("platform/core/src/views/ViewCapability",[],function(){function e(e,t){this.viewService=e,this.domainObject=t}return e.prototype.invoke=function(){return this.viewService.getViews(this.domainObject)},e}),define("platform/core/src/capabilities/PersistenceCapability",[],function(){
function e(e,t,n,r,i,o){this.modified=o.getModel().modified,this.domainObject=o,this.cacheService=e,this.identifierService=n,this.persistenceService=t,this.notificationService=r,this.$q=i}function t(e,t){return e?e:t.reject("Error persisting object")}function n(e){return e&&e.message?e.message:e&&"string"==typeof e?e:"unknown error"}function r(e,t,r,i){var o="Unable to persist "+t.getModel().name;return e&&(o+=": "+n(e)),r.error({title:"Error persisting "+t.getModel().name,hint:o,dismissable:!0}),i.reject(e)}return e.prototype.persist=function(){var e=this,n=this.domainObject,i=n.getModel(),o=i.modified,s=this.persistenceService,a=void 0!==i.persisted?this.persistenceService.updateObject:this.persistenceService.createObject;return n.useCapability("mutation",function(e){e.persisted=o},o),a.apply(s,[this.getSpace(),this.getKey(),n.getModel()]).then(function(n){return t(n,e.$q)})["catch"](function(t){return r(t,n,e.notificationService,e.$q)})},e.prototype.refresh=function(){function e(e){var n=e.modified;return t.useCapability("mutation",function(){return e},n)}var t=this.domainObject;return void 0===t.getModel().persisted?this.$q.when(!0):this.persistenceService.readObject(this.getSpace(),this.getKey()).then(e)},e.prototype.getSpace=function(){var e=this.domainObject.getId();return this.identifierService.parse(e).getSpace()},e.prototype.getKey=function(){var e=this.domainObject.getId();return this.identifierService.parse(e).getKey()},e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";function e(){return fr.apply(null,arguments)}function t(e){fr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return gt(e,t,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(e){return null==e._pf&&(e._pf=u()),e._pf}function p(e){if(null==e._isValid){var t=d(e),n=hr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=l(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}function h(e){return void 0===e}function m(e,t){var n,r,i;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=d(t)),h(t._locale)||(e._locale=t._locale),mr.length>0)for(n in mr)r=mr[n],i=t[r],h(i)||(e[r]=i);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),gr===!1&&(gr=!0,e.updateOffset(this),gr=!1)}function y(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function v(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=v(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&s++;return s+o}function S(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function $(t,n){var r=!0;return c(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),r&&(S(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function C(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),yr[t]||(S(n),yr[t]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],x(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=c({},e);for(n in t)a(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function k(e){null!=e&&this.set(e)}function A(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return x(r)?r.call(t,n):r}function I(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function M(){return this._invalidDate}function E(e){return this._ordinal.replace("%d",e)}function L(e,t,n,r){var i=this._relativeTime[n];return x(i)?i(e,t,n,r):i.replace(/%d/i,e)}function N(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function D(e,t){var n=e.toLowerCase();Tr[n]=Tr[n+"s"]=Tr[t]=e}function j(e){return"string"==typeof e?Tr[e]||Tr[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)a(e,n)&&(t=j(n),t&&(r[t]=e[n]));return r}function P(e,t){kr[e]=t}function _(e){var t=[];for(var n in e)t.push({unit:n,priority:kr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function U(t,n){return function(r){return null!=r?(V(this,t,r),e.updateOffset(this,n),this):F(this,t)}}function F(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function Y(e){return e=j(e),x(this[e])?this[e]():this}function q(e,t){if("object"==typeof e){e=R(e);for(var n=_(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=j(e),x(this[e]))return this[e](t);return this}function B(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function H(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Er[e]=i),t&&(Er[t[0]]=function(){return B(i.apply(this,arguments),t[1],t[2])}),n&&(Er[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(Ar);for(t=0,n=r.length;n>t;t++)Er[r[t]]?r[t]=Er[r[t]]:r[t]=W(r[t]);return function(t){var i,o="";for(i=0;n>i;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function G(e,t){return e.isValid()?(t=K(t,e.localeData()),Mr[t]=Mr[t]||z(t),Mr[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Ir.lastIndex=0;r>=0&&Ir.test(e);)e=e.replace(Ir,n),Ir.lastIndex=0,r-=1;return e}function Z(e,t,n){Kr[e]=x(t)?t:function(e,r){return e&&n?n:t}}function X(e,t){return a(Kr,e)?Kr[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)Zr[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&a(Zr,e)&&Zr[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||si).test(t)?"format":"standalone"][e.month()]}function oe(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[si.test(t)?"format":"standalone"][e.month()]}function se(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=l([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=br.call(this._shortMonthsParse,s),-1!==i?i:null):(i=br.call(this._longMonthsParse,s),-1!==i?i:null):"MMM"===t?(i=br.call(this._shortMonthsParse,s),-1!==i?i:(i=br.call(this._longMonthsParse,s),-1!==i?i:null)):(i=br.call(this._longMonthsParse,s),-1!==i?i:(i=br.call(this._shortMonthsParse,s),-1!==i?i:null))}function ae(e,t,n){var r,i,o;if(this._monthsParseExact)return se.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function le(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):F(this,"Month")}function ue(){return re(this.year(),this.month())}function de(e){return this._monthsParseExact?(a(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=li),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(a(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=ui),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=l([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=Q(r[t]),i[t]=Q(i[t]);for(t=0;24>t;t++)o[t]=Q(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function he(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return me(this.year())}function ye(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ve(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,n){var r=7+t-n,i=(7+ve(e,0,r).getUTCDay()-t)%7;return-i+r-1}function we(e,t,n,r,i){var o,s,a=(7+n-r)%7,c=be(e,r,i),l=1+7*(t-1)+a+c;return 0>=l?(o=e-1,s=he(o)+l):l>he(e)?(o=e+1,s=l-he(e)):(o=e,s=l),{year:o,dayOfYear:s}}function Se(e,t,n){var r,i,o=be(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>s?(i=e.year()-1,r=s+$e(i,t,n)):s>$e(e.year(),t,n)?(r=s-$e(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function $e(e,t,n){var r=be(e,t,n),i=be(e+1,t,n);return(he(e)-r+i)/7}function Ce(e){return Se(e,this._week.dow,this._week.doy).week}function xe(){return this._week.dow}function Oe(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ke(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ae(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ie(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Ee(e){return this._weekdaysShort[e.day()]}function Le(e){return this._weekdaysMin[e.day()]}function Ne(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=l([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=br.call(this._weekdaysParse,s),-1!==i?i:null):"ddd"===t?(i=br.call(this._shortWeekdaysParse,s),-1!==i?i:null):(i=br.call(this._minWeekdaysParse,s),-1!==i?i:null):"dddd"===t?(i=br.call(this._weekdaysParse,s),-1!==i?i:(i=br.call(this._shortWeekdaysParse,s),-1!==i?i:(i=br.call(this._minWeekdaysParse,s),-1!==i?i:null))):"ddd"===t?(i=br.call(this._shortWeekdaysParse,s),-1!==i?i:(i=br.call(this._weekdaysParse,s),-1!==i?i:(i=br.call(this._minWeekdaysParse,s),-1!==i?i:null))):(i=br.call(this._minWeekdaysParse,s),-1!==i?i:(i=br.call(this._weekdaysParse,s),-1!==i?i:(i=br.call(this._shortWeekdaysParse,s),-1!==i?i:null)))}function De(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ne.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=l([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function je(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ae(e,this.localeData()),this.add(e-t,"d")):t}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Pe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ie(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function _e(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=gi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ue(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Fe(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],c=[],u=[];for(t=0;7>t;t++)n=l([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),c.push(o),u.push(r),u.push(i),u.push(o);for(s.sort(e),a.sort(e),c.sort(e),u.sort(e),t=0;7>t;t++)a[t]=Q(a[t]),c[t]=Q(c[t]),u[t]=Q(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ye(){return this.hours()%12||12}function qe(){return this.hours()||24}function Be(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function He(e,t){return t._meridiemParse}function We(e){return"p"===(e+"").toLowerCase().charAt(0)}function ze(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ge(e[o]).split("-"),t=i.length,n=Ge(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Ze(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function Ze(e){var t=null;if(!Ci[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=bi._abbr,require("./locale/"+e),Xe(t)}catch(n){}return Ci[e]}function Xe(e,t){var n;return e&&(n=h(t)?et(e):Je(e,t),n&&(bi=n)),bi._abbr}function Je(e,t){if(null!==t){var n=$i;return t.abbr=e,null!=Ci[e]?(C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ci[e]._config):null!=t.parentLocale&&(null!=Ci[t.parentLocale]?n=Ci[t.parentLocale]._config:C("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Ci[e]=new k(T(n,t)),Xe(e),Ci[e]}return delete Ci[e],null}function Qe(e,t){if(null!=t){var n,r=$i;null!=Ci[e]&&(r=Ci[e]._config),t=T(r,t),n=new k(t),n.parentLocale=Ci[e],Ci[e]=n,Xe(e)}else null!=Ci[e]&&(null!=Ci[e].parentLocale?Ci[e]=Ci[e].parentLocale:null!=Ci[e]&&delete Ci[e]);return Ci[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bi;if(!n(e)){if(t=Ze(e))return t;e=[e]}return Ke(e)}function tt(){return vr(Ci)}function nt(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[Jr]<0||n[Jr]>11?Jr:n[Qr]<1||n[Qr]>re(n[Xr],n[Jr])?Qr:n[ei]<0||n[ei]>24||24===n[ei]&&(0!==n[ti]||0!==n[ni]||0!==n[ri])?ei:n[ti]<0||n[ti]>59?ti:n[ni]<0||n[ni]>59?ni:n[ri]<0||n[ri]>999?ri:-1,d(e)._overflowDayOfYear&&(Xr>t||t>Qr)&&(t=Qr),d(e)._overflowWeeks&&-1===t&&(t=ii),d(e)._overflowWeekday&&-1===t&&(t=oi),d(e).overflow=t),e}function rt(e){var t,n,r,i,o,s,a=e._i,c=xi.exec(a)||Oi.exec(a);if(c){for(d(e).iso=!0,t=0,n=ki.length;n>t;t++)if(ki[t][1].exec(c[1])){i=ki[t][0],r=ki[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(c[3]){for(t=0,n=Ai.length;n>t;t++)if(Ai[t][1].exec(c[3])){o=(c[2]||" ")+Ai[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(c[4]){if(!Ti.exec(c[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),lt(e)}else e._isValid=!1}function it(t){var n=Ii.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function at(e){var t,n,r,i,o=[];if(!e._d){for(r=st(e),e._w&&null==e._a[Qr]&&null==e._a[Jr]&&ct(e),e._dayOfYear&&(i=ot(e._a[Xr],r[Xr]),e._dayOfYear>he(i)&&(d(e)._overflowDayOfYear=!0),n=ve(i,0,e._dayOfYear),e._a[Jr]=n.getUTCMonth(),e._a[Qr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ei]&&0===e._a[ti]&&0===e._a[ni]&&0===e._a[ri]&&(e._nextDay=!0,e._a[ei]=0),e._d=(e._useUTC?ve:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ei]=24)}}function ct(e){var t,n,r,i,o,s,a,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=ot(t.GG,e._a[Xr],Se(yt(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(1>i||i>7)&&(c=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,n=ot(t.gg,e._a[Xr],Se(yt(),o,s).year),r=ot(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(c=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(c=!0)):i=o),1>r||r>$e(n,o,s)?d(e)._overflowWeeks=!0:null!=c?d(e)._overflowWeekday=!0:(a=we(n,r,i,o,s),e._a[Xr]=a.year,e._dayOfYear=a.dayOfYear)}function lt(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],d(t).empty=!0;var n,r,i,o,s,a=""+t._i,c=a.length,l=0;for(i=K(t._f,t._locale).match(Ar)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(X(o,t))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&d(t).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),l+=r.length),Er[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),ne(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=c-l,a.length>0&&d(t).unusedInput.push(a),t._a[ei]<=12&&d(t).bigHour===!0&&t._a[ei]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[ei]=ut(t._locale,t._a[ei],t._meridiem),at(t),nt(t)}function ut(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function dt(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],lt(t),p(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||r>o)&&(r=o,n=t));c(e,n||t)}function pt(e){if(!e._d){var t=R(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function ft(e){var t=new g(nt(ht(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ht(e){var t=e._i,r=e._f;return e._locale=e._locale||et(e._l),null===t||void 0===r&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new g(nt(t)):(n(r)?dt(e):o(t)?e._d=t:r?lt(e):mt(e),p(e)||(e._d=null),e))}function mt(t){var r=t._i;void 0===r?t._d=new Date(e.now()):o(r)?t._d=new Date(r.valueOf()):"string"==typeof r?it(t):n(r)?(t._a=s(r.slice(0),function(e){return parseInt(e,10)}),at(t)):"object"==typeof r?pt(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function gt(e,t,o,s,a){var c={};return"boolean"==typeof o&&(s=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=o,c._i=e,c._f=t,c._strict=s,ft(c)}function yt(e,t,n,r){return gt(e,t,n,r,!1)}function vt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return yt();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function bt(){var e=[].slice.call(arguments,0);return vt("isBefore",e)}function wt(){var e=[].slice.call(arguments,0);return vt("isAfter",e)}function St(e){var t=R(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*l+6e4*c+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function $t(e){return e instanceof St}function Ct(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function xt(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Ni)||["-",0,0],o=+(60*i[1])+b(i[2]);return"+"===i[0]?o:-o}function Ot(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||o(t)?t.valueOf():yt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):yt(t).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function kt(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=xt(Wr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=Tt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Bt(this,_t(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Tt(this):null!=t?this:NaN}function At(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function It(e){return this.utcOffset(0,e)}function Mt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function Et(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(xt(Hr,this._i)),this}function Lt(e){return this.isValid()?(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Nt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Dt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=ht(e),e._a){var t=e._isUTC?l(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function jt(){return this.isValid()?!this._isUTC:!1}function Rt(){return this.isValid()?this._isUTC:!1}function Pt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function _t(e,t){var n,r,i,o=e,s=null;return $t(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=Di.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:b(s[Qr])*n,h:b(s[ei])*n,m:b(s[ti])*n,s:b(s[ni])*n,ms:b(s[ri])*n}):(s=ji.exec(e))?(n="-"===s[1]?-1:1,o={y:Ut(s[2],n),M:Ut(s[3],n),w:Ut(s[4],n),d:Ut(s[5],n),h:Ut(s[6],n),m:Ut(s[7],n),s:Ut(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Vt(yt(o.from),yt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new St(o),$t(e)&&a(e,"_locale")&&(r._locale=e._locale),r}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ft(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Vt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?n=Ft(e,t):(n=Ft(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Yt(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function qt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=_t(n,r),Bt(this,i,e),this}}function Bt(t,n,r,i){var o=n._milliseconds,s=Yt(n._days),a=Yt(n._months);t.isValid()&&(i=null==i?!0:i,o&&t._d.setTime(t._d.valueOf()+o*r),s&&V(t,"Date",F(t,"Date")+s*r),a&&ce(t,F(t,"Month")+a*r),i&&e.updateOffset(t,s||a))}function Ht(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Wt(t,n){var r=t||yt(),i=Ot(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",s=n&&(x(n[o])?n[o].call(this,r):n[o]);return this.format(s||this.localeData().calendar(o,this,yt(r)))}function zt(){return new g(this)}function Gt(e,t){var n=y(e)?e:yt(e);return this.isValid()&&n.isValid()?(t=j(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Kt(e,t){var n=y(e)?e:yt(e);return this.isValid()&&n.isValid()?(t=j(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Zt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Xt(e,t){var n,r=y(e)?e:yt(e);return this.isValid()&&r.isValid()?(t=j(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Jt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function en(e,t,n){var r,i,o,s;return this.isValid()?(r=Ot(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=j(t),"year"===t||"month"===t||"quarter"===t?(s=tn(this,r),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-r,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?s:v(s)):NaN):NaN}function tn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=G(this,t);return this.localeData().postformat(n)}function sn(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?_t({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function an(e){return this.from(yt(),e)}function cn(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?_t({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ln(e){return this.to(yt(),e)}function un(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function dn(){return this._locale}function pn(e){switch(e=j(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=j(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function hn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function yn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function bn(){return this.isValid()?this.toISOString():null}function wn(){return p(this)}function Sn(){return c({},d(this))}function $n(){return d(this).overflow}function Cn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function xn(e,t){H(0,[e,e.length],0,t)}function On(e){return In.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(e){return In.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function kn(){return $e(this.year(),1,4)}function An(){var e=this.localeData()._week;return $e(this.year(),e.dow,e.doy)}function In(e,t,n,r,i){var o;return null==e?Se(this,r,i).year:(o=$e(e,r,i),t>o&&(t=o),Mn.call(this,e,t,n,r,i))}function Mn(e,t,n,r,i){var o=we(e,t,n,r,i),s=ve(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function En(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ln(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;
return null==e?t:this.add(e-t,"d")}function Nn(e,t){t[ri]=b(1e3*("0."+e))}function Dn(){return this._isUTC?"UTC":""}function jn(){return this._isUTC?"Coordinated Universal Time":""}function Rn(e){return yt(1e3*e)}function Pn(){return yt.apply(null,arguments).parseZone()}function _n(e){return e}function Un(e,t,n,r){var i=et(),o=l().set(r,t);return i[n](o,e)}function Fn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Un(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=Un(e,r,n,"month");return i}function Vn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=et(),o=e?i._week.dow:0;if(null!=n)return Un(t,(n+o)%7,r,"day");var s,a=[];for(s=0;7>s;s++)a[s]=Un(t,(s+o)%7,r,"day");return a}function Yn(e,t){return Fn(e,t,"months")}function qn(e,t){return Fn(e,t,"monthsShort")}function Bn(e,t,n){return Vn(e,t,n,"weekdays")}function Hn(e,t,n){return Vn(e,t,n,"weekdaysShort")}function Wn(e,t,n){return Vn(e,t,n,"weekdaysMin")}function zn(){var e=this._data;return this._milliseconds=zi(this._milliseconds),this._days=zi(this._days),this._months=zi(this._months),e.milliseconds=zi(e.milliseconds),e.seconds=zi(e.seconds),e.minutes=zi(e.minutes),e.hours=zi(e.hours),e.months=zi(e.months),e.years=zi(e.years),this}function Gn(e,t,n,r){var i=_t(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Kn(e,t){return Gn(this,e,t,1)}function Zn(e,t){return Gn(this,e,t,-1)}function Xn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Jn(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,c=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*Xn(er(a)+s),s=0,a=0),c.milliseconds=o%1e3,e=v(o/1e3),c.seconds=e%60,t=v(e/60),c.minutes=t%60,n=v(t/60),c.hours=n%24,s+=v(n/24),i=v(Qn(s)),a+=i,s-=Xn(er(i)),r=v(a/12),a%=12,c.days=s,c.months=a,c.years=r,this}function Qn(e){return 4800*e/146097}function er(e){return 146097*e/4800}function tr(e){var t,n,r=this._milliseconds;if(e=j(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Qn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(er(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function nr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function rr(e){return function(){return this.as(e)}}function ir(e){return e=j(e),this[e+"s"]()}function or(e){return function(){return this._data[e]}}function sr(){return v(this.days()/7)}function ar(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function cr(e,t,n){var r=_t(e).abs(),i=lo(r.as("s")),o=lo(r.as("m")),s=lo(r.as("h")),a=lo(r.as("d")),c=lo(r.as("M")),l=lo(r.as("y")),u=i<uo.s&&["s",i]||1>=o&&["m"]||o<uo.m&&["mm",o]||1>=s&&["h"]||s<uo.h&&["hh",s]||1>=a&&["d"]||a<uo.d&&["dd",a]||1>=c&&["M"]||c<uo.M&&["MM",c]||1>=l&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,ar.apply(null,u)}function lr(e){return void 0===e?lo:"function"==typeof e?(lo=e,!0):!1}function ur(e,t){return void 0===uo[e]?!1:void 0===t?uo[e]:(uo[e]=t,!0)}function dr(e){var t=this.localeData(),n=cr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function pr(){var e,t,n,r=po(this._milliseconds)/1e3,i=po(this._days),o=po(this._months);e=v(r/60),t=v(e/60),r%=60,e%=60,n=v(o/12),o%=12;var s=n,a=o,c=i,l=t,u=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(c?c+"D":"")+(l||u||d?"T":"")+(l?l+"H":"")+(u?u+"M":"")+(d?d+"S":""):"P0D"}var fr,hr;hr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var mr=e.momentProperties=[],gr=!1,yr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var vr;vr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var br,wr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Sr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},$r="Invalid date",Cr="%d",xr=/\d{1,2}/,Or={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Tr={},kr={},Ar=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ir=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mr={},Er={},Lr=/\d/,Nr=/\d\d/,Dr=/\d{3}/,jr=/\d{4}/,Rr=/[+-]?\d{6}/,Pr=/\d\d?/,_r=/\d\d\d\d?/,Ur=/\d\d\d\d\d\d?/,Fr=/\d{1,3}/,Vr=/\d{1,4}/,Yr=/[+-]?\d{1,6}/,qr=/\d+/,Br=/[+-]?\d+/,Hr=/Z|[+-]\d\d:?\d\d/gi,Wr=/Z|[+-]\d\d(?::?\d\d)?/gi,zr=/[+-]?\d+(\.\d{1,3})?/,Gr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Kr={},Zr={},Xr=0,Jr=1,Qr=2,ei=3,ti=4,ni=5,ri=6,ii=7,oi=8;br=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),P("month",8),Z("M",Pr),Z("MM",Pr,Nr),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Jr]=b(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Jr]=i:d(n).invalidMonth=e});var si=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ai="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ci="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),li=Gr,ui=Gr;H("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),D("year","y"),P("year",1),Z("Y",Br),Z("YY",Pr,Nr),Z("YYYY",Vr,jr),Z("YYYYY",Yr,Rr),Z("YYYYYY",Yr,Rr),ee(["YYYYY","YYYYYY"],Xr),ee("YYYY",function(t,n){n[Xr]=2===t.length?e.parseTwoDigitYear(t):b(t)}),ee("YY",function(t,n){n[Xr]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Xr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var di=U("FullYear",!0);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),P("week",5),P("isoWeek",5),Z("w",Pr),Z("ww",Pr,Nr),Z("W",Pr),Z("WW",Pr,Nr),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var pi={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),Z("d",Pr),Z("e",Pr),Z("E",Pr),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var fi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gi=Gr,yi=Gr,vi=Gr;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,Ye),H("k",["kk",2],0,qe),H("hmm",0,0,function(){return""+Ye.apply(this)+B(this.minutes(),2)}),H("hmmss",0,0,function(){return""+Ye.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Be("a",!0),Be("A",!1),D("hour","h"),P("hour",13),Z("a",He),Z("A",He),Z("H",Pr),Z("h",Pr),Z("HH",Pr,Nr),Z("hh",Pr,Nr),Z("hmm",_r),Z("hmmss",Ur),Z("Hmm",_r),Z("Hmmss",Ur),ee(["H","HH"],ei),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[ei]=b(e),d(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r)),d(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r,2)),t[ni]=b(e.substr(i)),d(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=b(e.substr(0,r)),t[ti]=b(e.substr(r,2)),t[ni]=b(e.substr(i))});var bi,wi=/[ap]\.?m?\.?/i,Si=U("Hours",!0),$i={calendar:wr,longDateFormat:Sr,invalidDate:$r,ordinal:Cr,ordinalParse:xr,relativeTime:Or,months:ai,monthsShort:ci,week:pi,weekdays:fi,weekdaysMin:mi,weekdaysShort:hi,meridiemParse:wi},Ci={},xi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Oi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ti=/Z|[+-]\d\d(?::?\d\d)?/,ki=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ii=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Mi=$("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),Ei=$("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Li=function(){return Date.now?Date.now():+new Date};Ct("Z",":"),Ct("ZZ",""),Z("Z",Wr),Z("ZZ",Wr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=xt(Wr,e)});var Ni=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Di=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,ji=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;_t.fn=St.prototype;var Ri=qt(1,"add"),Pi=qt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var _i=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),xn("gggg","weekYear"),xn("ggggg","weekYear"),xn("GGGG","isoWeekYear"),xn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),Z("G",Br),Z("g",Br),Z("GG",Pr,Nr),Z("gg",Pr,Nr),Z("GGGG",Vr,jr),Z("gggg",Vr,jr),Z("GGGGG",Yr,Rr),Z("ggggg",Yr,Rr),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),te(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),D("quarter","Q"),P("quarter",7),Z("Q",Lr),ee("Q",function(e,t){t[Jr]=3*(b(e)-1)}),H("D",["DD",2],"Do","date"),D("date","D"),P("date",9),Z("D",Pr),Z("DD",Pr,Nr),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Qr),ee("Do",function(e,t){t[Qr]=b(e.match(Pr)[0],10)});var Ui=U("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),P("dayOfYear",4),Z("DDD",Fr),Z("DDDD",Dr),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),H("m",["mm",2],0,"minute"),D("minute","m"),P("minute",14),Z("m",Pr),Z("mm",Pr,Nr),ee(["m","mm"],ti);var Fi=U("Minutes",!1);H("s",["ss",2],0,"second"),D("second","s"),P("second",15),Z("s",Pr),Z("ss",Pr,Nr),ee(["s","ss"],ni);var Vi=U("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),P("millisecond",16),Z("S",Fr,Lr),Z("SS",Fr,Nr),Z("SSS",Fr,Dr);var Yi;for(Yi="SSSS";Yi.length<=9;Yi+="S")Z(Yi,qr);for(Yi="S";Yi.length<=9;Yi+="S")ee(Yi,Nn);var qi=U("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Bi=g.prototype;Bi.add=Ri,Bi.calendar=Wt,Bi.clone=zt,Bi.diff=en,Bi.endOf=fn,Bi.format=on,Bi.from=sn,Bi.fromNow=an,Bi.to=cn,Bi.toNow=ln,Bi.get=Y,Bi.invalidAt=$n,Bi.isAfter=Gt,Bi.isBefore=Kt,Bi.isBetween=Zt,Bi.isSame=Xt,Bi.isSameOrAfter=Jt,Bi.isSameOrBefore=Qt,Bi.isValid=wn,Bi.lang=_i,Bi.locale=un,Bi.localeData=dn,Bi.max=Ei,Bi.min=Mi,Bi.parsingFlags=Sn,Bi.set=q,Bi.startOf=pn,Bi.subtract=Pi,Bi.toArray=yn,Bi.toObject=vn,Bi.toDate=gn,Bi.toISOString=rn,Bi.toJSON=bn,Bi.toString=nn,Bi.unix=mn,Bi.valueOf=hn,Bi.creationData=Cn,Bi.year=di,Bi.isLeapYear=ge,Bi.weekYear=On,Bi.isoWeekYear=Tn,Bi.quarter=Bi.quarters=En,Bi.month=le,Bi.daysInMonth=ue,Bi.week=Bi.weeks=Te,Bi.isoWeek=Bi.isoWeeks=ke,Bi.weeksInYear=An,Bi.isoWeeksInYear=kn,Bi.date=Ui,Bi.day=Bi.days=je,Bi.weekday=Re,Bi.isoWeekday=Pe,Bi.dayOfYear=Ln,Bi.hour=Bi.hours=Si,Bi.minute=Bi.minutes=Fi,Bi.second=Bi.seconds=Vi,Bi.millisecond=Bi.milliseconds=qi,Bi.utcOffset=kt,Bi.utc=It,Bi.local=Mt,Bi.parseZone=Et,Bi.hasAlignedHourOffset=Lt,Bi.isDST=Nt,Bi.isLocal=jt,Bi.isUtcOffset=Rt,Bi.isUtc=Pt,Bi.isUTC=Pt,Bi.zoneAbbr=Dn,Bi.zoneName=jn,Bi.dates=$("dates accessor is deprecated. Use date instead.",Ui),Bi.months=$("months accessor is deprecated. Use month instead",le),Bi.years=$("years accessor is deprecated. Use year instead",di),Bi.zone=$("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",At),Bi.isDSTShifted=$("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Dt);var Hi=Bi,Wi=k.prototype;Wi.calendar=A,Wi.longDateFormat=I,Wi.invalidDate=M,Wi.ordinal=E,Wi.preparse=_n,Wi.postformat=_n,Wi.relativeTime=L,Wi.pastFuture=N,Wi.set=O,Wi.months=ie,Wi.monthsShort=oe,Wi.monthsParse=ae,Wi.monthsRegex=pe,Wi.monthsShortRegex=de,Wi.week=Ce,Wi.firstDayOfYear=Oe,Wi.firstDayOfWeek=xe,Wi.weekdays=Me,Wi.weekdaysMin=Le,Wi.weekdaysShort=Ee,Wi.weekdaysParse=De,Wi.weekdaysRegex=_e,Wi.weekdaysShortRegex=Ue,Wi.weekdaysMinRegex=Fe,Wi.isPM=We,Wi.meridiem=ze,Xe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=$("moment.lang is deprecated. Use moment.locale instead.",Xe),e.langData=$("moment.langData is deprecated. Use moment.localeData instead.",et);var zi=Math.abs,Gi=rr("ms"),Ki=rr("s"),Zi=rr("m"),Xi=rr("h"),Ji=rr("d"),Qi=rr("w"),eo=rr("M"),to=rr("y"),no=or("milliseconds"),ro=or("seconds"),io=or("minutes"),oo=or("hours"),so=or("days"),ao=or("months"),co=or("years"),lo=Math.round,uo={s:45,m:45,h:22,d:26,M:11},po=Math.abs,fo=St.prototype;fo.abs=zn,fo.add=Kn,fo.subtract=Zn,fo.as=tr,fo.asMilliseconds=Gi,fo.asSeconds=Ki,fo.asMinutes=Zi,fo.asHours=Xi,fo.asDays=Ji,fo.asWeeks=Qi,fo.asMonths=eo,fo.asYears=to,fo.valueOf=nr,fo._bubble=Jn,fo.get=ir,fo.milliseconds=no,fo.seconds=ro,fo.minutes=io,fo.hours=oo,fo.days=so,fo.weeks=sr,fo.months=ao,fo.years=co,fo.humanize=dr,fo.toISOString=pr,fo.toString=pr,fo.toJSON=pr,fo.locale=un,fo.localeData=dn,fo.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),fo.lang=_i,H("X",0,0,"unix"),H("x",0,0,"valueOf"),Z("x",Br),Z("X",zr),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.14.1",t(yt),e.fn=Hi,e.min=bt,e.max=wt,e.now=Li,e.utc=l,e.unix=Rn,e.months=Yn,e.isDate=o,e.locale=Xe,e.invalid=f,e.duration=_t,e.isMoment=y,e.weekdays=Bn,e.parseZone=Pn,e.localeData=et,e.isDuration=$t,e.monthsShort=qn,e.weekdaysMin=Wn,e.defineLocale=Je,e.updateLocale=Qe,e.locales=tt,e.weekdaysShort=Hn,e.normalizeUnits=j,e.relativeTimeRounding=lr,e.relativeTimeThreshold=ur,e.calendarFormat=Ht,e.prototype=Hi;var ho=e;return ho}),define("platform/core/src/capabilities/MetadataCapability",["moment"],function(e){function t(e){this.domainObject=e}var n="YYYY-MM-DD HH:mm:ss";return t.prototype.invoke=function(){function t(e){var t=typeof e.value;return"string"===t||"number"===t}function r(t){return"number"==typeof t?e.utc(t).format(n)+" UTC":void 0}function i(){function e(e){return{name:e.getDefinition().name,value:e.getValue(a)}}var t=s.getCapability("type");return(t?t.getProperties():[]).map(e)}function o(){var e=s.getCapability("type");return[{name:"Updated",value:r(a.modified)},{name:"Type",value:e&&e.getName()}]}var s=this.domainObject,a=s.getModel();return i().concat(o()).filter(t)},t}),define("platform/core/src/capabilities/MutationCapability",[],function(){function e(e,t){Object.keys(e).forEach(function(t){delete e[t]}),Object.keys(t).forEach(function(n){e[n]=t[n]})}function t(e){return(e||{}).then?e:{then:function(n){return t(n(e))}}}function n(e,t,n){this.generalMutationTopic=e(r),this.specificMutationTopic=e(i+n.getId()),this.now=t,this.domainObject=n}var r="mutation",i="mutation:";return n.prototype.mutate=function(n,r){function i(e){c.notify(s),l.notify(e)}function o(t){var n=t||d;return t!==!1&&(u!==n&&e(u,n),u.modified=p?r:a(),i(u)),t!==!1}var s=this.domainObject,a=this.now,c=this.generalMutationTopic,l=this.specificMutationTopic,u=s.getModel(),d=JSON.parse(JSON.stringify(u)),p=arguments.length>1;return t(n(d)).then(o)},n.prototype.listen=function(e){return this.specificMutationTopic.listen(e)},n.prototype.invoke=n.prototype.mutate,n}),define("platform/core/src/capabilities/DelegationCapability",[],function(){function e(e,t){var n=t.getCapability("type"),r=this;this.$q=e,this.delegateCapabilities={},this.domainObject=t,n&&n.getDefinition&&(n.getDefinition().delegates||[]).forEach(function(e){r.delegateCapabilities[e]=!0})}return e.prototype.getDelegates=function(e){function t(e){return function(t){return t.filter(function(t){return t.hasCapability(e)})}}function n(){return r.useCapability("composition")}var r=this.domainObject;return this.doesDelegateCapability(e)?n().then(t(e)):this.$q.when([])},e.prototype.doesDelegateCapability=function(e){return!!this.delegateCapabilities[e]},e.prototype.invoke=e.prototype.getDelegates,e}),define("platform/core/src/capabilities/InstantiationCapability",[],function(){function e(e,t,n,r){this.$injector=e,this.identifierService=t,this.domainObject=r,this.now=n}return e.prototype.instantiate=function(e){var t=this.identifierService.parse(this.domainObject.getId()),n=t.getDefinedSpace(),r=this.identifierService.generate(n);return e.modified=this.now(),this.instantiateFn=this.instantiateFn||this.$injector.get("instantiate"),this.instantiateFn(e,r)},e.prototype.invoke=e.prototype.instantiate,e}),define("platform/core/src/services/Now",[],function(){function e(){return function(){return Date.now()}}return e}),define("platform/core/src/services/Throttle",[],function(){function e(e){return function(t,n,r){function i(){return o=void 0,t.apply(null,s)}var o,s=[];return n=n||0,r=r||!1,function(){return s=Array.prototype.slice.apply(arguments,[0]),o=o||e(i,n,r)}}}return e}),define("platform/core/src/services/Topic",[],function(){function e(e){function n(){var n=[];return{listen:function(e){return n.push(e),function(){n=n.filter(function(t){return t!==e})}},notify:function(r){n.forEach(function(n){try{n(r)}catch(i){e.error(t+i.message)}})}}}var r={};return function(e){return arguments.length<1?n():(r[e]=r[e]||n(),r[e])}}var t="Error when notifying listener: ";return e}),define("platform/core/src/capabilities/ContextCapability",[],function(){function e(e,t){this.parentObject=e,this.domainObject=t}return e.prototype.getParent=function(){return this.parentObject},e.prototype.getPath=function(){var e=this.parentObject,t=e&&e.getCapability("context"),n=t?t.getPath():[this.parentObject];return n.concat([this.domainObject])},e.prototype.getRoot=function(){var e=this.parentObject&&this.parentObject.getCapability("context");return e?e.getRoot():this.parentObject||this.domainObject},e}),define("platform/core/src/capabilities/ContextualDomainObject",["./ContextCapability"],function(e){function t(t,n){var r=Object.create(t),i=new e(n,t);return r.getCapability=function(e){return"context"===e?i:t.getCapability.apply(this,arguments)},r}return t}),define("platform/core/src/services/Contextualize",["../capabilities/ContextualDomainObject"],function(e){function t(t){function n(e,n){var r=n&&n.getModel(),i=(r||{}).composition||[];-1===i.indexOf(e)&&t.warn(["Attempted to contextualize",e,"in",n&&n.getId(),"but that object does not contain",e,"in its composition.","Unexpected behavior may follow."].join(" "))}return function(t,r){var i=t.getCapability("editor");return i&&i.inEditContext()||n(t.getId(),r),new e(t,r)}}return t}),define("platform/core/src/objects/DomainObjectImpl",[],function(){function e(e,t,n){this.id=e,this.model=t,this.capabilities=n}return e.prototype.getId=function(){return this.id},e.prototype.getModel=function(){return this.model},e.prototype.getCapability=function(e){var t=this.capabilities[e];return"function"==typeof t?t(this):t},e.prototype.hasCapability=function(e){return void 0!==this.getCapability(e)},e.prototype.useCapability=function(e){var t=Array.prototype.slice.apply(arguments,[1]),n=this.getCapability(e);return n&&n.invoke?n.invoke.apply(n,t):n},e}),define("platform/core/src/services/Instantiate",["../objects/DomainObjectImpl"],function(e){function t(t,n,r){return function(i,o){var s=t.getCapabilities(i);return o=o||n.generate(),r.put(o,i),new e(o,i,s)}}return t}),define("platform/core/bundle",["./src/objects/DomainObjectProvider","./src/capabilities/CoreCapabilityProvider","./src/models/StaticModelProvider","./src/models/RootModelProvider","./src/models/ModelAggregator","./src/models/ModelCacheService","./src/models/PersistedModelProvider","./src/models/CachingModelDecorator","./src/models/MissingModelDecorator","./src/types/TypeProvider","./src/actions/ActionProvider","./src/actions/ActionAggregator","./src/actions/LoggingActionDecorator","./src/views/ViewProvider","./src/identifiers/IdentifierProvider","./src/capabilities/CompositionCapability","./src/capabilities/RelationshipCapability","./src/types/TypeCapability","./src/actions/ActionCapability","./src/views/ViewCapability","./src/capabilities/PersistenceCapability","./src/capabilities/MetadataCapability","./src/capabilities/MutationCapability","./src/capabilities/DelegationCapability","./src/capabilities/InstantiationCapability","./src/services/Now","./src/services/Throttle","./src/services/Topic","./src/services/Contextualize","./src/services/Instantiate","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,x,O,T,k,A,I,M){M.register("platform/core",{name:"Open MCT Core",description:"Defines core concepts of Open MCT.",sources:"src",configuration:{paths:{uuid:"uuid"}},extensions:{versions:[{name:"Version",value:"0.11.2-SNAPSHOT",priority:999},{name:"Built",value:"2016-08-23T04:59:15Z",description:"The date on which this version of the client was built.",priority:990},{name:"Revision",value:"44f8c2f49ff47d8f7a7578e942ccee648fa109ee",description:"A unique revision identifier for the client sources.",priority:995},{name:"Branch",value:"master",description:"The name of the branch that was used during the build.",priority:994}],components:[{provides:"objectService",type:"provider",implementation:e,depends:["modelService","instantiate"]},{provides:"capabilityService",type:"provider",implementation:t,depends:["capabilities[]","$log"]},{provides:"modelService",type:"provider",implementation:n,depends:["models[]","$q","$log"]},{provides:"modelService",type:"provider",implementation:r,depends:["roots[]","$q","$log"]},{provides:"modelService",type:"aggregator",implementation:i,depends:["$q"]},{provides:"modelService",type:"provider",implementation:s,depends:["persistenceService","$q","now","PERSISTENCE_SPACE"]},{provides:"modelService",type:"decorator",implementation:a,depends:["cacheService"]},{provides:"modelService",type:"decorator",priority:"fallback",implementation:c},{provides:"typeService",type:"provider",implementation:l,depends:["types[]"]},{provides:"actionService",type:"provider",implementation:u,depends:["actions[]","$log"]},{provides:"actionService",type:"aggregator",implementation:d},{provides:"actionService",type:"decorator",implementation:p,depends:["$log"]},{provides:"viewService",type:"provider",implementation:f,depends:["views[]","$log"]},{provides:"identifierService",type:"provider",implementation:h,depends:["PERSISTENCE_SPACE"]}],types:[{properties:[{control:"textfield",name:"Title",key:"name",property:"name",pattern:"\\S+",required:!0,cssclass:"l-input-lg"}]},{key:"root",name:"Root",cssclass:"icon-folder"},{key:"folder",name:"Folder",cssclass:"icon-folder",features:"creation",description:"Create folders to organize other objects or links to objects.",priority:1e3,model:{composition:[]}},{key:"unknown",name:"Unknown Type",cssclass:"icon-object-unknown"},{name:"Unknown Type",cssclass:"icon-object-unknown"}],capabilities:[{key:"composition",implementation:m,depends:["$injector","contextualize"]},{key:"relationship",implementation:g,depends:["$injector"]},{key:"type",implementation:y,depends:["typeService"]},{key:"action",implementation:v,depends:["$q","actionService"]},{key:"view",implementation:b,depends:["viewService"]},{key:"persistence",implementation:w,depends:["cacheService","persistenceService","identifierService","notificationService","$q"]},{key:"metadata",implementation:S},{key:"mutation",implementation:$,depends:["topic","now"]},{key:"delegation",implementation:C,depends:["$q"]},{key:"instantiation",implementation:x,depends:["$injector","identifierService","now"]}],services:[{key:"cacheService",implementation:o},{key:"now",implementation:O},{key:"throttle",implementation:T,depends:["$timeout"]},{key:"topic",implementation:k,depends:["$log"]},{key:"contextualize",implementation:A,depends:["$log"]},{key:"instantiate",implementation:I,depends:["capabilityService","identifierService","cacheService"]}],roots:[{id:"mine",model:{name:"My Items",type:"folder",composition:[]}}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}],licenses:[{name:"Math.uuid.js",version:"1.4.7",description:"Unique identifer generation (code adapted.)",author:"Robert Kieffer",website:"https://github.com/broofa/node-uuid",copyright:"Copyright (c) 2010-2012 Robert Kieffer",license:"license-mit",link:"http://opensource.org/licenses/MIT"}]}})}),define("platform/representation/src/MCTInclude",[],function(){function e(e,t){function n(e,n){var i=t.link(e,n,e.key&&r[e.key]);e.$watch("key",function(e){i(e&&r[e])})}var r={};return e.forEach(function(e){var t=e.key;r[t]=r[t]||e}),{restrict:"E",link:n,priority:-1e3,scope:{key:"=",ngModel:"=",parameters:"="}}}return e}),define("platform/representation/src/MCTRepresentation",[],function(){function e(e,t,n,r,i,o){function s(e,t){var n,r,i=c[e]||[];for(r=0;r<i.length;r+=1)if(n=i[r].type,!n||!t||t.getCapability("type").instanceOf(n))return i[r]}function a(e,t,a){function c(){var t=e.domainObject,n=s(e.key,t),i=(n||{}).uses||[],a=y;t&&(e.model=t.getModel(),i.forEach(function(n){o.debug(["Requesting capability ",n," for representation ",e.key].join("")),r.when(t.useCapability(n)).then(function(t){y===a&&(e[n]=t)})}))}function l(){m.forEach(function(e){e.destroy()})}function u(e,t,n){return e===v&&n===f&&t.length===b.length&&t.every(function(e,t){return e===b[t]})}function d(e){return e?e.hasCapability("context")?e.getCapability("context").getPath().map(function(e){return e.getId()}):[e.getId()]:[]}function p(){var t=e.domainObject,n=s(e.key,t),r=(n||{}).uses||[],i=!(!n||!t),a=d(t),p=e.key;u(i,a,p)||(e.representation={},w(i?n:void 0),l(),!n&&e.key&&o.warn("No representation found for "+e.key),g.forEach(function(t){delete e[t]}),v=i,b=a,f=p,i&&(y+=1,c(),e.configuration=(e.model.configuration||{})[e.key]||{},m.forEach(function(e){e.represent(n,t)}),g=r.concat(["model"])))}var f,h,m=n.map(function(n){return new n(e,t,a)}),g=[],y=0,v=!1,b=[],w=i.link(e,t);e.$watch("key",p),e.$watch("domainObject",p),e.$watch("domainObject.getModel().modified",c),e.$on("$destroy",l),e.$on("$destroy",function(){h&&h()}),p()}var c={};return e.concat(t).forEach(function(e){var t=e.key;c[t]=c[t]||[],c[e.key].push(e)}),{restrict:"E",link:a,priority:-1e3,scope:{key:"=",domainObject:"=mctObject",ngModel:"=",parameters:"="}}}return e}),define("platform/representation/src/gestures/GestureConstants",{MCT_DRAG_TYPE:"mct-domain-object-id",MCT_EXTENDED_DRAG_TYPE:"mct-domain-object",MCT_MENU_DIMENSIONS:[170,200],MCT_DROP_EVENT:"mctDrop"}),define("platform/representation/src/gestures/DragGesture",["./GestureConstants"],function(e){function t(t,n,r,i){function o(r){var o=(r||{}).originalEvent||r;t.debug("Initiating drag");try{o.dataTransfer.effectAllowed="move",o.dataTransfer.setData("text/plain",JSON.stringify({id:i.getId(),model:i.getModel()})),o.dataTransfer.setData(e.MCT_DRAG_TYPE,i.getId()),n.setData(e.MCT_EXTENDED_DRAG_TYPE,i),n.setData(e.MCT_DRAG_TYPE,i.getId())}catch(s){t.warn(["Could not initiate drag due to ",s.message].join(""))}}function s(){n.removeData(e.MCT_DRAG_TYPE),n.removeData(e.MCT_EXTENDED_DRAG_TYPE)}t.debug("Attaching drag gesture"),r.attr("draggable","true"),r.on("dragstart",o),r.on("dragend",s),this.element=r,this.startDragCallback=o,this.endDragCallback=s}return t.prototype.destroy=function(){this.element.removeAttr("draggable"),this.element.off("dragstart",this.startDragCallback),this.element.off("dragend",this.endDragCallback)},t}),define("platform/representation/src/gestures/DropGesture",["./GestureConstants"],function(e){function t(t,n,r,i){function o(t,n){var i,o=r.scope&&r.scope();o&&o.$broadcast&&(i=r[0].getBoundingClientRect(),o.$broadcast(e.MCT_DROP_EVENT,t,{x:n.pageX-i.left,y:n.pageY-i.top}))}function s(n){var r=(n||{}).originalEvent||n,i=t.getData(e.MCT_EXTENDED_DRAG_TYPE);return i&&(c=l.getActions({key:"compose",selectedObject:i})[0])?(r.dataTransfer.dropEffect="move",r.preventDefault(),!1):void 0}function a(t){var r=(t||{}).originalEvent||t,i=r.dataTransfer.getData(e.MCT_DRAG_TYPE);i&&(t.preventDefault(),n.when(c&&c.perform()).then(function(){o(i,r)}))}var c,l=i.getCapability("action");l&&(r.on("dragover",s),r.on("drop",a)),this.element=r,this.dragOverCallback=s,this.dropCallback=a}return t.prototype.destroy=function(){this.element.off("dragover",this.dragOverCallback),this.element.off("drop",this.dropCallback)},t}),define("platform/representation/src/gestures/ContextMenuGesture",[],function(){
function e(e,t,n,r){function i(e){r.getCapability("action").perform({key:"menu",domainObject:r,event:e})}var o,s=500;t.isMobile()?t.isMobile()&&(n.on("touchstart",function(t){t.touches.length<2&&(o=!0,e(function(){o&&i(t)},s))}),n.on("touchend",function(){o=!1})):n.on("contextmenu",i),this.showMenuCallback=i,this.element=n}return e.prototype.destroy=function(){this.element.off("contextmenu",this.showMenu)},e}),define("platform/representation/src/gestures/GestureProvider",[],function(){function e(e){var t={};e.forEach(function(e){t[e.key]=e}),this.gestureMap=t}function t(e){e&&e.destroy&&e.destroy()}return e.prototype.attachGestures=function(e,n,r){var i=this.gestureMap,o=r.map(function(e){return i[e]}).filter(function(e){return void 0!==e&&(e.appliesTo?e.appliesTo(n):!0)}).map(function(t){return new t(e,n)});return{destroy:function(){o.forEach(t)}}},e}),define("platform/representation/src/gestures/GestureRepresenter",[],function(){function e(e,t,n){this.gestureService=e,this.element=n}return e.prototype.represent=function(e,t){this.destroy(),this.gestureHandle=this.gestureService.attachGestures(this.element,t,(e||{}).gestures||[])},e.prototype.destroy=function(){this.gestureHandle&&this.gestureHandle.destroy()},e}),define("platform/representation/src/services/DndService",[],function(){function e(e){var t={};return{setData:function(n,r){e.debug("Setting drag data for "+n),t[n]=r},getData:function(e){return t[e]},removeData:function(n){e.debug("Clearing drag data for "+n),delete t[n]}}}return e}),define("platform/representation/src/TemplateLinker",[],function(){function e(e,t,n,r){this.$templateRequest=e,this.$sce=t,this.$compile=n,this.$log=r}return e.prototype.load=function(e){return this.$templateRequest(this.$sce.trustAsResourceUrl(e),!1)},e.prototype.getPath=function(e){return[e.bundle.path,e.bundle.resources,e.templateUrl].join("/")},e.prototype.link=function(e,t,n){function r(){p&&(p.$destroy(),p=void 0)}function i(){f!==h&&(r(),f.replaceWith(h),f=h)}function o(){f!==t&&(f.replaceWith(t),f=t,f.empty())}function s(n){r(),p=e.$new(!1),t.html(n),m.$compile(t.contents())(p)}function a(e){o(),s(e),d=void 0}function c(e){m.$log.warn("Couldn't load template at "+e),i()}function l(e){e?(r(),o(),m.load(e).then(function(t){e===d&&s(t)},function(){c(e)})):i(),d=e}function u(e){e=e||{},e.templateUrl?l(m.getPath(e)):e.template?a(e.template):i()}var d,p,f=t,h=this.$compile("<!-- hidden mct element -->")(e),m=this;return u(n),u},e}),define("platform/representation/src/actions/ContextMenuAction",["../gestures/GestureConstants"],function(e){function t(e,t,n,r,i,o){this.$compile=e,this.agentService=i,this.actionContext=o,this.popupService=r,this.getDocument=function(){return t},this.getRootScope=function(){return n}}var n,r='<mct-representation key="\'context-menu\'" mct-object="domainObject" ng-class="menuClass" ng-style="menuStyle"></mct-representation>';return t.prototype.perform=function(){function t(){o&&(o.dismiss(),o=void 0),f.$destroy(),p.off("mousedown",t),n=void 0}var i,o,s=this.$compile,a=this.getDocument(),c=this.getRootScope(),l=this.actionContext,u=[l.event.pageX,l.event.pageY],d=e.MCT_MENU_DIMENSIONS,p=a.find("body"),f=c.$new(),h=this.agentService.isMobile()?"touchstart":"mousedown";n&&n(),n=t,f.domainObject=l.domainObject,f.menuClass={"context-menu-holder":!0},i=s(r)(f),o=this.popupService.display(i,u,{marginX:-d[0],marginY:-d[1]}),f.menuClass["go-left"]=o.goesLeft(),f.menuClass["go-up"]=o.goesUp(),i.on(h,function(e){e.stopPropagation()}),p.on(h,t),i.on("click",t),l.event.preventDefault()},t}),define("platform/representation/src/TemplatePrefetcher",[],function(){function e(e){Array.prototype.slice.apply(arguments,[1]).reduce(function(e,t){return e.concat(t)},[]).forEach(function(t){t.templateUrl&&e.load(e.getPath(t))})}return e}),define("platform/representation/bundle",["./src/MCTInclude","./src/MCTRepresentation","./src/gestures/DragGesture","./src/gestures/DropGesture","./src/gestures/ContextMenuGesture","./src/gestures/GestureProvider","./src/gestures/GestureRepresenter","./src/services/DndService","./src/TemplateLinker","./src/actions/ContextMenuAction","./src/TemplatePrefetcher","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d){d.register("platform/representation",{extensions:{directives:[{key:"mctInclude",implementation:e,depends:["templates[]","templateLinker"]},{key:"mctRepresentation",implementation:t,depends:["representations[]","views[]","representers[]","$q","templateLinker","$log"]}],gestures:[{key:"drag",implementation:n,depends:["$log","dndService"]},{key:"drop",implementation:r,depends:["dndService","$q"]},{key:"menu",implementation:i,depends:["$timeout","agentService"]}],components:[{provides:"gestureService",type:"provider",implementation:o,depends:["gestures[]"]}],representers:[{implementation:s,depends:["gestureService"]}],services:[{key:"dndService",implementation:a,depends:["$log"]},{key:"templateLinker",implementation:c,depends:["$templateRequest","$sce","$compile","$log"],comment:"For internal use by mct-include and mct-representation."}],actions:[{key:"menu",implementation:l,depends:["$compile","$document","$rootScope","popupService","agentService"]}],runs:[{priority:"mandatory",implementation:u,depends:["templateLinker","templates[]","views[]","representations[]","controls[]","containers[]"]}]}})}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,r,i){if(n===i)return!0;if(e===r){if("http"===e)return t(n,"80")===t(i,"80");if("https"===e)return t(n,"443")===t(i,"443")}return!1}var r,i,o,s,a,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,p=d&&location.protocol&&location.protocol.replace(/\:/,""),f=d&&location.hostname,h=d&&(location.port||void 0),m={},g=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(r){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,o=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),n=e.substring(o+1)):t=e,r=n||t,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,o){var s,a,c,l=r.xdRegExp.exec(e);return l?(s=l[2],a=l[3],a=a.split(":"),c=a[1],a=a[0],(!s||s===t)&&(!a||a.toLowerCase()===i.toLowerCase())&&(!c&&!a||n(s,c,t,o))):!0},finishLoad:function(e,t,n,i){n=t?r.strip(n):n,g.isBuild&&(m[e]=n),i(n)},load:function(e,t,n,i){if(i&&i.isBuild&&!i.inlineText)return void n();g.isBuild=i&&i.isBuild;var o=r.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),a=t.toUrl(s),c=g.useXhr||r.useXhr;return 0===a.indexOf("empty:")?void n():void(!d||c(a,p,f,h)?r.get(a,function(t){r.finishLoad(e,o.strip,t,n)},function(e){n.error&&n.error(e)}):t([s],function(e){r.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)}))},write:function(e,t,n,i){if(m.hasOwnProperty(t)){var o=r.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,n,i,o){var s=r.parseName(t),a=s.ext?"."+s.ext:"",c=s.moduleName+a,l=n.toUrl(s.moduleName+a)+".js";r.load(c,n,function(t){var n=function(e){return i(l,e)};n.asModule=function(e,t){return i.asModule(e,l,t)},r.write(e,c,n,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(i=require.nodeRequire("fs"),r.get=function(e,t,n){try{var r=i.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(o){n&&n(o)}}):"xhr"===g.env||!g.env&&r.createXhr()?r.get=function(e,t,n,i){var o,s=r.createXhr();if(s.open("GET",e,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(r){var i,o;4===s.readyState&&(i=s.status||0,i>399&&600>i?(o=new Error(e+" HTTP status: "+i),o.xhr=s,n&&n(o)):t(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,r,i="utf-8",o=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),c="";try{for(n=new java.lang.StringBuffer,r=a.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=a.readLine());)n.append(s),n.append(r);c=String(n.toString())}finally{a.close()}t(c)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),a="@mozilla.org/windows-registry-key;1"in o,r.get=function(e,t){var n,r,i,c={};a&&(e=e.replace(/\//g,"\\")),i=new FileUtils.File(e);try{n=o["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),n.init(i,1,0,!1),r=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),r.init(n,"utf-8",n.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),c),r.close(),n.close(),t(c.value)}catch(l){throw new Error((i&&i.path||"")+": "+l)}}),r}),define("text!platform/commonUI/about/res/templates/about-dialog.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="abs t-about l-about t-about-openmctweb s-about" ng-controller = "AboutController as about">\r\n    <div class="l-splash s-splash"></div>\r\n    <div class="s-text l-content">\r\n        <h1 class="l-title s-title">Open MCT</h1>\r\n        <div class="l-description s-description">\r\n	        <p>Open MCT, Copyright &copy; 2014-2016, United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All rights reserved.</p>\r\n	        <p>Open MCT is licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.  You may obtain a copy of the License at <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.</p>\r\n	        <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>\r\n	        <p>Open MCT includes source code licensed under additional open source licenses. See the Open Source Licenses file included with this distribution or <a ng-click="about.openLicenses()">click here for licensing information</a>.</p>\r\n        </div>\r\n        <h2>Version Information</h2>\r\n        <ul class="t-info l-info s-info" ng-repeat = "version in about.versions()">\r\n            <li title="{{version.description}}">\r\n                <span class="info version-name">{{version.name}}</span>\r\n	            <span class="info version-value">{{version.value}}</span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>\r\n\r\n'}),define("platform/commonUI/about/src/LogoController",[],function(){function e(e){this.overlayService=e}return e.prototype.showAboutDialog=function(){this.overlayService.createOverlay("overlay-about")},e}),define("platform/commonUI/about/src/AboutController",[],function(){function e(e,t){this.versionDefinitions=e,this.$window=t}return e.prototype.versions=function(){return this.versionDefinitions},e.prototype.openLicenses=function(){this.$window.open("#/licenses")},e}),define("platform/commonUI/about/src/LicenseController",[],function(){function e(e){this.licenseDefinitions=e}return e.prototype.licenses=function(){return this.licenseDefinitions},e}),define("text!platform/commonUI/about/res/templates/app-logo.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller = "AboutController as about">\r\n	<div class=\'app-logo logo-openmctweb abs\' title="Version {{about.versions()[0].value}}"></div>\r\n</span>'}),define("text!platform/commonUI/about/res/templates/about-logo.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="LogoController as logo">\r\n    <mct-include ng-click="logo.showAboutDialog()" key="\'app-logo\'">\r\n    </mct-include>\r\n</span>\r\n'}),define("text!platform/commonUI/about/res/templates/overlay-about.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<mct-container key="overlay">\r\n    <mct-include key="\'about-dialog\'">\r\n    </mct-include>\r\n</mct-container>'}),define("text!platform/commonUI/about/res/templates/license-apache.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<!-- From http://www.apache.org/licenses/LICENSE-2.0 -->\r\n<br>\r\n	<p>Version 2.0, January 2004</p>\r\n	<p><a href="http://www.apache.org/licenses/">http://www.apache.org/licenses/</a></p>\r\n	<h3>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</h3>\r\n	<p><strong><a name="definitions">1. Definitions</a></strong>.</p>\r\n	<p>"License" shall mean the terms and conditions for use, reproduction, and\r\n		distribution as defined by Sections 1 through 9 of this document.</p>\r\n	<p>"Licensor" shall mean the copyright owner or entity authorized by the\r\n		copyright owner that is granting the License.</p>\r\n	<p>"Legal Entity" shall mean the union of the acting entity and all other\r\n		entities that control, are controlled by, or are under common control with\r\n		that entity. For the purposes of this definition, "control" means (i) the\r\n		power, direct or indirect, to cause the direction or management of such\r\n		entity, whether by contract or otherwise, or (ii) ownership of fifty\r\n		percent (50%) or more of the outstanding shares, or (iii) beneficial\r\n		ownership of such entity.</p>\r\n	<p>"You" (or "Your") shall mean an individual or Legal Entity exercising\r\n		permissions granted by this License.</p>\r\n	<p>"Source" form shall mean the preferred form for making modifications,\r\n		including but not limited to software source code, documentation source,\r\n		and configuration files.</p>\r\n	<p>"Object" form shall mean any form resulting from mechanical transformation\r\n		or translation of a Source form, including but not limited to compiled\r\n		object code, generated documentation, and conversions to other media types.</p>\r\n	<p>"Work" shall mean the work of authorship, whether in Source or Object form,\r\n		made available under the License, as indicated by a copyright notice that\r\n		is included in or attached to the work (an example is provided in the\r\n		Appendix below).</p>\r\n	<p>"Derivative Works" shall mean any work, whether in Source or Object form,\r\n		that is based on (or derived from) the Work and for which the editorial\r\n		revisions, annotations, elaborations, or other modifications represent, as\r\n		a whole, an original work of authorship. For the purposes of this License,\r\n		Derivative Works shall not include works that remain separable from, or\r\n		merely link (or bind by name) to the interfaces of, the Work and Derivative\r\n		Works thereof.</p>\r\n	<p>"Contribution" shall mean any work of authorship, including the original\r\n		version of the Work and any modifications or additions to that Work or\r\n		Derivative Works thereof, that is intentionally submitted to Licensor for\r\n		inclusion in the Work by the copyright owner or by an individual or Legal\r\n		Entity authorized to submit on behalf of the copyright owner. For the\r\n		purposes of this definition, "submitted" means any form of electronic,\r\n		verbal, or written communication sent to the Licensor or its\r\n		representatives, including but not limited to communication on electronic\r\n		mailing lists, source code control systems, and issue tracking systems that\r\n		are managed by, or on behalf of, the Licensor for the purpose of discussing\r\n		and improving the Work, but excluding communication that is conspicuously\r\n		marked or otherwise designated in writing by the copyright owner as "Not a\r\n		Contribution."</p>\r\n	<p>"Contributor" shall mean Licensor and any individual or Legal Entity on\r\n		behalf of whom a Contribution has been received by Licensor and\r\n		subsequently incorporated within the Work.</p>\r\n	<p><strong><a name="copyright">2. Grant of Copyright License</a></strong>. Subject to the\r\n		terms and conditions of this License, each Contributor hereby grants to You\r\n		a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable\r\n		copyright license to reproduce, prepare Derivative Works of, publicly\r\n		display, publicly perform, sublicense, and distribute the Work and such\r\n		Derivative Works in Source or Object form.</p>\r\n	<p><strong><a name="patent">3. Grant of Patent License</a></strong>. Subject to the terms\r\n		and conditions of this License, each Contributor hereby grants to You a\r\n		perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable\r\n		(except as stated in this section) patent license to make, have made, use,\r\n		offer to sell, sell, import, and otherwise transfer the Work, where such\r\n		license applies only to those patent claims licensable by such Contributor\r\n		that are necessarily infringed by their Contribution(s) alone or by\r\n		combination of their Contribution(s) with the Work to which such\r\n		Contribution(s) was submitted. If You institute patent litigation against\r\n		any entity (including a cross-claim or counterclaim in a lawsuit) alleging\r\n		that the Work or a Contribution incorporated within the Work constitutes\r\n		direct or contributory patent infringement, then any patent licenses\r\n		granted to You under this License for that Work shall terminate as of the\r\n		date such litigation is filed.</p>\r\n	<p><strong><a name="redistribution">4. Redistribution</a></strong>. You may reproduce and\r\n		distribute copies of the Work or Derivative Works thereof in any medium,\r\n		with or without modifications, and in Source or Object form, provided that\r\n		You meet the following conditions:</p>\r\n	<ol style="list-style: lower-latin;">\r\n		<li>You must give any other recipients of the Work or Derivative Works a\r\n			copy of this License; and</li>\r\n\r\n		<li>You must cause any modified files to carry prominent notices stating\r\n			that You changed the files; and</li>\r\n\r\n		<li>You must retain, in the Source form of any Derivative Works that You\r\n			distribute, all copyright, patent, trademark, and attribution notices from\r\n			the Source form of the Work, excluding those notices that do not pertain to\r\n			any part of the Derivative Works; and</li>\r\n\r\n		<li>If the Work includes a "NOTICE" text file as part of its distribution,\r\n			then any Derivative Works that You distribute must include a readable copy\r\n			of the attribution notices contained within such NOTICE file, excluding\r\n			those notices that do not pertain to any part of the Derivative Works, in\r\n			at least one of the following places: within a NOTICE text file distributed\r\n			as part of the Derivative Works; within the Source form or documentation,\r\n			if provided along with the Derivative Works; or, within a display generated\r\n			by the Derivative Works, if and wherever such third-party notices normally\r\n			appear. The contents of the NOTICE file are for informational purposes only\r\n			and do not modify the License. You may add Your own attribution notices\r\n			within Derivative Works that You distribute, alongside or as an addendum to\r\n			the NOTICE text from the Work, provided that such additional attribution\r\n			notices cannot be construed as modifying the License.\r\n			<br>\r\n			<br>\r\n			You may add Your own copyright statement to Your modifications and may\r\n			provide additional or different license terms and conditions for use,\r\n			reproduction, or distribution of Your modifications, or for any such\r\n			Derivative Works as a whole, provided Your use, reproduction, and\r\n			distribution of the Work otherwise complies with the conditions stated in\r\n			this License.\r\n		</li>\r\n\r\n	</ol>\r\n\r\n	<p><strong><a name="contributions">5. Submission of Contributions</a></strong>. Unless You\r\n		explicitly state otherwise, any Contribution intentionally submitted for\r\n		inclusion in the Work by You to the Licensor shall be under the terms and\r\n		conditions of this License, without any additional terms or conditions.\r\n		Notwithstanding the above, nothing herein shall supersede or modify the\r\n		terms of any separate license agreement you may have executed with Licensor\r\n		regarding such Contributions.</p>\r\n	<p><strong><a name="trademarks">6. Trademarks</a></strong>. This License does not grant\r\n		permission to use the trade names, trademarks, service marks, or product\r\n		names of the Licensor, except as required for reasonable and customary use\r\n		in describing the origin of the Work and reproducing the content of the\r\n		NOTICE file.</p>\r\n	<p><strong><a name="no-warranty">7. Disclaimer of Warranty</a></strong>. Unless required by\r\n		applicable law or agreed to in writing, Licensor provides the Work (and\r\n		each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT\r\n		WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including,\r\n		without limitation, any warranties or conditions of TITLE,\r\n		NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You\r\n		are solely responsible for determining the appropriateness of using or\r\n		redistributing the Work and assume any risks associated with Your exercise\r\n		of permissions under this License.</p>\r\n	<p><strong><a name="no-liability">8. Limitation of Liability</a></strong>. In no event and\r\n		under no legal theory, whether in tort (including negligence), contract, or\r\n		otherwise, unless required by applicable law (such as deliberate and\r\n		grossly negligent acts) or agreed to in writing, shall any Contributor be\r\n		liable to You for damages, including any direct, indirect, special,\r\n		incidental, or consequential damages of any character arising as a result\r\n		of this License or out of the use or inability to use the Work (including\r\n		but not limited to damages for loss of goodwill, work stoppage, computer\r\n		failure or malfunction, or any and all other commercial damages or losses),\r\n		even if such Contributor has been advised of the possibility of such\r\n		damages.</p>\r\n	<p><strong><a name="additional">9. Accepting Warranty or Additional Liability</a></strong>.\r\n		While redistributing the Work or Derivative Works thereof, You may choose\r\n		to offer, and charge a fee for, acceptance of support, warranty, indemnity,\r\n		or other liability obligations and/or rights consistent with this License.\r\n		However, in accepting such obligations, You may act only on Your own behalf\r\n		and on Your sole responsibility, not on behalf of any other Contributor,\r\n		and only if You agree to indemnify, defend, and hold each Contributor\r\n		harmless for any liability incurred by, or claims asserted against, such\r\n		Contributor by reason of your accepting any such warranty or additional\r\n		liability.</p>\r\n	<h3>END OF TERMS AND CONDITIONS</h3>\r\n	<h3 id="apply">APPENDIX: How to apply the Apache License to your work</h3>\r\n	<p>To apply the Apache License to your work, attach the following boilerplate\r\n		notice, with the fields enclosed by brackets "[]" replaced with your own\r\n		identifying information. (Don\'t include the brackets!) The text should be\r\n		enclosed in the appropriate comment syntax for the file format. We also\r\n		recommend that a file or class name and description of purpose be included\r\n		on the same "printed page" as the copyright notice for easier\r\n		identification within third-party archives.</p>\r\n	<div class="codehilite"><pre>Copyright [yyyy] [name of copyright owner]\r\n\r\nLicensed under the Apache License, Version 2.0 (the "License");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an "AS IS" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n</pre></div>'}),define("text!platform/commonUI/about/res/templates/license-mit.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>\r\n<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>\r\n<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>';
}),define("text!platform/commonUI/about/res/templates/licenses.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="LicenseController as lc" class="abs l-standalone s-text l-about l-licenses s-about s-licenses">\r\n	<h1>OpenMCT Web Licenses</h1>\r\n	<h2>Apache License</h2>\r\n	<mct-include key="\'license-apache\'"></mct-include>\r\n\r\n	<h2>Software Components Licenses</h2>\r\n    <p>This software includes components released under the following licenses:</p>\r\n	<div class="l-licenses-software">\r\n		<div class="l-license-software" ng-repeat="license in lc.licenses()">\r\n			<h3><a target="_blank" ng-href="{{license.website}}">{{license.name}}</a></h3>\r\n			<p>\r\n				<em>Version</em> {{license.version}}\r\n				<em>&nbsp;|&nbsp;Author<span ng-show="license.author.indexOf(\',\') > 0">s</span></em> {{license.author}}\r\n				<em>&nbsp;|&nbsp;Description</em> {{license.description}}\r\n			</p>\r\n			<em>License</em>\r\n			<div class="s-license-text">\r\n				<p ng-show="license.copyright.length > 0">{{license.copyright}}</p>\r\n				<mct-include key="license.license"></mct-include>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("text!platform/commonUI/about/res/templates/licenses-export-md.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="LicenseController as lc" class="abs l-about l-standalone s-text s-md-export">\r\n    <h1># Open MCT Licenses</h1>\r\n    <h2>## Apache License</h2>\r\n    <mct-include key="\'license-apache\'"></mct-include>\r\n\r\n    <h2>## Software Components Licenses</h2>\r\n    <p>This software includes components released under the following licenses:</p>\r\n    <div class="l-license-software" ng-repeat="license in lc.licenses()">\r\n        <p>### {{license.name}}</p>\r\n        <p>#### Info</p>\r\n        <p>* Link: {{license.website}}</p>\r\n        <p>* Version: {{license.version}}</p>\r\n        <p>* Author<span ng-show="license.author.indexOf(\',\') > 0">s</span>: {{license.author}}</p>\r\n        <p>* Description: {{license.description}}</p>\r\n        <p>#### License</p>\r\n        <p ng-show="license.copyright.length > 0">{{license.copyright}}</p>\r\n        <mct-include key="license.license"></mct-include>\r\n        <p>&nbsp;</p>\r\n        <p>---</p>\r\n    </div>\r\n</div>'}),define("platform/commonUI/about/bundle",["text!./res/templates/about-dialog.html","./src/LogoController","./src/AboutController","./src/LicenseController","text!./res/templates/app-logo.html","text!./res/templates/about-logo.html","text!./res/templates/overlay-about.html","text!./res/templates/license-apache.html","text!./res/templates/license-mit.html","text!./res/templates/licenses.html","text!./res/templates/licenses-export-md.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d){d.register("platform/commonUI/about",{name:"About Open MCT",extensions:{templates:[{key:"app-logo",priority:"optional",template:i},{key:"about-logo",priority:"preferred",template:o},{key:"about-dialog",template:e},{key:"overlay-about",template:s},{key:"license-apache",template:a},{key:"license-mit",template:c}],controllers:[{key:"LogoController",depends:["overlayService"],implementation:t},{key:"AboutController",depends:["versions[]","$window"],implementation:n},{key:"LicenseController",depends:["licenses[]"],implementation:r}],licenses:[{name:"Json.NET",version:"6.0.8",author:"Newtonsoft",description:"JSON serialization/deserialization",website:"http://www.newtonsoft.com/json",copyright:"Copyright (c) 2007 James Newton-King",license:"license-mit",link:"https://github.com/JamesNK/Newtonsoft.Json/blob/master/LICENSE.md"},{name:"Nancy",version:"0.23.2",author:"Andreas Håkansson, Steven Robbins and contributors",description:"Embedded web server",website:"http://nancyfx.org/",copyright:"Copyright © 2010 Andreas Håkansson, Steven Robbins and contributors",license:"license-mit",link:"http://www.opensource.org/licenses/mit-license.php"},{name:"Nancy.Hosting.Self",version:"0.23.2",author:"Andreas Håkansson, Steven Robbins and contributors",description:"Embedded web server",website:"http://nancyfx.org/",copyright:"Copyright © 2010 Andreas Håkansson, Steven Robbins and contributors",license:"license-mit",link:"http://www.opensource.org/licenses/mit-license.php"},{name:"SuperSocket",version:"0.9.0.2",author:" Kerry Jiang",description:"Supports SuperWebSocket",website:"https://supersocket.codeplex.com/",copyright:"Copyright 2010-2014 Kerry Jiang (kerry-jiang@hotmail.com)",license:"license-apache",link:"https://supersocket.codeplex.com/license"},{name:"SuperWebSocket",version:"0.9.0.2",author:" Kerry Jiang",description:"WebSocket implementation for client-server communication",website:"https://superwebsocket.codeplex.com/",copyright:"Copyright 2010-2014 Kerry Jiang (kerry-jiang@hotmail.com)",license:"license-apache",link:"https://superwebsocket.codeplex.com/license"},{name:"log4net",version:"2.0.3",author:"Apache Software Foundation",description:"Logging",website:"http://logging.apache.org/log4net/",copyright:"Copyright © 2004-2015 Apache Software Foundation.",license:"license-apache",link:"http://logging.apache.org/log4net/license.html"}],routes:[{when:"/licenses",template:l},{when:"/licenses-md",template:u}]}})}),define("platform/commonUI/browse/src/BrowseController",[],function(){function e(e,n,r,i,o,s,a){function c(t){var i,o=n.current;i=e.$on("$locationChangeSuccess",function(){0===r.path().indexOf("/browse/")&&(n.current=o),i()}),r.path(s.urlForLocation("browse",t))}function l(t,n){n?(e.navigatedObject=t,e.treeModel.selectedObject=t,c(t)):e.treeModel.selectedObject=e.navigatedObject}function u(t){t!==e.navigatedObject&&(t?t.getCapability("action").perform("navigate").then(l.bind(void 0,t)):l(t,!0))}function d(t){!o.getNavigation()||n.current.params.ids?(o.setNavigation(t),e.navigatedObject=t):(e.navigatedObject=o.getNavigation(),c(e.navigatedObject))}function p(e,t){var n;for(n=0;n<e.length;n+=1)if(e[n].getId()===t)return e[n]}function f(e,t){var n=e.useCapability("composition");n?n.then(function(n){var r=p(n,h[t]);r?t+1>=h.length?d(r):f(r,t+1):d(1===t&&n.length>0?n[n.length-1]:e)}):d(e)}var h=[t].concat((n.current.params.ids||a).split("/"));i.getObjects([h[0]]).then(function(t){e.domainObject=t[h[0]],f(e.domainObject,1)}),e.treeModel={selectedObject:o.getNavigation()},o.addListener(u),e.$watch("treeModel.selectedObject",u),e.$on("$destroy",function(){o.removeListener(u)})}var t="ROOT";return e}),define("platform/commonUI/browse/src/PaneController",[],function(){function e(e,t,n){var r=this;this.agentService=t,this.state=!n.opener,this.callback=function(){t.isPhone()&&t.isPortrait()&&(r.state=!1)}}return e.prototype.toggle=function(){this.state=!this.state},e.prototype.visible=function(){return this.state},e}),define("platform/commonUI/browse/src/InspectorPaneController",["./PaneController"],function(e){function t(t,n,r,i){function o(e){-1===e.indexOf("editing")||c.visible()||c.toggle()}function s(e){return a&&a(),e.hasCapability("status")&&(a=e.getCapability("status").listen(o)),a}e.call(this,t,n,r);var a,c=this,l=i.getNavigation();l&&s(l);var u=i.addListener(s);t.$on("$destroy",function(){a(),u()})}return t.prototype=Object.create(e.prototype),t}),define("platform/commonUI/browse/src/BrowseObjectController",[],function(){function e(e,t,n){function r(n){function r(t){t.key===i&&(e.representation=e.representation||{},e.representation.selected=t)}var i=t.search().view;i&&(n&&n.useCapability("view")||[]).forEach(r),o=n}function i(r){var i,o=n.current;r&&(t.search("view",r),i=e.$on("$locationChangeSuccess",function(){0===t.path().indexOf("/browse/")&&(n.current=o),i()}))}var o;e.$watch("domainObject",r),e.$watch("representation.selected.key",i),e.doAction=function(t){return e[t]&&e[t]()}}return e}),define("platform/commonUI/browse/src/MenuArrowController",[],function(){function e(e){this.$scope=e}return e.prototype.showMenu=function(e){var t={key:"menu",domainObject:this.$scope.domainObject,event:e};this.$scope.domainObject.getCapability("action").perform(t)},e}),define("platform/commonUI/browse/src/navigation/NavigationService",[],function(){function e(){this.navigated=void 0,this.callbacks=[]}return e.prototype.getNavigation=function(){return this.navigated},e.prototype.setNavigation=function(e){return this.navigated!==e&&(this.navigated=e,this.callbacks.forEach(function(t){t(e)})),!0},e.prototype.addListener=function(e){this.callbacks.push(e)},e.prototype.removeListener=function(e){this.callbacks=this.callbacks.filter(function(t){return t!==e})},e}),define("platform/commonUI/browse/src/navigation/NavigateAction",[],function(){function e(e,t,n,r,i){this.domainObject=i.domainObject,this.$q=t,this.navigationService=e,this.policyService=n,this.$window=r}return e.prototype.perform=function(){function e(){return t.policyService.allow("navigation",t.navigationService.getNavigation(),t.domainObject,function(e){n=t.$window.confirm(e+"\r\n\r\n Are you sure you want to continue?")}),n}var t=this,n=!0;return this.$q.when(e()&&this.navigationService.setNavigation(this.domainObject))},e.appliesTo=function(e){return void 0!==e.domainObject},e}),define("platform/commonUI/browse/src/navigation/OrphanNavigationHandler",[],function(){function e(e,t,n){function r(e){var t=e.getCapability("context");return t.getParent()}function i(e){var t=r(e),n=t.getModel().composition,i=e.getId();return!n||-1===n.indexOf(i)}function o(e){var t=r(e);return t.getCapability("action").perform("navigate")}function s(){var e=n.getNavigation();e.hasCapability("context")&&i(e)&&(e.getCapability("editor").isEditContextRoot()||o(e))}var a;a=e(s),n.addListener(a),t("mutation").listen(a)}return e}),define("platform/commonUI/browse/src/windowing/NewTabAction",[],function(){function e(e,t,n){n=n||{},this.urlService=e,this.open=function(){t.open.apply(t,arguments)},this.domainObject=n.selectedObject||n.domainObject}return e.prototype.perform=function(){this.open(this.urlService.urlForNewTab("browse",this.domainObject),"_blank")},e}),function(e){define("screenfull",[],function(){return function(){return!function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};i>r;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;t>r;r++)o[n[0][r]]=e[r];return o}return!1}(),r={request:function(e){var r=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[r]():e[r](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:n};return n?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(document[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[n.fullscreenEnabled])}}}),void(e?module.exports=r:window.screenfull=r)):void(e?module.exports=!1:window.screenfull=!1)}(),e.screenfull=screenfull}.apply(e,arguments)})}(this),define("platform/commonUI/browse/src/windowing/FullscreenAction",["screenfull"],function(e){function t(e){this.context=e}var n="Enter full screen mode",r="Exit full screen mode";return t.prototype.perform=function(){e.toggle()},t.prototype.getMetadata=function(){var i=Object.create(t);return i.cssclass=e.isFullscreen?"icon-fullscreen-expand":"icon-fullscreen-collapse",i.description=e.isFullscreen?r:n,i.group="windowing",i.context=this.context,i},t}),define("platform/commonUI/browse/src/windowing/WindowTitler",[],function(){function e(e,t,n){function r(){var t=e.getNavigation();return t&&t.getModel().name}function i(e){n[0].title=e}t.$watch(r,i)}return e}),define("text!platform/commonUI/browse/res/templates/browse.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n\r\n<div class="abs holder-all" ng-controller="BrowseController">\r\n    <mct-include key="\'topbar-browse\'"></mct-include>\r\n    <div class="abs holder holder-main browse-area s-browse-area browse-wrapper"\r\n         ng-controller="PaneController as modelPaneTree"\r\n         ng-class="modelPaneTree.visible() ? \'pane-tree-showing\' : \'pane-tree-hidden\'">\r\n        <mct-split-pane class=\'abs contents\'\r\n                        anchor=\'left\'>\r\n            <div class=\'split-pane-component treeview pane left\'>\r\n                <div class="abs holder l-flex-col holder-treeview-elements">\r\n                    <mct-representation key="\'create-button\'"\r\n                                        mct-object="navigatedObject"\r\n                                        class="holder flex-elem create-button-holder">\r\n                    </mct-representation>\r\n                    <mct-include key="\'search\'"\r\n                                 ng-model="treeModel"\r\n                                 class="holder l-flex-col flex-elem search-holder"\r\n                                 ng-class="{ active: treeModel.search, grows: treeModel.search }">\r\n                    </mct-include>\r\n                    <mct-representation key="\'tree\'"\r\n                                        mct-object="domainObject"\r\n                                        parameters="tree"\r\n                                        ng-model="treeModel"\r\n                                        class="holder flex-elem grows vscroll tree-holder"\r\n                                        ng-hide="treeModel.search">\r\n                    </mct-representation>\r\n                </div>\r\n            </div>\r\n\r\n            <mct-splitter class="splitter-treeview mobile-hide"></mct-splitter>\r\n\r\n            <div class=\'split-pane-component items pane primary-pane right\'>\r\n                <a class="mini-tab-icon anchor-left toggle-pane toggle-tree"\r\n                   title="{{ modelPaneTree.visible()? \'Hide\' : \'Show\' }} this pane"\r\n                   ng-click="modelPaneTree.toggle()"\r\n                   ng-class="{ collapsed : !modelPaneTree.visible() }"></a>\r\n\r\n                <div class=\'holder holder-object-and-inspector abs\' id=\'content-area\'\r\n                     ng-controller="InspectorPaneController as modelPaneInspect"\r\n                     ng-class="modelPaneInspect.visible() ? \'pane-inspect-showing\' : \'pane-inspect-hidden\'">\r\n\r\n                    <mct-split-pane class=\'l-object-and-inspector contents abs\' anchor=\'right\'>\r\n                        <div class=\'split-pane-component t-object pane primary-pane left\'>\r\n                            <mct-representation mct-object="navigatedObject"\r\n                                                key="\'view-object\'"\r\n                                                class="abs holder holder-object">\r\n                            </mct-representation>\r\n                            <a class="mini-tab-icon anchor-right mobile-hide toggle-pane toggle-inspect flush-right"\r\n                               title="{{ modelPaneInspect.visible()? \'Hide\' : \'Show\' }} the Inspection pane"\r\n                               ng-click="modelPaneInspect.toggle()"\r\n                               ng-class="{ collapsed : !modelPaneInspect.visible() }"></a>\r\n                        </div>\r\n\r\n                        <mct-splitter class="splitter-inspect mobile-hide flush-right edge-shdw"></mct-splitter>\r\n\r\n                        <div class="split-pane-component t-inspect pane right mobile-hide">\r\n                            <mct-representation key="\'object-inspector\'"\r\n                                                mct-object="navigatedObject"\r\n                                                ng-model="treeModel">\r\n                            </mct-representation>\r\n                        </div>\r\n                    </mct-split-pane>\r\n                </div>\r\n            </div>\r\n        </mct-split-pane>\r\n    </div>\r\n    <mct-include key="\'bottombar\'"></mct-include>\r\n</div>\r\n\r\n'}),define("text!platform/commonUI/browse/res/templates/browse-object.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="BrowseObjectController" class="abs l-flex-col">\r\n    <div class="holder flex-elem l-flex-row object-browse-bar ">\r\n        <div class="items-select left flex-elem l-flex-row grows">\r\n            <mct-representation key="\'back-arrow\'"\r\n                                mct-object="domainObject"\r\n                                class="flex-elem l-back"></mct-representation>\r\n            <mct-representation key="\'object-header\'"\r\n                                mct-object="domainObject"\r\n                                class="l-flex-row flex-elem grows object-header">\r\n            </mct-representation>\r\n        </div>\r\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\r\n            <mct-representation key="\'switcher\'"\r\n                                mct-object="domainObject"\r\n                                ng-model="representation">\r\n            </mct-representation>\r\n            <!-- Temporarily, on mobile, the action buttons are hidden-->\r\n            <mct-representation key="\'action-group\'"\r\n                                mct-object="domainObject"\r\n                                parameters="{ category: \'view-control\' }"\r\n                                class="mobile-hide">\r\n            </mct-representation>\r\n        </div>\r\n    </div>\r\n    <div class="holder l-flex-col flex-elem grows l-object-wrapper">\r\n        <div class="holder l-flex-col flex-elem grows l-object-wrapper-inner">\r\n            <!-- Toolbar and Save/Cancel buttons -->\r\n            <div class="l-edit-controls flex-elem l-flex-row flex-align-end">\r\n                <mct-representation key="\'edit-action-buttons\'"\r\n                                    mct-object="domainObject"\r\n                                    class=\'flex-elem conclude-editing\'>\r\n                </mct-representation>\r\n\r\n            </div>\r\n            <mct-representation key="representation.selected.key"\r\n                                mct-object="representation.selected.key && domainObject"\r\n                                class="abs flex-elem grows object-holder-main scroll">\r\n            </mct-representation>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("text!platform/commonUI/browse/res/templates/items/grid-item.html",[],function(){return"<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n \"License\"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<!-- For selected, add class 'selected' to outer div -->\r\n<div class='item grid-item' ng-click='action.perform(\"navigate\")'>\r\n    <div class='contents abs'>\r\n        <div class='top-bar bar abs'>\r\n            <span class='icon-people' title='Shared'></span>\r\n            <mct-representation class=\"desktop-hide\" key=\"'info-button'\" mct-object=\"domainObject\"></mct-representation>\r\n        </div>\r\n        <div class='item-main abs lg'>\r\n            <span class=\"t-item-icon\" ng-class=\"{ 'l-icon-link':location.isLink() }\">\r\n                <span class=\"t-item-icon-glyph ng-binding {{type.getCssClass()}}\"></span>\r\n            </span>\r\n            <div class='abs item-open icon-pointer-right'></div>\r\n        </div>\r\n        <div class='bottom-bar bar abs'>\r\n            <div class='title'>{{model.name}}</div>\r\n            <div class='details'>\r\n                <span>{{type.getName()}}</span>\r\n                <span ng-show=\"model.composition !== undefined\">\r\n                    - {{model.composition.length}} Item<span ng-show=\"model.composition.length > 1\">s</span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}),define("text!platform/commonUI/browse/res/templates/browse/object-header.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span class=\'type-icon flex-elem {{type.getCssClass()}}\'></span>\r\n<span class="l-elem-wrapper l-flex-row flex-elem grows">\r\n    <span ng-if="parameters.mode" class=\'action flex-elem\'>{{parameters.mode}}</span>\r\n    <span class=\'title-label flex-elem flex-can-shrink\'>{{model.name}}</span>\r\n    <mct-representation\r\n        key="\'menu-arrow\'"\r\n        mct-object=\'domainObject\'\r\n        class="flex-elem context-available-w"></mct-representation>\r\n</span>'}),define("text!platform/commonUI/browse/res/templates/menu-arrow.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n\r\n<span ng-controller="MenuArrowController as menuArrow">\r\n    <a class=\'context-available\'\r\n       ng-click=\'menuArrow.showMenu($event)\'></a>\r\n</span>'}),define("text!platform/commonUI/browse/res/templates/back-arrow.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n\r\n<a class=\'s-icon-button icon-pointer-left\'\r\n   ng-show="context.getPath().length > 2"\r\n   ng-click="context.getParent().getCapability(\'action\').perform(\'navigate\')">\r\n</a>\r\n\r\n'}),define("text!platform/commonUI/browse/res/templates/items/items.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class=\'items-holder grid abs\'>\r\n    <mct-representation key="\'grid-item\'"\r\n                        ng-repeat="childObject in composition"\r\n                        mct-object="childObject">\r\n    </mct-representation>\r\n</div>'}),define("text!platform/commonUI/browse/res/templates/browse/object-properties.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="ObjectInspectorController as controller">\r\n    <ul class="flex-elem grows l-inspector-part">\r\n        <li>\r\n            <em class="t-inspector-part-header">Properties</em>\r\n            <div class="inspector-properties"\r\n                 ng-repeat="data in metadata"\r\n                 ng-class="{ first:$index === 0 }">\r\n                <div class="label">{{ data.name }}</div>\r\n                <div class="value">{{ data.value }}</div>\r\n            </div>\r\n        </li>\r\n        <li ng-if="contextutalParents.length > 0">\r\n            <em class="t-inspector-part-header" title="The location of this linked object.">Location</em>\r\n            <div ng-if="primaryParents.length > 0" class="section-header">This Object</div>\r\n            <span class="inspector-location"\r\n                  ng-repeat="parent in contextutalParents"\r\n                  ng-class="{ last:($index + 1) === contextualParents.length }">\r\n                <mct-representation key="\'label\'"\r\n                                    mct-object="parent"\r\n                                    ng-model="ngModel"\r\n                                    ng-click="ngModel.selectedObject = parent"\r\n                                    class="location-item">\r\n                </mct-representation>\r\n            </span>\r\n        </li>\r\n        <li ng-if="primaryParents.length > 0">\r\n            <div class="section-header">Object\'s Original</div>\r\n            <span class="inspector-location"\r\n                  ng-repeat="parent in primaryParents"\r\n                  ng-class="{ last:($index + 1) === primaryParents.length }">\r\n                <mct-representation key="\'label\'"\r\n                                    mct-object="parent"\r\n                                    ng-model="ngModel"\r\n                                    ng-click="ngModel.selectedObject = parent"\r\n                                    class="location-item">\r\n                </mct-representation>\r\n            </span>\r\n        </li>\r\n    </ul>\r\n</div>';
}),define("text!platform/commonUI/browse/res/templates/browse/inspector-region.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="InspectorController">\r\n    <div ng-repeat="region in regions">\r\n        <mct-representation\r\n                key="region.content.key"\r\n                mct-object="domainObject"\r\n                ng-model="ngModel">\r\n        </mct-representation>\r\n    </div>\r\n</div>\r\n'}),define("platform/commonUI/browse/bundle",["./src/BrowseController","./src/PaneController","./src/InspectorPaneController","./src/BrowseObjectController","./src/MenuArrowController","./src/navigation/NavigationService","./src/navigation/NavigateAction","./src/navigation/OrphanNavigationHandler","./src/windowing/NewTabAction","./src/windowing/FullscreenAction","./src/windowing/WindowTitler","text!./res/templates/browse.html","text!./res/templates/browse-object.html","text!./res/templates/items/grid-item.html","text!./res/templates/browse/object-header.html","text!./res/templates/menu-arrow.html","text!./res/templates/back-arrow.html","text!./res/templates/items/items.html","text!./res/templates/browse/object-properties.html","text!./res/templates/browse/inspector-region.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w){w.register("platform/commonUI/browse",{extensions:{routes:[{when:"/browse/:ids*",template:d,reloadOnSearch:!1},{when:"",template:d,reloadOnSearch:!1}],constants:[{key:"DEFAULT_PATH",value:"mine",priority:"fallback"}],controllers:[{key:"BrowseController",implementation:e,depends:["$scope","$route","$location","objectService","navigationService","urlService","DEFAULT_PATH"]},{key:"PaneController",implementation:t,priority:"preferred",depends:["$scope","agentService","$window"]},{key:"BrowseObjectController",implementation:r,depends:["$scope","$location","$route"]},{key:"MenuArrowController",implementation:i,depends:["$scope"]},{key:"InspectorPaneController",implementation:n,priority:"preferred",depends:["$scope","agentService","$window","navigationService"]}],representations:[{key:"view-object",templateUrl:"templates/view-object.html"},{key:"browse-object",template:p,gestures:["drop"],uses:["view"]},{key:"grid-item",template:f,uses:["type","action","location"],gestures:["info","menu"]},{key:"object-header",template:h,uses:["type"]},{key:"menu-arrow",template:m,uses:["action"],gestures:["menu"]},{key:"back-arrow",uses:["context"],template:g},{key:"object-properties",template:v},{key:"inspector-region",template:b}],services:[{key:"navigationService",implementation:o}],actions:[{key:"navigate",implementation:s,depends:["navigationService","$q","policyService","$window"]},{key:"window",name:"Open In New Tab",implementation:c,description:"Open in a new browser tab",category:["view-control","contextual"],depends:["urlService","$window"],group:"windowing",cssclass:"icon-new-window",priority:"preferred"},{key:"fullscreen",implementation:l,category:"view-control",group:"windowing",priority:"default"}],views:[{key:"items",name:"Items",cssclass:"icon-thumbs-strip",description:"Grid of available items",template:y,uses:["composition"],gestures:["drop"],type:"folder",editable:!1}],runs:[{implementation:u,depends:["navigationService","$rootScope","$document"]},{implementation:a,depends:["throttle","topic","navigationService"]}],licenses:[{name:"screenfull.js",version:"1.2.0",description:"Wrapper for cross-browser usage of fullscreen API",author:"Sindre Sorhus",website:"https://github.com/sindresorhus/screenfull.js/",copyright:"Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)",license:"license-mit",link:"https://github.com/sindresorhus/screenfull.js/blob/gh-pages/license"}]}})}),define("platform/commonUI/edit/src/controllers/EditActionController",[],function(){function e(e){function n(){e.editActions=e.action?e.action.getActions(t):[]}e.$watch("action",n)}var t={category:"conclude-editing"};return e}),define("platform/commonUI/edit/src/controllers/EditPanesController",[],function(){function e(e){function t(e){var t=n.rootDomainObject,r=e&&e.getCapability("context"),i=r&&r.getTrueRoot(),o=t&&t.getId(),s=i&&i.getId();o!==s&&(n.rootDomainObject=i)}var n=this;e.$watch("domainObject",t)}return e.prototype.getRoot=function(){return this.rootDomainObject},e}),define("platform/commonUI/edit/src/controllers/ElementsController",[],function(){function e(e){function t(t){return"undefined"==typeof t?e.searchText:void(e.searchText=t)}function n(t){return e.searchText?-1!==t.getModel().name.toLowerCase().search(e.searchText.toLowerCase()):!0}e.filterBy=t,e.searchElements=n}return e}),define("platform/commonUI/edit/src/controllers/EditObjectController",[],function(){function e(e,t,n){function r(n){function r(t){t.key===o&&(e.representation=e.representation||{},e.representation.selected=t)}var o=t.search().view;o&&(n&&n.useCapability("view")||[]).forEach(r),i=n}this.scope=e,this.policyService=n;var i;e.$watch("domainObject",r),e.doAction=function(t){return e[t]&&e[t]()}}return e.prototype.getUnloadWarning=function(){var e,t=this.scope.domainObject;return this.policyService.allow("navigation",t,void 0,function(t){e=t}),e},e}),define("platform/commonUI/edit/src/directives/MCTBeforeUnload",[],function(){function e(e){function t(){var e;return r.forEach(function(t){e=e||t()}),e}function n(n,o,s){function a(){return n.$eval(s.mctBeforeUnload)}function c(){r=r.filter(function(e){return e!==a}),0===r.length&&(e.onbeforeunload=i)}function l(t){var n=a();n&&!e.confirm(n)&&t.preventDefault()}0===r.length&&(e.onbeforeunload=t),r.push(a),n.$on("$destroy",c),n.$on("$locationChangeStart",l)}var r=[],i=e.onbeforeunload;return{restrict:"A",link:n}}return e}),define("platform/commonUI/edit/src/actions/EditAndComposeAction",[],function(){function e(e){this.domainObject=(e||{}).domainObject,this.selectedObject=(e||{}).selectedObject}return e.prototype.perform=function(){function e(){var e=n.domainObject.getCapability("persistence");return e.persist()}function t(){var t=n.domainObject&&n.domainObject.getCapability("composition");return t&&t.add(n.selectedObject).then(e)}var n=this,r=this.domainObject.getCapability("action").getActions("edit")[0];return r&&r.perform(),this.selectedObject&&t()},e}),define("platform/commonUI/edit/src/actions/EditAction",[],function(){function e(e,n,r,i){var o=(i||{}).domainObject;return o?(this.domainObject=o,this.$location=e,void(this.navigationService=n)):(r.warn(["No domain object to edit; ","edit action is not valid."].join("")),t)}var t={perform:function(){}};return e.prototype.perform=function(){function e(){t.domainObject.getCapability("editor").cancel(),t.navigationService.removeListener(e)}var t=this;this.navigationService.getNavigation()!==this.domainObject&&this.navigationService.setNavigation(this.domainObject),this.navigationService.addListener(e),this.domainObject.useCapability("editor")},e.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("type");return n&&n.hasFeature("creation")&&t.hasCapability("editor")&&!t.getCapability("editor").isEditContextRoot()},e}),define("platform/commonUI/edit/src/actions/PropertiesDialog",[],function(){function e(e,t){this.type=e,this.model=t,this.properties=e.getProperties()}return e.prototype.getFormStructure=function(){return{name:"Edit "+this.model.name,sections:[{name:"Properties",rows:this.properties.map(function(e,t){var n=Object.create(e.getDefinition());return n.key=t,n}).filter(function(e){return e.control})}]}},e.prototype.getInitialFormValue=function(){var e=this.model;return this.properties.map(function(t){return t.getValue(e)})},e.prototype.updateModel=function(e,t){this.properties.forEach(function(n,r){n.setValue(e,t[r])})},e}),define("platform/commonUI/edit/src/actions/PropertiesAction",["./PropertiesDialog"],function(e){function t(e,t){this.domainObject=(t||{}).domainObject,this.dialogService=e}return t.prototype.perform=function(){function t(){var e=o.getCapability("persistence");return e&&e.persist()}function n(e,t){return o.useCapability("mutation",function(n){t.updateModel(n,e)})}function r(r){var i=new e(r,o.getModel());return s.getUserInput(i.getFormStructure(),i.getInitialFormValue()).then(function(e){return e&&n(e,i)}).then(function(e){return e&&t()})}var i=this.domainObject.getCapability("type"),o=this.domainObject,s=this.dialogService;return i&&r(i)},t.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("type"),r=n&&n.hasFeature("creation");return t&&t.hasCapability("persistence")&&r},t}),define("platform/commonUI/edit/src/actions/RemoveAction",[],function(){function e(e,t,n){this.domainObject=(n||{}).domainObject,this.$q=e,this.navigationService=t}return e.prototype.perform=function(){function e(e){return e!==a.getId()}function t(t){t.composition=t.composition.filter(e)}function n(e){var t=e.getCapability("persistence");return t&&t.persist()}function r(e,t){for(var n,r=s.getNavigation();r;){if(r.getId()===e.getId())return void s.setNavigation(t);n=r.getCapability("context"),r=n&&n.getParent()}}function i(e){var i=e.getCapability("context"),s=i.getParent();return r(e,s),o.when(s.useCapability("mutation",t)).then(function(){return n(s)})}var o=this.$q,s=this.navigationService,a=this.domainObject;return o.when(a).then(i)},e.appliesTo=function(e){var t=(e||{}).domainObject,n=t&&t.getCapability("context"),r=n&&n.getParent(),i=r&&r.getCapability("type"),o=i&&i.hasFeature("creation");return void 0!==r&&Array.isArray(r.getModel().composition)&&o},e}),define("platform/commonUI/edit/src/actions/SaveInProgressDialog",[],function(){function e(e){this.dialogService=e,this.dialog=void 0}return e.prototype.show=function(){this.dialog=this.dialogService.showBlockingMessage({title:"Saving...",hint:"Do not navigate away from this page or close this browser tab while this message is displayed.",unknownProgress:!0,severity:"info"})},e.prototype.hide=function(){this.dialog&&this.dialog.dismiss()},e}),define("platform/commonUI/edit/src/actions/SaveAction",["./SaveInProgressDialog"],function(e){function t(e,t){this.domainObject=(t||{}).domainObject,this.dialogService=e}return t.prototype.perform=function(){function t(e){return function(){return e}}function n(){return o.getCapability("editor").save().then(t(o))}function r(e){return e&&e.getCapability("action").perform("navigate"),e}function i(e){return s.hide(),e}var o=this.domainObject,s=new e(this.dialogService);return s.show(),n().then(i).then(r)["catch"](i)},t.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()&&void 0!==t.getModel().persisted},t}),define("platform/commonUI/edit/src/creation/CreateWizard",[],function(){function e(e,t,n){this.type=e.getCapability("type"),this.model=e.getModel(),this.domainObject=e,this.properties=this.type.getProperties(),this.parent=t,this.policyService=n}return e.prototype.getFormStructure=function(e){function t(e){var t=e&&e.getCapability("type");return t&&i.allow("composition",t,r)}var n=[],r=this.type,i=this.policyService;return n.push({name:"Properties",rows:this.properties.map(function(e,t){var n=Object.create(e.getDefinition());return n.key=t,n}).filter(function(e){return e&&e.control})}),e&&n.push({name:"Location",rows:[{name:"Save In",control:"locator",validate:t,key:"createParent"}]}),{sections:n,name:"Create a New "+this.type.getName()}},e.prototype.populateObjectFromInput=function(e){var t=this.getLocation(e),n=this.createModel(e);return n.location=t.getId(),this.domainObject.useCapability("mutation",function(){return n}),this.domainObject},e.prototype.getInitialFormValue=function(){var e=this.model,t=this.properties.map(function(t){return t.getValue(e)});return t.createParent=this.parent,t},e.prototype.getLocation=function(e){return e.createParent||this.parent},e.prototype.createModel=function(e){var t=JSON.parse(JSON.stringify(this.model));return t.type=this.type.getKey(),this.properties.forEach(function(n,r){n.setValue(t,e[r])}),t},e}),define("platform/commonUI/edit/src/actions/SaveAsAction",["../creation/CreateWizard","./SaveInProgressDialog"],function(e,t){function n(e,t,n,r,i,o){this.domainObject=(o||{}).domainObject,this.injectObjectService=function(){this.objectService=e.get("objectService")},this.policyService=t,this.dialogService=n,this.creationService=r,this.copyService=i}function r(e){return function(){return e}}return n.prototype.createWizard=function(t){return new e(this.domainObject,t,this.policyService)},n.prototype.getObjectService=function(){return this.objectService||this.injectObjectService(),this.objectService},n.prototype.perform=function(){function e(e){return e&&e.getCapability("action").perform("navigate"),e}return this.save().then(e)},n.prototype.save=function(){function e(e){var t=f.createWizard(e);return f.dialogService.getUserInput(t.getFormStructure(!0),t.getInitialFormValue()).then(t.populateObjectFromInput.bind(t))}function n(e){return g.show(),e}function i(e){return g.hide(),e}function o(e){return f.getObjectService().getObjects([e]).then(function(t){return t[e]})}function s(e){return o(e.getModel().location)}function a(e){var t=e.getId()===h.getId()||e.getCapability("location").isOriginal();return t&&y.push(e),t}function c(e){return m.perform(h,e,a)}function l(e){return e.getCapability("persistence").refresh()}function u(e){return Promise.all(y.map(l)).then(r(e))}function d(e){return h.getCapability("editor").save().then(r(e))}function p(){return i(),!1}var f=this,h=this.domainObject,m=this.copyService,g=new t(this.dialogService),y=[];return s(h).then(e).then(n).then(s).then(c).then(u).then(d).then(i)["catch"](p)},n.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()&&void 0===t.getModel().persisted},n}),define("platform/commonUI/edit/src/actions/CancelAction",[],function(){function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){function e(){var e;return n.getModel().persisted?n.getCapability("action").perform("navigate"):n.getCapability("location").getOriginal().then(function(t){e=t.getCapability("context").getParent(),e.getCapability("action").perform("navigate")})}function t(e){return e&&n.getCapability("editor").cancel()}var n=this.domainObject;return e().then(t)},e.appliesTo=function(e){var t=(e||{}).domainObject;return void 0!==t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()},e}),define("platform/commonUI/edit/src/policies/EditActionPolicy",[],function(){function e(e){this.policyService=e}function t(e){var t=(e||{}).domainObject;return t&&t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()}return e.prototype.countEditableViews=function(e){var t,n,r=e.domainObject,i=0;return r?(t=r.getCapability("type"),n=r.useCapability("view"),(n||[]).forEach(function(e){(e.editable===!0||"plot"===e.key&&"telemetry.panel"===t.getKey()||"table"===e.key&&"table"===t.getKey()||"rt-table"===e.key&&"rttable"===t.getKey())&&i++}),i):i},e.prototype.allow=function(e,n){var r=e.getMetadata().key,i=(n||{}).category;return"edit"===r?this.countEditableViews(n)>0&&!t(n):"properties"===r&&"view-control"===i?this.countEditableViews(n)<1&&!t(n):!0},e}),define("platform/commonUI/edit/src/policies/EditableLinkPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n,r=e.getMetadata().key;return"link"===r?(n=t.selectedObject||t.domainObject,!(n.hasCapability("editor")&&n.getCapability("editor").inEditContext())):!0},e}),define("platform/commonUI/edit/src/policies/EditableMovePolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n=t.domainObject,r=t.selectedObject,i=e.getMetadata().key,o=n.hasCapability("editor")&&n.getCapability("editor").inEditContext();return"move"===i&&o?!!r&&r.hasCapability("editor")&&r.getCapability("editor").inEditContext():!0},e}),define("platform/commonUI/edit/src/policies/EditNavigationPolicy",[],function(){function e(e){this.policyService=e}return e.prototype.isDirty=function(e){var t=e,n=t&&t.getCapability("editor");return n&&n.isEditContextRoot()&&n.dirty()},e.prototype.allow=function(e){return!this.isDirty(e)},e}),define("platform/commonUI/edit/src/policies/EditContextualActionPolicy",[],function(){function e(e,t,n){this.navigationService=e,this.editModeBlacklist=t,this.nonEditContextBlacklist=n}return e.prototype.allow=function(e,t){var n=t.domainObject,r=this.navigationService.getNavigation(),i=e.getMetadata?e.getMetadata():{};return r.hasCapability("editor")&&r.getCapability("editor").isEditContextRoot()?n.hasCapability("editor")&&n.getCapability("editor").inEditContext()?-1===this.editModeBlacklist.indexOf(i.key):-1===this.nonEditContextBlacklist.indexOf(i.key):!0},e}),define("platform/commonUI/edit/src/representers/EditRepresenter",[],function(){function e(e,t,n){function r(t){var n=o.domainObject;return e.when(n.useCapability("mutation",function(){return t})).then(function(e){return e&&n.getCapability("persistence").persist()})}function i(e){var i=n.model,s=n.configuration,a=o.domainObject;t.debug(["Committing ",a&&a.getModel().name,"("+(a&&a.getId())+"):",e].join(" ")),a&&a.hasCapability("persistence")&&(o.key&&s&&(i.configuration=i.configuration||{},i.configuration[o.key]=s),r(i))}var o=this;this.scope=n,this.listenHandle=void 0,n.commit=i,n.$on("$destroy",function(){o.destroy()})}return e.prototype.represent=function(e,t){function n(){r.viewObjectTemplate="edit-object"}var r=this.scope;this.key=(e||{}).key,this.domainObject=t,this.destroy(),this.listenHandle=this.domainObject.getCapability("status").listen(function(e){-1!==e.indexOf("editing")?n():delete r.viewObjectTemplate}),t.hasCapability("editor")&&t.getCapability("editor").isEditContextRoot()&&n()},e.prototype.destroy=function(){return this.listenHandle&&this.listenHandle()},e}),define("platform/commonUI/edit/src/representers/EditToolbar",[],function(){function e(e,t){return e&&t}function t(e,t){return e||t}function n(e,t){function n(e){return s.properties.push(e),s.properties.length-1}function r(e,n){e&&(s.selection.forEach(function(t){"function"==typeof t[e]&&t[e](n)}),t())}function i(e){var t=Object.create(e||{});return e.property&&(t.key=n(e.property)),e.method&&(t.click=function(t){r(e.method,t)}),t}function o(e){var t=Object.create(e||{});return t.items=((e||{}).items||[]).map(i),t}var s=this;this.toolbarState=[],this.selection=void 0,this.properties=[],this.toolbarStructure=Object.create(e||{}),this.toolbarStructure.sections=((e||{}).sections||[]).map(o)}return n.prototype.isConsistent=function(e){function t(t){var s;void 0!==t[e]&&(s=r.lookupState(e,t),o&&(i=i&&s===n),n=s,o=!0)}var n,r=this,i=!0,o=!1;return r.selection.forEach(t),i},n.prototype.isApplicable=function(n){function r(e){return i&&void 0!==e[i]||o&&"function"==typeof e[o]}var i=(n||{}).property,o=(n||{}).method,s=!!(n||{}).exclusive;return this.selection.map(r).reduce(s?e:t,s)&&this.isConsistent(i)},n.prototype.lookupState=function(e,t){var n=t[e];return"function"==typeof n?n():n},n.prototype.setSelection=function(e){function t(e){var t=0;(e.items||[]).forEach(function(e){e.hidden=!r.isApplicable(e),t+=e.hidden?0:1}),e.hidden=!t}function n(e){var t;return r.selection.forEach(function(n){t=void 0!==n[e]?r.lookupState(e,n):t}),t}var r=this;this.selection=e,this.toolbarStructure.sections.forEach(t),this.toolbarState=this.properties.map(n)},n.prototype.getStructure=function(){return this.toolbarStructure},n.prototype.getState=function(){return this.toolbarState},n.prototype.updateState=function(e,t){function n(e,t){function n(n){void 0!==n[e]&&("function"==typeof n[e]?(i=i||n[e]()!==t,n[e](t)):(i=i||n[e]!==t,n[e]=t))}var i=!1;return r.selection.forEach(n),i}var r=this;return n(this.properties[e],t)},n}),define("platform/commonUI/edit/src/representers/EditToolbarSelection",[],function(){function e(){this.selection=[{}],this.selecting=!1,this.selectedObj=void 0}return e.prototype.selected=function(e){return e===this.selectedObj||e===this.selection[0]},e.prototype.select=function(e){return e===this.selection[0]?!1:(this.deselect(),this.selectedObj=e,this.selecting=!0,void this.selection.push(e))},e.prototype.deselect=function(){return this.selecting?(this.selecting=!1,this.selectedObj=void 0,this.selection.pop(),!0):!1},e.prototype.get=function(){return this.selectedObj},e.prototype.proxy=function(e){return arguments.length>0&&(this.selection[0]=e),this.selection[0]},e.prototype.all=function(){return this.selection},e}),define("platform/commonUI/edit/src/representers/EditToolbarRepresenter",["./EditToolbar","./EditToolbarSelection"],function(e,t){function n(e,t,n){function i(t){e.commit&&e.commit(t)}function o(e){c.toolbar&&(e=Array.isArray(e)?e:e?[e]:[],c.toolbar.setSelection(e),c.toolbarObject.structure=c.toolbar.getStructure(),c.toolbarObject.state=c.toolbar.getState())}function s(){return c.toolbarObject.state}function a(e){var t=(e||[]).map(function(e,t){return c.toolbar.updateState(t,e)}).reduce(function(e,t){return e||t},!1);t&&i("Changes from toolbar.")}var c=this;return this.setSelection=function(t){e.selection=t},this.clearExposedToolbar=function(){n.toolbar&&delete e.$parent[n.toolbar]},this.exposeToolbar=function(){e.$parent[c.attrs.toolbar]=c.toolbarObject},this.commit=i,this.attrs=n,this.updateSelection=o,this.toolbar=void 0,this.toolbarObject={},n&&n.toolbar?(e.$watchCollection(s,a),e.$watchCollection("selection.all()",o),e.$parent[n.toolbar]=this.toolbarObject,void 0):r}var r={represent:function(){},destroy:function(){}};return n.prototype.represent=function(n){function r(t){o.attrs.toolbar&&(o.toolbar=new e(t,o.commit),o.exposeToolbar())}var i=(n||{}).toolbar||{},o=this;r(i),this.setSelection(new t),this.updateSelection([])},n.prototype.destroy=function(){this.clearExposedToolbar()},n}),define("platform/commonUI/edit/src/capabilities/EditorCapability",[],function(){function e(e,t){this.transactionService=e,this.domainObject=t}function t(e){return e.getCapability("status").get("editing")}function n(e){return t(e)||e.hasCapability("context")&&n(e.getCapability("context").getParent())}return e.prototype.edit=function(){this.transactionService.startTransaction(),this.domainObject.getCapability("status").set("editing",!0)},e.prototype.inEditContext=function(){return n(this.domainObject)},e.prototype.isEditContextRoot=function(){return t(this.domainObject)},e.prototype.save=function(){var e=this.domainObject;return this.transactionService.commit().then(function(){e.getCapability("status").set("editing",!1)})},e.prototype.invoke=e.prototype.edit,e.prototype.cancel=function(){var e=this.domainObject;return this.transactionService.cancel().then(function(){return e.getCapability("status").set("editing",!1),e})},e.prototype.dirty=function(){return this.transactionService.size()>0},e}),define("platform/commonUI/edit/src/capabilities/TransactionalPersistenceCapability",[],function(){function e(e,t,n,r){this.transactionManager=t,this.persistenceCapability=n,this.domainObject=r,this.$q=e}return e.prototype.persist=function(){var e=this.persistenceCapability;return this.transactionManager.isActive()?(this.transactionManager.addToTransaction(this.domainObject.getId(),e.persist.bind(e),e.refresh.bind(e)),this.$q.when(!0)):this.persistenceCapability.persist()},e.prototype.refresh=function(){return this.transactionManager.clearTransactionsFor(this.domainObject.getId()),this.persistenceCapability.refresh()},e.prototype.getSpace=function(){return this.persistenceCapability.getSpace()},e}),define("platform/commonUI/edit/src/capabilities/TransactionCapabilityDecorator",["./TransactionalPersistenceCapability"],function(e){function t(e,t,n){this.capabilityService=n,this.transactionService=t,this.$q=e}return t.prototype.getCapabilities=function(t){var n=this,r=this.capabilityService.getCapabilities(t),i=r.persistence;return r.persistence=function(t){var r="function"==typeof i?i(t):i;return new e(n.$q,n.transactionService,r,t)},r},t}),define("platform/commonUI/edit/src/services/TransactionManager",[],function(){function e(e){this.transactionService=e,this.clearTransactionFns={}}return e.prototype.isActive=function(){return this.transactionService.isActive()},e.prototype.isScheduled=function(e){return!!this.clearTransactionFns[e]},e.prototype.addToTransaction=function(e,t,n){function r(e,t){return function(){return e().then(t)}}var i=this.releaseClearFn.bind(this,e);this.isScheduled(e)||(this.clearTransactionFns[e]=this.transactionService.addToTransaction(r(t,i),r(n,i)))},e.prototype.clearTransactionsFor=function(e){this.isScheduled(e)&&(this.clearTransactionFns[e](),this.releaseClearFn(e))},e.prototype.releaseClearFn=function(e){delete this.clearTransactionFns[e]},e}),define("platform/commonUI/edit/src/services/TransactionService",[],function(){function e(e,t){this.$q=e,this.$log=t,this.transaction=!1,this.onCommits=[],this.onCancels=[]}return e.prototype.startTransaction=function(){this.transaction&&this.$log.error("Transaction already in progress"),this.transaction=!0},e.prototype.isActive=function(){return this.transaction},e.prototype.addToTransaction=function(e,t){return this.transaction?(this.onCommits.push(e),t&&this.onCancels.push(t)):this.$log.error("No transaction in progress"),function(){this.onCommits=this.onCommits.filter(function(t){return t!==e}),this.onCancels=this.onCancels.filter(function(e){return e!==t})}.bind(this)},e.prototype.commit=function(){for(var e,t=this,n=[];this.onCommits.length>0;){e=this.onCommits.pop();try{n.push(e())}catch(r){this.$log.error("Error committing transaction.")}}return this.$q.all(n).then(function(){t.transaction=!1,t.onCommits=[],t.onCancels=[]})},e.prototype.cancel=function(){for(var e,t=this,n=[];this.onCancels.length>0;){e=this.onCancels.pop();try{n.push(e())}catch(r){this.$log.error("Error committing transaction.")}}return this.$q.all(n).then(function(){t.transaction=!1,t.onCommits=[],t.onCancels=[]})},e.prototype.size=function(){return this.onCommits.length},e}),define("platform/commonUI/edit/src/creation/CreateMenuController",[],function(){function e(e){function t(){e.createActions=e.action?e.action.getActions("create"):[]}e.$watch("action",t)}return e}),define("platform/commonUI/edit/src/creation/LocatorController",[],function(){function e(e,t,n){function r(i,o){var s=i&&i.getCapability("context"),a=s&&s.getRoot();return a&&a!==e.rootObject?(e.rootObject=void 0,t(function(){e.rootObject=s&&s.getRoot()||e.rootObject},0)):a||(e.rootObject=void 0,n.getObjects(["ROOT"]).then(function(n){t(function(){e.rootObject=n.ROOT},0)})),e.treeModel.selectedObject=i,e.ngModel[e.field]=i,i&&e.structure&&e.structure.validate&&!e.structure.validate(i)?void r(o,void 0):void(e.ngModelController&&e.ngModelController.$setValidity("composition",!!e.treeModel.selectedObject))}e.treeModel={selectedObject:e.ngModel[e.field]},e.$watch("treeModel.selectedObject",r)}return e}),define("platform/commonUI/edit/src/creation/CreationPolicy",[],function(){function e(){}return e.prototype.allow=function(e){return e.hasFeature("creation")},e}),define("platform/commonUI/edit/src/creation/CreateAction",[],function(){function e(e,t,n){this.metadata={key:"create",cssclass:e.getCssClass(),name:e.getName(),type:e.getKey(),description:e.getDescription(),context:n},this.type=e,this.parent=t}return e.prototype.perform=function(){function e(){return i.save()}function t(){return i.cancel()}var n,r,i,o=this.type.getInitialModel();return o.type=this.type.getKey(),o.location=this.parent.getId(),n=this.parent.useCapability("instantiation",o),i=n.hasCapability("editor")&&n.getCapability("editor"),r=n.getCapability("action").getActions("edit")[0],r?r.perform():i?(i.edit(),n.getCapability("action").perform("save").then(e,t)):void 0},e.prototype.getMetadata=function(){return this.metadata},e}),define("platform/commonUI/edit/src/creation/CreateActionProvider",["./CreateAction"],function(e){function t(e,t){this.typeService=e,this.policyService=t}return t.prototype.getActions=function(t){var n=t||{},r=n.key,i=n.domainObject,o=this;return"create"===r&&i?this.typeService.listTypes().filter(function(e){return o.policyService.allow("creation",e)}).map(function(t){return new e(t,i,n)}):[]},t}),define("platform/commonUI/edit/src/creation/AddAction",["./CreateWizard"],function(e){function t(e,t,n,r,i,o){this.metadata={key:"add",cssclass:e.getCssClass(),name:e.getName(),type:e.getKey(),description:e.getDescription(),context:n},this.type=e,this.parent=t,this.$q=r,this.dialogService=i,this.policyService=o}return t.prototype.perform=function(){function t(e){return o.populateObjectFromInput(e,i)}function n(e){return e.getCapability("persistence").persist().then(function(){return e})}function r(e){return a.getCapability("composition").add(e),n(a)}var i,o,s=this.type.getInitialModel(),a=this.parent;return s.type=this.type.getKey(),i=a.getCapability("instantiation").instantiate(s),i.useCapability("mutation",function(e){e.location=a.getId()}),o=new e(i,this.parent,this.policyService),this.dialogService.getUserInput(o.getFormStructure(!1),o.getInitialFormValue()).then(t).then(n).then(r)},t.prototype.getMetadata=function(){return this.metadata},t}),define("platform/commonUI/edit/src/creation/AddActionProvider",["./AddAction"],function(e){function t(e,t,n,r){this.typeService=t,this.dialogService=n,this.$q=e,this.policyService=r}return t.prototype.getActions=function(t){var n=t||{},r=n.key,i=n.domainObject,o=this;return"add"===r&&i?this.typeService.listTypes().filter(function(e){return o.policyService.allow("creation",e)&&o.policyService.allow("composition",i.getCapability("type"),e)}).map(function(t){return new e(t,i,n,o.$q,o.dialogService,o.policyService)}):[]},t}),define("platform/commonUI/edit/src/creation/CreationService",[],function(){function e(e,t){this.$q=e,this.$log=t}var t="Tried to create an object in non-persistent container.";return e.prototype.createObject=function(e,n){function r(){var e=n.getCapability("composition"),t=e&&e.add(o);return a.$q.when(t).then(function(e){return e?i.persist().then(function(){return e}):void a.$log.error("Could not modify "+n.getId())})}var i=n.getCapability("persistence"),o=n.useCapability("instantiation",e),s=o.getCapability("persistence"),a=this;return i&&s?s.persist().then(r):(a.$log.warn(t),a.$q.reject(new Error(t)))},e}),define("text!platform/commonUI/edit/res/templates/create/locator.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="LocatorController" class="selector-list">\r\n    <div class="wrapper">\r\n        <mct-representation key="\'tree\'"\r\n                            mct-object="rootObject"\r\n                            ng-model="treeModel">\r\n        </mct-representation>\r\n    </div>\r\n</div>\r\n';
}),define("text!platform/commonUI/edit/res/templates/create/create-button.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="ClickAwayController as createController">\r\n    <div class="s-menu-button major create-button" ng-click="createController.toggle()">\r\n		<span class="title-label">Create</span>\r\n    </div>\r\n    <div class="menu super-menu" ng-show="createController.isActive()">\r\n        <mct-representation mct-object="domainObject" key="\'create-menu\'">\r\n        </mct-representation>\r\n    </div>\r\n</span>'}),define("text!platform/commonUI/edit/res/templates/create/create-menu.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="contents" ng-controller="CreateMenuController">\r\n    <div class="pane left menu-items">\r\n        <ul>\r\n            <li ng-repeat="createAction in createActions" ng-click="createAction.perform()">\r\n                <a ng-mouseover="representation.activeMetadata = createAction.getMetadata()"\r\n                   ng-mouseleave="representation.activeMetadata = undefined"\r\n                   class="menu-item-a {{ createAction.getMetadata().cssclass }}">\r\n                    {{createAction.getMetadata().name}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="pane right menu-item-description">\r\n        <div class="desc-area icon {{ representation.activeMetadata.cssclass }}"></div>\r\n        <div class="desc-area title">\r\n            {{representation.activeMetadata.name}}\r\n        </div>\r\n        <div class="desc-area description">\r\n            {{representation.activeMetadata.description}}\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("text!platform/commonUI/edit/res/templates/library.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<mct-representation key="\'tree\'"\r\n                    mct-object="parameters.domainObject"\r\n                    parameters="parameters">\r\n</mct-representation>'}),define("text!platform/commonUI/edit/res/templates/edit-object.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="abs l-flex-col" ng-controller="EditObjectController as EditObjectController">\r\n    <div mct-before-unload="EditObjectController.getUnloadWarning()"\r\n         class="holder flex-elem l-flex-row object-browse-bar ">\r\n        <div class="items-select left flex-elem l-flex-row grows">\r\n            <mct-representation key="\'back-arrow\'"\r\n                                mct-object="domainObject"\r\n                                class="flex-elem l-back"></mct-representation>\r\n            <mct-representation key="\'object-header\'"\r\n                                mct-object="domainObject"\r\n                                class="l-flex-row flex-elem grows object-header">\r\n            </mct-representation>\r\n        </div>\r\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\r\n            <mct-representation key="\'switcher\'"\r\n                                mct-object="domainObject"\r\n                                ng-model="representation">\r\n            </mct-representation>\r\n            <!-- Temporarily, on mobile, the action buttons are hidden-->\r\n            <mct-representation key="\'action-group\'"\r\n                                mct-object="domainObject"\r\n                                parameters="{ category: \'view-control\' }"\r\n                                class="mobile-hide">\r\n            </mct-representation>\r\n        </div>\r\n    </div>\r\n    <div class="holder l-flex-col flex-elem grows l-object-wrapper">\r\n        <div class="holder l-flex-col flex-elem grows l-object-wrapper-inner">\r\n            <!-- Toolbar and Save/Cancel buttons -->\r\n            <div class="l-edit-controls flex-elem l-flex-row flex-align-end">\r\n                <mct-toolbar name="mctToolbar"\r\n                             structure="toolbar.structure"\r\n                             ng-model="toolbar.state"\r\n                             class="flex-elem grows">\r\n                </mct-toolbar>\r\n                <mct-representation key="\'edit-action-buttons\'"\r\n                                    mct-object="domainObject"\r\n                                    class=\'flex-elem conclude-editing\'>\r\n                </mct-representation>\r\n\r\n            </div>\r\n            <mct-representation key="representation.selected.key"\r\n                                mct-object="representation.selected.key && domainObject"\r\n                                class="abs flex-elem grows object-holder-main scroll"\r\n                                toolbar="toolbar">\r\n            </mct-representation>\r\n        </div><!--/ l-object-wrapper-inner -->\r\n    </div>\r\n</div>\r\n'}),define("text!platform/commonUI/edit/res/templates/edit-action-buttons.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="EditActionController">\r\n    <span ng-repeat="currentAction in editActions">\r\n        <a class=\'s-button {{currentAction.getMetadata().cssclass}}\'\r\n           title=\'{{currentAction.getMetadata().name}}\'\r\n           ng-click="currentAction.perform()"\r\n           ng-class="{ major: $index === 0 }">\r\n            <span class="title-label">{{currentAction.getMetadata().name}}</span>\r\n        </a>\r\n    </span>\r\n</span>'}),define("text!platform/commonUI/edit/res/templates/elements.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="ElementsController" class="flex-elem l-flex-col holder grows">\r\n    <mct-include key="\'input-filter\'"\r\n                 class="flex-elem holder"\r\n                 ng-model="filterBy">\r\n    </mct-include>\r\n    <div class="flex-elem grows vscroll">\r\n        <ul class="tree">\r\n            <li ng-repeat="containedObject in composition | filter:searchElements">\r\n                <span class="tree-item">\r\n                    <mct-representation\r\n                            class="rep-object-label"\r\n                            key="\'label\'"\r\n                            mct-object="containedObject">\r\n                    </mct-representation>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'}),define("text!platform/commonUI/edit/res/templates/topbar-edit.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class=\'top-bar edit abs\'>\r\n    <mct-representation key="\'object-header\'"\r\n                        mct-object="domainObject"\r\n                        parameters="{ mode: \'Edit\' }"\r\n                        class="l-flex-row flex-elem grows object-header">\r\n    </mct-representation>\r\n    <div class=\'buttons-main btn-bar buttons abs\'>\r\n        <mct-representation key="\'switcher\'"\r\n                            mct-object="domainObject"\r\n                            ng-model="ngModel">\r\n        </mct-representation>\r\n\r\n        <mct-representation key="\'edit-action-buttons\'"\r\n                            mct-object="domainObject"\r\n                            class=\'conclude-editing\'>\r\n        </mct-representation>\r\n    </div>\r\n</div>'}),define("platform/commonUI/edit/bundle",["./src/controllers/EditActionController","./src/controllers/EditPanesController","./src/controllers/ElementsController","./src/controllers/EditObjectController","./src/directives/MCTBeforeUnload","./src/actions/EditAndComposeAction","./src/actions/EditAction","./src/actions/PropertiesAction","./src/actions/RemoveAction","./src/actions/SaveAction","./src/actions/SaveAsAction","./src/actions/CancelAction","./src/policies/EditActionPolicy","./src/policies/EditableLinkPolicy","./src/policies/EditableMovePolicy","./src/policies/EditNavigationPolicy","./src/policies/EditContextualActionPolicy","./src/representers/EditRepresenter","./src/representers/EditToolbarRepresenter","./src/capabilities/EditorCapability","./src/capabilities/TransactionCapabilityDecorator","./src/services/TransactionManager","./src/services/TransactionService","./src/creation/CreateMenuController","./src/creation/LocatorController","./src/creation/CreationPolicy","./src/creation/CreateActionProvider","./src/creation/AddActionProvider","./src/creation/CreationService","text!./res/templates/create/locator.html","text!./res/templates/create/create-button.html","text!./res/templates/create/create-menu.html","text!./res/templates/library.html","text!./res/templates/edit-object.html","text!./res/templates/edit-action-buttons.html","text!./res/templates/elements.html","text!./res/templates/topbar-edit.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,x,O,T,k,A,I,M,E,L,N,D,j,R,P){P.register("platform/commonUI/edit",{extensions:{controllers:[{key:"EditActionController",implementation:e,depends:["$scope"]},{key:"EditPanesController",implementation:t,depends:["$scope"]},{key:"ElementsController",implementation:n,depends:["$scope"]},{key:"EditObjectController",implementation:r,depends:["$scope","$location","policyService"]},{key:"CreateMenuController",implementation:C,depends:["$scope"]},{key:"LocatorController",implementation:x,depends:["$scope","$timeout","objectService"]}],directives:[{key:"mctBeforeUnload",implementation:i,depends:["$window"]}],actions:[{key:"compose",implementation:o},{key:"edit",implementation:s,depends:["$location","navigationService","$log"],description:"Edit",category:"view-control",cssclass:"major icon-pencil"},{key:"properties",category:["contextual","view-control"],implementation:a,cssclass:"major icon-pencil",name:"Edit Properties...",description:"Edit properties of this object.",depends:["dialogService"]},{key:"remove",category:"contextual",implementation:c,cssclass:"icon-trash",name:"Remove",description:"Remove this object from its containing object.",depends:["$q","navigationService"]},{key:"save",category:"conclude-editing",implementation:l,name:"Save",cssclass:"icon-save labeled",description:"Save changes made to these objects.",depends:["dialogService"],priority:"mandatory"},{key:"save",category:"conclude-editing",implementation:u,name:"Save As...",cssclass:"icon-save labeled",description:"Save changes made to these objects.",depends:["$injector","policyService","dialogService","creationService","copyService"],priority:"mandatory"},{key:"cancel",category:"conclude-editing",implementation:d,name:"Cancel",cssclass:"icon-x no-label",description:"Discard changes made to these objects.",depends:[]}],policies:[{category:"action",implementation:p},{category:"action",implementation:g,depends:["navigationService","editModeBlacklist","nonEditContextBlacklist"]},{category:"action",implementation:h},{category:"action",implementation:f},{category:"navigation",message:"Continuing will cause the loss of any unsaved changes.",implementation:m},{implementation:O,category:"creation"}],templates:[{key:"edit-library",template:L}],representations:[{key:"edit-object",template:N,uses:["view"],gestures:["drop"]},{key:"edit-action-buttons",template:D,uses:["action"]},{key:"edit-elements",template:j,uses:["composition"],gestures:["drop"]},{key:"topbar-edit",template:R},{key:"create-button",template:M},{key:"create-menu",template:E,uses:["action"]}],components:[{type:"decorator",provides:"capabilityService",implementation:w,depends:["$q","transactionManager"],priority:"fallback"},{type:"provider",provides:"transactionService",implementation:$,depends:["$q","$log"]},{key:"CreateActionProvider",provides:"actionService",type:"provider",implementation:T,depends:["typeService","policyService"]},{key:"AddActionProvider",provides:"actionService",type:"provider",implementation:k,depends:["$q","typeService","dialogService","policyService"]},{key:"CreationService",provides:"creationService",type:"provider",implementation:A,depends:["$q","$log"]}],representers:[{implementation:y,depends:["$q","$log"]},{implementation:v}],constants:[{key:"editModeBlacklist",value:["copy","follow","window","link","locate"]},{key:"nonEditContextBlacklist",value:["copy","follow","properties","move","link","remove","locate"]}],capabilities:[{key:"editor",name:"Editor Capability",description:"Provides transactional editing capabilities",implementation:b,depends:["transactionService"]}],controls:[{key:"locator",template:I}],services:[{key:"transactionManager",implementation:S,depends:["transactionService"]}]}})}),define("platform/commonUI/dialog/src/DialogService",[],function(){function e(e,t,n){this.overlayService=e,this.$q=t,this.$log=n,this.activeOverlay=void 0}return e.prototype.dismissOverlay=function(e){e.dismiss(),e===this.activeOverlay&&(this.activeOverlay=void 0)},e.prototype.getDialogResponse=function(e,t,n,r){function i(e){a.resolve(n?n():e),c.dismissOverlay(s)}function o(){a.reject(),c.dismissOverlay(s)}var s,a=this.$q.defer(),c=this;return t.confirm=i,t.cancel=o,this.canShowDialog(t)?s=this.activeOverlay=this.overlayService.createOverlay(e,t,r||"t-dialog"):a.reject(),a.promise},e.prototype.getUserInput=function(e,t){function n(){return r.value}var r={title:e.name,message:e.message,structure:e,value:t};return this.getDialogResponse("overlay-dialog",r,n)},e.prototype.getUserChoice=function(e){return this.getDialogResponse("overlay-options",{dialog:e})},e.prototype.canShowDialog=function(e){return this.activeOverlay?(this.$log.warn(["Dialog already showing; ","unable to show ",e.title].join("")),!1):!0},e.prototype.showBlockingMessage=function(e){if(this.canShowDialog(e)){var t=this,n=this.overlayService.createOverlay("overlay-blocking-message",e,"t-dialog-sm");return this.activeOverlay=n,{dismiss:function(){t.dismissOverlay(n)}}}return!1},e}),define("platform/commonUI/dialog/src/OverlayService",[],function(){function e(e,t,n){this.$compile=t,this.findBody=function(){return e.find("body")},this.newScope=function(){return n.$new()}}var t='<mct-include ng-model="overlay" key="key" ng-class="typeClass"></mct-include>';return e.prototype.createOverlay=function(e,n,r){function i(){s.$destroy(),o.remove()}var o,s=this.newScope();return n=n||{cancel:i},s.overlay=n,s.key=e,s.typeClass=r||"t-dialog",o=this.$compile(t)(s),this.findBody().prepend(o),{dismiss:i}},e}),define("text!platform/commonUI/dialog/res/templates/overlay-dialog.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<mct-container key="overlay">\r\n    <mct-include key="\'form-dialog\'" ng-model="ngModel">\r\n    </mct-include>\r\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/overlay-options.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<mct-container key="overlay">\r\n    <div class="abs top-bar">\r\n        <div class="title">{{ngModel.dialog.title}}</div>\r\n        <div class="hint">{{ngModel.dialog.hint}}</div>\r\n    </div>\r\n    <div class=\'abs editor\'>\r\n        <mct-include key="ngModel.dialog.template"\r\n                     parameters="ngModel.dialog.parameters"\r\n                     ng-model="ngModel.dialog.model">\r\n        </mct-include>\r\n    </div>\r\n    <div class="abs bottom-bar">\r\n        <a ng-repeat="option in ngModel.dialog.options"\r\n           href=\'\'\r\n           class="s-button lg"\r\n           title="{{option.description}}"\r\n           ng-click="ngModel.confirm(option.key)"\r\n           ng-class="{ major: $first, subtle: !$first }">\r\n            {{option.name}}\r\n        </a>\r\n    </div>\r\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/dialog.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="abs top-bar">\r\n    <div class="title">{{ngModel.title}}</div>\r\n    <div class="hint">All fields marked <span class="req icon-asterisk"></span> are required.</div>\r\n</div>\r\n<div class=\'abs editor\'>\r\n    <mct-form ng-model="ngModel.value"\r\n              structure="ngModel.structure"\r\n              class="validates"\r\n              name="createForm">\r\n    </mct-form>\r\n</div>\r\n<div class="abs bottom-bar">\r\n    <a class=\'s-button major\'\r\n       ng-class="{ disabled: !createForm.$valid }"\r\n       ng-click="ngModel.confirm()">\r\n        OK\r\n    </a>\r\n    <a class=\'s-button\'\r\n       ng-click="ngModel.cancel()">\r\n        Cancel\r\n    </a>\r\n</div>'}),define("text!platform/commonUI/dialog/res/templates/overlay-blocking-message.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<mct-container key="overlay" class="t-message-single">\r\n    <mct-include key="\'message\'" ng-model="ngModel">\r\n    </mct-include>\r\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/message.html",[],function(){return'<div class="l-message"\r\n     ng-class="\'message-severity-\' + ngModel.severity">\r\n    <div class="ui-symbol type-icon message-type"></div>\r\n    <div class="message-contents">\r\n        <div class="top-bar">\r\n            <div class="title">{{ngModel.title}}</div>\r\n            <div class="hint" ng-hide="ngModel.hint === undefined">{{ngModel.hint}}</div>\r\n        </div>\r\n        <div class="message-body">\r\n            <div class="message-action">\r\n                {{ngModel.actionText}}\r\n            </div>\r\n            <mct-include key="\'progress-bar\'"\r\n                         ng-model="ngModel"\r\n                         ng-show="ngModel.progress !== undefined || ngModel.unknownProgress"></mct-include>\r\n        </div>\r\n        <div class="bottom-bar">\r\n            <a ng-repeat="dialogOption in ngModel.options"\r\n               class="s-button major"\r\n               ng-click="dialogOption.callback()">\r\n                {{dialogOption.label}}\r\n            </a>\r\n            <a class="s-button major"\r\n               ng-if="ngModel.primaryOption"\r\n               ng-click="ngModel.primaryOption.callback()">\r\n                {{ngModel.primaryOption.label}}\r\n            </a>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'}),define("text!platform/commonUI/dialog/res/templates/overlay-message-list.html",[],function(){return'<mct-container key="overlay" class="t-message-list">\r\n    <div class="message-contents">\r\n        <div class="abs top-bar">\r\n            <div class="title">{{ngModel.dialog.title}}</div>\r\n            <div class="hint">Displaying {{ngModel.dialog.messages.length}} message<span ng-show="ngModel.dialog.messages.length > 1 ||\r\n                                                                                                  ngModel.dialog.messages.length == 0">s</span>\r\n            </div>\r\n        </div>\r\n        <div class="abs message-body">\r\n            <mct-include\r\n                    ng-repeat="msg in ngModel.dialog.messages | orderBy: \'-\'"\r\n                    key="\'message\'" ng-model="msg.model"></mct-include>\r\n        </div>\r\n        <div class="abs bottom-bar">\r\n            <a ng-repeat="dialogAction in ngModel.dialog.actions"\r\n               class="s-button major"\r\n               ng-click="dialogAction.action()">\r\n                {{dialogAction.label}}\r\n            </a>\r\n        </div>\r\n    </div>\r\n</mct-container>'}),define("text!platform/commonUI/dialog/res/templates/overlay.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="abs overlay">\r\n    <div class="abs blocker"></div>\r\n    <div class="abs holder">\r\n        <a ng-click="ngModel.cancel()"\r\n           ng-if="ngModel.cancel"\r\n           class="close icon-x"></a>\r\n        <div class="abs contents" ng-transclude></div>\r\n    </div>\r\n</div>'}),define("platform/commonUI/dialog/bundle",["./src/DialogService","./src/OverlayService","text!./res/templates/overlay-dialog.html","text!./res/templates/overlay-options.html","text!./res/templates/dialog.html","text!./res/templates/overlay-blocking-message.html","text!./res/templates/message.html","text!./res/templates/overlay-message-list.html","text!./res/templates/overlay.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l){
l.register("platform/commonUI/dialog",{extensions:{services:[{key:"dialogService",implementation:e,depends:["overlayService","$q","$log"]},{key:"overlayService",implementation:t,depends:["$document","$compile","$rootScope"]}],templates:[{key:"overlay-dialog",template:n},{key:"overlay-options",template:r},{key:"form-dialog",template:i},{key:"overlay-blocking-message",template:o},{key:"message",template:s},{key:"overlay-message-list",template:a}],containers:[{key:"overlay",template:c}]}})}),define("platform/commonUI/formats/src/FormatProvider",[],function(){function e(e){function t(e){var t=e.key;t&&!n[t]&&(n[t]=new e)}var n={};e.forEach(t),this.formatMap=n}return e.prototype.getFormat=function(e){var t=this.formatMap[e];if(!t)throw new Error("FormatProvider: No format found for "+e);return t},e}),define("platform/commonUI/formats/src/UTCTimeFormat",["moment"],function(e){function t(){}var n="YYYY-MM-DD HH:mm:ss.SSS",r=[n,"YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm","YYYY-MM-DD"];return t.prototype.format=function(t){return e.utc(t).format(n)+"Z"},t.prototype.parse=function(t){return e.utc(t,r).valueOf()},t.prototype.validate=function(t){return e.utc(t,r).isValid()},t}),define("platform/commonUI/formats/bundle",["./src/FormatProvider","./src/UTCTimeFormat","legacyRegistry"],function(e,t,n){n.register("platform/commonUI/formats",{name:"Time services bundle",description:"Defines interfaces and provides default implementations for handling different time systems.",extensions:{components:[{provides:"formatService",type:"provider",implementation:e,depends:["formats[]"]}],formats:[{key:"utc",implementation:t}],constants:[{key:"DEFAULT_TIME_FORMAT",value:"utc"}]}})}),define("platform/commonUI/general/src/services/UrlService",[],function(){function e(e){this.$location=e}return e.prototype.urlForLocation=function(e,t){var n=t&&t.getCapability("context"),r=n?n.getPath():[],i=r.map(function(e){return e.getId()});return e+"/"+i.slice(1).join("/")},e.prototype.urlForNewTab=function(e,t){var n="?view="+this.$location.search().view,r="index.html#"+this.urlForLocation(e,t)+n;return r},e}),define("platform/commonUI/general/src/services/Popup",[],function(){function e(e,t){this.styles=t,this.element=e,e.css(t)}return e.prototype.dismiss=function(){this.element.remove()},e.prototype.goesLeft=function(){return!this.styles.left},e.prototype.goesRight=function(){return!this.styles.right},e.prototype.goesUp=function(){return!this.styles.top},e.prototype.goesDown=function(){return!this.styles.bottom},e}),define("platform/commonUI/general/src/services/PopupService",["./Popup"],function(e){function t(e,t){this.$document=e,this.$window=t}return t.prototype.display=function(t,n,r){function i(e,t){return 0>e?e+u[t]:e}var o,s,a=this.$document,c=this.$window,l=a.find("body"),u=[c.innerWidth,c.innerHeight],d={position:"absolute"};return r=r||{},s=[void 0!==r.offsetX?r.offsetX:0,void 0!==r.offsetY?r.offsetY:0],o=[r.marginX,r.marginY].map(function(e,t){return void 0===e?u[t]/2:e}).map(i),n=n.map(i),n[0]>o[0]?d.right=u[0]-n[0]+s[0]+"px":d.left=n[0]+s[0]+"px",n[1]>o[1]?d.bottom=u[1]-n[1]+s[1]+"px":d.top=n[1]+s[1]+"px",l.append(t),new e(t,d)},t}),define("platform/commonUI/general/src/SplashScreenManager",[],function(){function e(e){var t;e=e[0],t=e.querySelectorAll(".l-splash-holder")[0],t&&(t.className+=" fadeout",t.addEventListener("transitionend",function(){t.parentNode.removeChild(t)}))}return e}),define("platform/commonUI/general/src/StyleSheetLoader",[],function(){function e(e,t,n){function r(e){var t=s.createElement("link"),n=[e.bundle.path,e.bundle.resources,e.stylesheetUrl].join("/");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",n),o.append(t)}function i(e){return void 0===e.theme||e.theme===n}var o=t.find("head"),s=t[0];e.filter(i).forEach(r)}return e}),define("platform/commonUI/general/src/controllers/TimeRangeController",[],function(){function e(e){return 100*e+"%"}function t(e,t,n){return Math.max(t,Math.min(n,e))}function n(e){return{start:e.start,end:e.end}}function r(e,t,n,r,i){this.$scope=e,this.formatService=n,this.defaultFormat=r,this.now=i,this.tickCount=2,this.innerMinimumSpan=1e3,this.outerMinimumSpan=1e3,this.initialDragValue=void 0,this.formatter=n.getFormat(r),this.formStartChanged=!1,this.formEndChanged=!1,this.$timeout=t,this.$scope.ticks=[],this.updateViewFromModel(this.$scope.ngModel),this.updateFormModel(),["updateViewFromModel","updateSpanWidth","updateOuterStart","updateOuterEnd","updateFormat","validateStart","validateEnd","onFormStartChange","onFormEndChange"].forEach(function(e){this[e]=this[e].bind(this)},this),this.$scope.$watchCollection("ngModel",this.updateViewFromModel),this.$scope.$watch("spanWidth",this.updateSpanWidth),this.$scope.$watch("ngModel.outer.start",this.updateOuterStart),this.$scope.$watch("ngModel.outer.end",this.updateOuterEnd),this.$scope.$watch("parameters.format",this.updateFormat),this.$scope.$watch("formModel.start",this.onFormStartChange),this.$scope.$watch("formModel.end",this.onFormEndChange)}var i=150;return r.prototype.formatTimestamp=function(e){return this.formatter.format(e)},r.prototype.updateTicks=function(){var e,t,n,r,i,o;for(i=this.$scope.ngModel.outer.end,r=this.$scope.ngModel.outer.start,o=i-r,this.$scope.ticks=[],e=0;e<this.tickCount;e+=1)t=e/(this.tickCount-1),n=t*o+r,this.$scope.ticks.push(this.formatTimestamp(n))},r.prototype.updateSpanWidth=function(e){this.tickCount=Math.max(Math.floor(e/i),2),this.updateTicks()},r.prototype.updateViewForInnerSpanFromModel=function(t){var n=t.outer.end-t.outer.start;this.$scope.startInnerText=this.formatTimestamp(t.inner.start),this.$scope.endInnerText=this.formatTimestamp(t.inner.end),this.$scope.startInnerPct=e((t.inner.start-t.outer.start)/n),this.$scope.endInnerPct=e((t.outer.end-t.inner.end)/n)},r.prototype.defaultBounds=function(){var e=this.now();return{start:e-864e5,end:e}},r.prototype.updateViewFromModel=function(e){e=e||{},e.outer=e.outer||this.defaultBounds(),e.inner=e.inner||n(e.outer),this.$scope.ngModel=e,this.updateViewForInnerSpanFromModel(e),this.updateTicks()},r.prototype.startLeftDrag=function(){this.initialDragValue=this.$scope.ngModel.inner.start},r.prototype.startRightDrag=function(){this.initialDragValue=this.$scope.ngModel.inner.end},r.prototype.startMiddleDrag=function(){this.initialDragValue={start:this.$scope.ngModel.inner.start,end:this.$scope.ngModel.inner.end}},r.prototype.toMillis=function(e){var t=this.$scope.ngModel.outer.end-this.$scope.ngModel.outer.start;return e/this.$scope.spanWidth*t},r.prototype.leftDrag=function(e){var n=this.toMillis(e);this.$scope.ngModel.inner.start=t(this.initialDragValue+n,this.$scope.ngModel.outer.start,this.$scope.ngModel.inner.end-this.innerMinimumSpan),this.updateViewFromModel(this.$scope.ngModel)},r.prototype.rightDrag=function(e){var n=this.toMillis(e);this.$scope.ngModel.inner.end=t(this.initialDragValue+n,this.$scope.ngModel.inner.start+this.innerMinimumSpan,this.$scope.ngModel.outer.end),this.updateViewFromModel(this.$scope.ngModel)},r.prototype.middleDrag=function(e){var n=this.toMillis(e),r=0>n?"start":"end",i=0>n?"end":"start";this.$scope.ngModel.inner[r]=t(this.initialDragValue[r]+n,this.$scope.ngModel.outer.start,this.$scope.ngModel.outer.end),this.$scope.ngModel.inner[i]=this.$scope.ngModel.inner[r]+this.initialDragValue[i]-this.initialDragValue[r],this.updateViewFromModel(this.$scope.ngModel)},r.prototype.updateFormModel=function(){this.$scope.formModel={start:((this.$scope.ngModel||{}).outer||{}).start,end:((this.$scope.ngModel||{}).outer||{}).end}},r.prototype.updateOuterStart=function(){var e=this.$scope.ngModel;e.inner.start=Math.max(e.outer.start,e.inner.start),e.inner.end=Math.max(e.inner.start+this.innerMinimumSpan,e.inner.end),this.updateFormModel(),this.updateViewForInnerSpanFromModel(e),this.updateTicks()},r.prototype.updateOuterEnd=function(){var e=this.$scope.ngModel;e.inner.end=Math.min(e.outer.end,e.inner.end),e.inner.start=Math.min(e.inner.end-this.innerMinimumSpan,e.inner.start),this.updateFormModel(),this.updateViewForInnerSpanFromModel(e),this.updateTicks()},r.prototype.updateFormat=function(e){this.formatter=this.formatService.getFormat(e||this.defaultFormat),this.updateViewForInnerSpanFromModel(this.$scope.ngModel),this.updateTicks()},r.prototype.updateBoundsFromForm=function(){var e=this;this.$timeout(function(){e.formStartChanged&&(e.$scope.ngModel.outer.start=e.$scope.ngModel.inner.start=e.$scope.formModel.start,e.formStartChanged=!1),e.formEndChanged&&(e.$scope.ngModel.outer.end=e.$scope.ngModel.inner.end=e.$scope.formModel.end,e.formEndChanged=!1)})},r.prototype.onFormStartChange=function(e,t){this.formStartChanged||e===t||(this.formStartChanged=!0)},r.prototype.onFormEndChange=function(e,t){this.formEndChanged||e===t||(this.formEndChanged=!0)},r.prototype.validateStart=function(e){return e<=this.$scope.formModel.end-this.outerMinimumSpan},r.prototype.validateEnd=function(e){return e>=this.$scope.formModel.start+this.outerMinimumSpan},r}),define("platform/commonUI/general/src/controllers/DateTimePickerController",["moment"],function(e){function t(t,o){function s(){var t,n,r=e.utc({year:u,month:d}).day(0),i=[];for(t=0;6>t;t+=1)for(i.push([]),n=0;7>n;n+=1)i[t].push({year:r.year(),month:r.month(),day:r.date(),dayOfYear:r.dayOfYear()}),r.add(1,"days");return i}function a(){t.month=r[d],t.year=u,t.table=s()}function c(n){var r;r=e.utc(n),t.date={year:r.year(),month:r.month(),day:r.date()},t.time={hours:r.hour(),minutes:r.minute(),seconds:r.second()},p||(u=r.year(),d=r.month(),a())}function l(){var n=e.utc({year:t.date.year,month:t.date.month,day:t.date.day,hour:t.time.hours,minute:t.time.minutes,second:t.time.seconds});t.ngModel[t.field]=n.valueOf()}var u,d,p=!1;t.isInCurrentMonth=function(e){return e.month===d},t.isSelected=function(e){var n=t.date||{};return e.day===n.day&&e.month===n.month&&e.year===n.year},t.select=function(e){t.date=t.date||{},t.date.month=e.month,t.date.year=e.year,t.date.day=e.day,l()},t.dateEquals=function(e,t){return e.year===t.year&&e.month===t.month&&e.day===t.day},t.changeMonth=function(e){d+=e,d>11&&(d=0,u+=1),0>d&&(d=11,u-=1),p=!0,a()},t.nameFor=function(e){return n[e]},t.optionsFor=function(e){return i[e]},a(),t.ngModel[t.field]=void 0===t.ngModel[t.field]?o():t.ngModel[t.field],t.$watch("ngModel[field]",c),t.$watchCollection("date",l),t.$watchCollection("time",l)}var n={hours:"Hour",minutes:"Minute",seconds:"Second"},r=e.months(),i=function(){for(var e=[];e.length<60;)e.push(e.length);return{hours:e.slice(0,24),minutes:e,seconds:e}}();return t}),define("platform/commonUI/general/src/controllers/DateTimeFieldController",[],function(){function e(e,t,n){function r(t){c.validate(e.textValue)&&c.parse(e.textValue)===t||(e.textValue=c.format(t),e.textInvalid=!1,e.lastValidValue=e.textValue),e.pickerModel={value:t}}function i(t){e.textInvalid=!c.validate(t),e.textInvalid||(e.ngModel[e.field]=c.parse(t),e.lastValidValue=e.textValue)}function o(t){t!==e.ngModel[e.field]&&(e.ngModel[e.field]=t,r(t),e.ngBlur&&e.ngBlur(),e.picker.active&&(e.structure.validate&&e.structure.validate(e.ngModel[e.field])?e.picker.active=!1:e.structure.validate||(e.picker.active=!1)))}function s(i){c=t.getFormat(i||n),r(e.ngModel[e.field])}function a(){e.textValue=e.lastValidValue,i(e.textValue)}var c=t.getFormat(n);e.restoreTextValue=a,e.picker={active:!1},e.$watch("structure.format",s),e.$watch("ngModel[field]",r),e.$watch("pickerModel.value",o),e.$watch("textValue",i)}return e}),define("platform/commonUI/general/src/controllers/TreeNodeController",[],function(){function e(e,t){function n(e){return e&&e.getId&&e.getId()}function r(e,t,n){return n=n||0,n>=e.length||t[n]===e[n]&&r(e,t,n+1)}function i(){var t,i,o=e.domainObject,c=a,l=o&&o.getCapability("context"),u=c&&c.getCapability("context");s.isSelectedFlag=!1,l&&u&&(t=l.getPath().map(n),i=u.getPath().map(n),i.length>=t.length&&r(t,i)&&(t.length===i.length?s.isSelectedFlag=!0:(e.toggle&&e.toggle.setState(!0),s.trackExpansion())))}function o(e){a=e,i()}var s=this,a=(e.ngModel||{}).selectedObject;this.isSelectedFlag=!1,this.hasBeenExpandedFlag=!1,this.$timeout=t,this.$scope=e,e.$watch("ngModel.selectedObject",o),e.$watch("domainObject",i)}return e.prototype.select=function(){this.$scope.ngModel&&(this.$scope.ngModel.selectedObject=this.$scope.domainObject),(this.$scope.parameters||{}).callback&&this.$scope.parameters.callback(this.$scope.domainObject)},e.prototype.trackExpansion=function(){var e=this;e.hasBeenExpanded()||e.$timeout(function(){e.hasBeenExpandedFlag=!0},0)},e.prototype.hasBeenExpanded=function(){return this.hasBeenExpandedFlag},e.prototype.isSelected=function(){return this.isSelectedFlag},e}),define("platform/commonUI/general/src/controllers/ActionGroupController",[],function(){function e(e){function t(t){function n(e){var t=e.getMetadata(),n=t.group;n?(r[n]=r[n]||[],r[n].push(e)):i.push(e)}var r={},i=[];(t||[]).forEach(n),e.ungrouped=i,e.groups=Object.keys(r).sort().map(function(e){return r[e]})}function n(){var n=e.action,r=e.parameters||{},i=r.category;t(n&&i?n.getActions({category:i}):[])}e.$watch("domainObject",n),e.$watch("action",n),e.$watch("parameters.category",n),e.ungrouped=[],e.groups=[]}return e}),define("platform/commonUI/general/src/controllers/ToggleController",[],function(){function e(){this.state=!1,this.setState=this.setState.bind(this)}return e.prototype.isActive=function(){return this.state},e.prototype.setState=function(e){this.state=e},e.prototype.toggle=function(){this.state=!this.state},e}),define("platform/commonUI/general/src/controllers/ContextMenuController",[],function(){function e(e){function t(){e.menuActions=e.action?e.action.getActions({category:"contextual"}):[]}e.$watch("action",t)}return e}),define("platform/commonUI/general/src/controllers/ClickAwayController",[],function(){function e(e,t){var n=this;this.state=!1,this.$document=e,this.clickaway=function(){t(function(){n.deactivate()})}}return e.prototype.deactivate=function(){this.state=!1,this.$document.off("mouseup",this.clickaway)},e.prototype.activate=function(){this.state=!0,this.$document.on("mouseup",this.clickaway)},e.prototype.isActive=function(){return this.state},e.prototype.setState=function(e){this.state!==e&&this.toggle()},e.prototype.toggle=function(){this.state?this.deactivate():this.activate()},e}),define("platform/commonUI/general/src/controllers/ViewSwitcherController",[],function(){function e(e,t){function n(e,t){var n;if(t)for(n=0;n<e.length;n+=1)if(e[n].key===t.key)return e[n];return e[0]}function r(r){Array.isArray(r)&&t(function(){e.ngModel.selected=n(r,(e.ngModel||{}).selected)},0)}e.$watch("view",r)}return e}),define("platform/commonUI/general/src/controllers/BottomBarController",[],function(){function e(e){function t(e){return{template:e.template||"indicator",ngModel:"function"==typeof e?new e:e}}this.indicators=e.map(t)}return e.prototype.getIndicators=function(){return this.indicators},e}),define("platform/commonUI/general/src/controllers/GetterSetterController",[],function(){function e(e){function t(){"function"==typeof e.ngModel&&(e.getterSetter.value=e.ngModel())}function n(){"function"==typeof e.ngModel&&e.ngModel(e.getterSetter.value)}e.$watch("ngModel()",t),e.$watch("getterSetter.value",n),e.getterSetter={}}return e}),define("platform/commonUI/general/src/controllers/SelectorController",[],function(){function e(e,n){function r(){return c.selectedObject}function i(e){u.rootObject=e[t]}function o(e){var t=e&&e.getCapability("type");t&&t.instanceOf(n.structure.type)||(c.selectedObject=a),a=c.selectedObject}function s(t){function n(e){function n(t){return e[t]}u.selectedObjects=t.filter(n).map(n)}e.getObjects(t).then(n)}var a,c={},l={},u=this;n.$watch(r,o),n.$watchCollection(function(){return u.getField()},s),e.getObjects([t]).then(i),this.$scope=n,this.selectedObjects=[],this.treeModel=c,this.listModel=l}var t="ROOT";return e.prototype.setField=function(e){this.$scope.ngModel[this.$scope.field]=e},e.prototype.getField=function(){return this.$scope.ngModel[this.$scope.field]||[]},e.prototype.root=function(){return this.rootObject},e.prototype.select=function(e){var t=e&&e.getId(),n=this.getField()||[];t&&-1===n.indexOf(t)&&this.setField(n.concat([t]))},e.prototype.deselect=function(e){var t=e&&e.getId(),n=this.getField()||[];t&&-1!==n.indexOf(t)&&(this.setField(n.filter(function(e){return e!==t})),delete this.listModel.selectedObject)},e.prototype.selected=function(){return this.selectedObjects},e}),define("platform/commonUI/general/src/controllers/ObjectInspectorController",[],function(){function e(e,t){function n(){var t,n=e.ngModel.selectedObject,r=[];for(t=n&&n.hasCapability("context")&&n.getCapability("context").getParent();t&&"root"!==t.getModel().type&&t.hasCapability("context");)r.unshift(t),n=t,t=n.getCapability("context").getParent();e.contextutalParents=r}function r(n){var i;n||(n=e.ngModel.selectedObject,e.primaryParents=[]),i=n.getModel().location,i&&"root"!==i&&t.getObjects([i]).then(function(t){var n=t[i];e.primaryParents.unshift(n),r(n)})}function i(){e.metadata=e.ngModel.selectedObject&&e.ngModel.selectedObject.hasCapability("metadata")&&e.ngModel.selectedObject.useCapability("metadata")}e.primaryParents=[],e.contextutalParents=[],e.$watch("ngModel.selectedObject",function(){e.isLink=e.ngModel.selectedObject&&e.ngModel.selectedObject.hasCapability("location")&&e.ngModel.selectedObject.getCapability("location").isLink(),e.isLink?(r(),n()):(e.primaryParents=[],n()),i()})}return e}),define("platform/commonUI/general/src/controllers/BannerController",[],function(){function e(e,t,n){e.active=t.active,e.action=function(e,t){return t.stopPropagation(),e()},e.dismiss=function(e,t){t.stopPropagation(),e.dismissOrMinimize()},e.maximize=function(e){if("info"!==e.model.severity){var t;e.model.cancel=function(){t.dismiss()},e.onDismiss(function(){t.dismiss()}),t=n.showBlockingMessage(e.model)}}}return e}),define("platform/commonUI/general/src/directives/MCTContainer",[],function(){function e(e){var t={};return e.forEach(function(e){t[e.key]=e}),{restrict:"E",transclude:!0,scope:!0,link:function(e,n,r){var i=r.key,o=t[i],s="container",a={};o&&(s=o.alias||s,(o.attributes||[]).forEach(function(e){a[e]=r[e]})),e[s]=a},template:function(e,n){var r=n.key,i=t[r];return i?i.template:""}}}return e}),define("platform/commonUI/general/src/directives/MCTDrag",[],function(){function e(e){function t(t,n,r){function i(e){t.$eval(r[e],{delta:d,$event:u}),t.$apply()}function o(e){var t=[e.pageX,e.pageY];l=l||t,d=t.map(function(e,t){return e-l[t]}),u=e}function s(e){return o(e),i("mctDrag"),e.preventDefault(),!1}function a(e){return p.off("mouseup",a),p.off("mousemove",s),s(e),i("mctDragUp"),l=void 0,e.preventDefault(),!1}function c(e){return p.on("mouseup",a),p.on("mousemove",s),o(e),i("mctDragDown"),i("mctDrag"),e.preventDefault(),!1}var l,u,d,p=e.find("body");n.on("mousedown",c)}return{restrict:"A",link:t}}return e}),define("platform/commonUI/general/src/directives/MCTClickElsewhere",[],function(){function e(e){function t(t,n,r){function i(e){var i=e.clientX,o=e.clientY,s=n[0].getBoundingClientRect(),a=s.left,c=a+s.width,l=s.top,u=l+s.height;(a>i||i>c||l>o||o>u)&&t.$apply(function(){t.$eval(r.mctClickElsewhere)})}var o=e.find("body");o.on("mousedown",i),t.$on("$destroy",function(){o.off("mousedown",i)})}return{restrict:"A",link:t}}return e}),define("platform/commonUI/general/src/directives/MCTResize",[],function(){function e(e){function n(n,r,i){function o(){return i.mctResizeInterval?n.$eval(i.mctResizeInterval):t}function s(e){l&&l.width===e.width&&l.height===e.height||(n.$eval(i.mctResize,{bounds:e}),u||n.$apply(),l=e)}function a(){s({width:r[0].offsetWidth,height:r[0].offsetHeight}),d&&e(a,o(),!1)}function c(){d=!1}var l,u=!0,d=!0;n.$on("$destroy",c),a(),u=!1}return{restrict:"A",link:n}}var t=100;return e}),define("platform/commonUI/general/src/directives/MCTPopup",[],function(){function e(e,n){function r(r,i,o,s,a){var c=e(t)(r),l=i.parent()[0].getBoundingClientRect(),u=[l.left,l.top],d=n.display(c,u);c.addClass("t-popup"),a(function(e){c.append(e)}),r.$on("$destroy",function(){d.dismiss()})}return{restrict:"E",transclude:!0,link:r,scope:{}}}var t="<div></div>";return e}),define("platform/commonUI/general/src/directives/MCTScroll",[],function(){function e(e,t,n){function r(r,i,o){function s(e){i[0][t]=e}function a(){l.assign(r,i[0][t]),r.$apply(c)}var c=o[n],l=e(c);l.assign(r,i[0][t]),r.$watch(c,s),i.on("scroll",a)}return{restrict:"A",link:r}}return e}),define("platform/commonUI/general/src/directives/MCTSplitPane",[],function(){function e(e,s,a){function c(c,l,u){function d(e){return"vertical"===y.orientation?e.offsetWidth:e.offsetHeight}function p(e){var t,n=e.eq(y.reversed?2:0),r=e.eq(1),i=e.eq(y.reversed?0:2),o=d(r[0]);n.css(y.edge,"0px"),n.css(y.dimension,b-o+"px"),t=d(n[0]),n.css(y.dimension,t+"px"),r.css(y.edge,t+"px"),r.css(y.opposite,"auto"),i.css(y.edge,t+o+"px"),i.css(y.opposite,"0px"),b=t+o}function f(){var e=l.children();return 3!==e.length||"mct-splitter"!==e[1].nodeName.toLowerCase()?void s.warn(r):void p(e)}function h(){b=Math.max(b,0),b=Math.min(b,d(l[0]))}function m(e){var t=b;return"number"==typeof e&&(b=e,h(),f(),S.assign&&b!==t&&S.assign(c,b)),b}function g(e){l.children().toggleClass(e)}var y,v,b,w=u.anchor||t,S=e(u.position);return o[w]||(s.warn(i),w=t),y=o[w],c.$watch(u.position,m),l.addClass("split-layout"),l.addClass(y.orientation),m(d(l.children().eq(y.reversed?2:0)[0])),v=a(function(){m(m())},n,0,!1),c.$on("$destroy",function(){a.cancel(v)}),{position:m,toggleClass:g,anchor:function(){return y}}}return{restrict:"E",controller:["$scope","$element","$attrs",c]}}var t="left",n=15,r=["Invalid mct-split-pane contents.","This element should contain exactly three","child elements, where the middle-most element","is an mct-splitter."].join(" "),i=["Unknown anchor provided to mct-split-pane,","defaulting to",t+"."].join(" "),o={left:{edge:"left",opposite:"right",dimension:"width",orientation:"vertical"},right:{edge:"right",opposite:"left",dimension:"width",orientation:"vertical",reversed:!0},top:{edge:"top",opposite:"bottom",dimension:"height",orientation:"horizontal"},bottom:{edge:"bottom",opposite:"top",dimension:"height",orientation:"horizontal",reversed:!0}};return e}),define("platform/commonUI/general/src/directives/MCTSplitter",[],function(){function e(){function e(e,t,n,r){var i;t.addClass("splitter"),e.splitter={startMove:function(){i=r.position(),r.toggleClass("resizing")},move:function(e){var t=r.anchor(),n="vertical"===t.orientation?0:1,o=e[n]*(t.reversed?-1:1);r.position(i+o)},endMove:function(){r.toggleClass("resizing")}}}return{restrict:"E",require:"^mctSplitPane",link:e,template:t,scope:!0}}var t='<div class=\'abs\'mct-drag-down="splitter.startMove()" mct-drag="splitter.move(delta)" mct-drag-up="splitter.endMove()"></div>';return e}),function(e){define("zepto",[],function(){return function(){var t=function(){function e(e){return null==e?String(e):W[z.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(t){return"object"==e(t)}function o(e){return i(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return"number"==typeof e.length}function a(e){return I.call(e,function(e){return null!=e})}function c(e){return e.length>0?C.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in L?L[e]:L[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function d(e,t){return"number"!=typeof t||N[l(e)]?t:t+"px"}function p(e){var t,n;return E[e]||(t=M.createElement(e),M.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),E[e]=n),E[e]}function f(e){return"children"in e?A.call(e.children):C.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t,n){for($ in t)n&&(o(t[$])||X(t[$]))?(o(t[$])&&!o(e[$])&&(e[$]={}),X(t[$])&&!X(e[$])&&(e[$]=[]),h(e[$],t[$],n)):t[$]!==S&&(e[$]=t[$])}function m(e,t){return null==t?C(e):C(e).filter(t)}function g(e,n,r,i){return t(n)?n.call(e,r,i):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",r=n&&n.baseVal!==S;return t===S?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function b(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?C.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)w(e.childNodes[n],t)}var S,$,C,x,O,T,k=[],A=k.slice,I=k.filter,M=window.document,E={},L={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,P=/^(?:body|html)$/i,_=/([A-Z])/g,U=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],V=M.createElement("table"),Y=M.createElement("tr"),q={tr:M.createElement("tbody"),tbody:V,thead:V,tfoot:V,td:Y,th:Y,"*":M.createElement("div")},B=/complete|loaded|interactive/,H=/^[\w-]*$/,W={},z=W.toString,G={},K=M.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(e){return e instanceof Array};return G.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=K).appendChild(e),r=~G.qsa(i,t).indexOf(e),o&&K.removeChild(e),r},O=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(e){return I.call(e,function(t,n){return e.indexOf(t)==n})},G.fragment=function(e,t,n){var r,i,s;return j.test(e)&&(r=C(M.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(R,"<$1></$2>")),t===S&&(t=D.test(e)&&RegExp.$1),t in q||(t="*"),s=q[t],s.innerHTML=""+e,r=C.each(A.call(s.childNodes),function(){s.removeChild(this)})),o(n)&&(i=C(r),C.each(n,function(e,t){U.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},G.Z=function(e,t){return e=e||[],e.__proto__=C.fn,e.selector=t||"",e},G.isZ=function(e){return e instanceof G.Z},G.init=function(e,n){var r;if(!e)return G.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&D.test(e))r=G.fragment(e,RegExp.$1,n),e=null;else{if(n!==S)return C(n).find(e);r=G.qsa(M,e)}else{if(t(e))return C(M).ready(e);if(G.isZ(e))return e;if(X(e))r=a(e);else if(i(e))r=[e],e=null;else if(D.test(e))r=G.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==S)return C(n).find(e);r=G.qsa(M,e)}}return G.Z(r,e)},C=function(e,t){return G.init(e,t)},C.extend=function(e){var t,n=A.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},G.qsa=function(e,t){var n,i="#"==t[0],o=!i&&"."==t[0],s=i||o?t.slice(1):t,a=H.test(s);return r(e)&&a&&i?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:A.call(a&&!i?o?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},C.contains=M.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},C.type=e,C.isFunction=t,C.isWindow=n,C.isArray=X,C.isPlainObject=o,C.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},C.inArray=function(e,t,n){return k.indexOf.call(t,e,n)},C.camelCase=O,C.trim=function(e){return null==e?"":String.prototype.trim.call(e)},C.uuid=0,C.support={},C.expr={},C.map=function(e,t){var n,r,i,o=[];if(s(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&o.push(n);else for(i in e)n=t(e[i],i),null!=n&&o.push(n);return c(o)},C.each=function(e,t){var n,r;if(s(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},C.grep=function(e,t){return I.call(e,t)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){W["[object "+t+"]"]=t.toLowerCase()}),C.fn={forEach:k.forEach,reduce:k.reduce,push:k.push,sort:k.sort,indexOf:k.indexOf,concat:k.concat,map:function(e){return C(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return C(A.apply(this,arguments))},ready:function(e){return B.test(M.readyState)&&M.body?e(C):M.addEventListener("DOMContentLoaded",function(){e(C)},!1),this},get:function(e){return e===S?A.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return k.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):C(I.call(this,function(t){return G.matches(t,e)}))},add:function(e,t){return C(T(this.concat(C(e,t))))},is:function(e){return this.length>0&&G.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==S)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):s(e)&&t(e.item)?A.call(e):C(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return C(n)},has:function(e){return this.filter(function(){return i(e)?C.contains(this,e):C(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:C(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:C(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?C(e).filter(function(){var e=this;return k.some.call(n,function(t){return C.contains(t,e)})}):1==this.length?C(G.qsa(this[0],e)):this.map(function(){return G.qsa(this,e)}):C()},closest:function(e,t){var n=this[0],i=!1;for("object"==typeof e&&(i=C(e));n&&!(i?i.indexOf(n)>=0:G.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return C(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=C.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(T(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return f(this)}),e)},contents:function(){return this.map(function(){return A.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return I.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return C.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=C(e).get(0),i=r.parentNode||this.length>1;return this.each(function(t){C(this).wrapAll(n?e.call(this,t):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){C(this[0]).before(e=C(e));for(var t;(t=e.children()).length;)e=t.first();C(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=C(this),i=r.contents(),o=n?e.call(this,t):e;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=C(this);(e===S?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return C(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){
return C(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;C(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(e))for($ in e)y(this,$,e[$]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:S},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Z[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(_,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?b(r):S},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=C(this),r=g(this,e,t,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof t)return i.style[O(t)]||r.getPropertyValue(t);if(X(t)){var o={};return C.each(t,function(e,t){o[t]=i.style[O(t)]||r.getPropertyValue(t)}),o}}var s="";if("string"==e(t))n||0===n?s=l(t)+":"+d(t,n):this.each(function(){this.style.removeProperty(l(t))});else for($ in t)t[$]||0===t[$]?s+=l($)+":"+d($,t[$])+";":this.each(function(){this.style.removeProperty(l($))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(C(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?k.some.call(this,function(e){return this.test(v(e))},u(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){x=[];var n=v(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){C(this).hasClass(e)||x.push(e)},this),x.length&&v(this,n+(n?" ":"")+x.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===S)return v(this,"");x=v(this),g(this,e,t,x).split(/\s+/g).forEach(function(e){x=x.replace(u(e)," ")}),v(this,x.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=C(this),i=g(this,e,n,v(this));i.split(/\s+/g).forEach(function(e){(t===S?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===S?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===S?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=P.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(C(e).css("margin-top"))||0,n.left-=parseFloat(C(e).css("margin-left"))||0,r.top+=parseFloat(C(t[0]).css("border-top-width"))||0,r.left+=parseFloat(C(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||M.body;e&&!P.test(e.nodeName)&&"static"==C(e).css("position");)e=e.offsetParent;return e})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});C.fn[e]=function(i){var o,s=this[0];return i===S?n(s)?s["inner"+t]:r(s)?s.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){s=C(this),s.css(e,g(this,i,t,s[e]()))})}}),F.forEach(function(t,n){var r=n%2;C.fn[t]=function(){var t,i,o=C.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:G.fragment(n)}),s=this.length>1;return o.length<1?this:this.each(function(e,t){i=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var a=C.contains(M.documentElement,i);o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!i)return C(e).remove();i.insertBefore(e,t),a&&w(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},C.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return C(e)[t](this),this}}),G.Z.prototype=C.fn,G.uniq=T,G.deserializeValue=b,C.zepto=G,C}();return window.Zepto=t,void 0===window.$&&(window.$=t),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,o,s){if(n=r(n),n.ns)var a=i(n.ns);return(g[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!v&&e.e in b||!!t}function s(e){return w[e]||v&&b[e]||e}function a(n,i,a,c,u,p,f){var h=t(n),m=g[h]||(g[h]=[]);i.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(a);var i=r(t);i.fn=a,i.sel=u,i.e in w&&(a=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=p;var h=p||a;i.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=c;var t=h.apply(n,e._args==d?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},i.i=m.length,m.push(i),"addEventListener"in n&&n.addEventListener(s(i.e),i.proxy,o(i,f))})}function c(e,r,i,a,c){var l=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,i,a).forEach(function(t){delete g[l][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,o(t,c))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(x,function(e,r){var i=n[e];t[e]=function(){return this[r]=S,i&&i.apply(n,arguments)},t[r]=$}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=S)),t}function u(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===d||(n[t]=e[t]);return l(n,e)}var d,p=1,f=Array.prototype.slice,h=e.isFunction,m=function(e){return"string"==typeof e},g={},y={},v="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:a,remove:c},e.proxy=function(n,r){var i=2 in arguments&&f.call(arguments,2);if(h(n)){var o=function(){return n.apply(r,i?i.concat(f.call(arguments)):arguments)};return o._zid=t(n),o}if(m(r))return i?(i.unshift(n[r],n),e.proxy.apply(null,i)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var S=function(){return!0},$=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,i,o){var s,l,p=this;return t&&!m(t)?(e.each(t,function(e,t){p.on(e,n,r,t,o)}),p):(m(n)||h(i)||i===!1||(i=r,r=n,n=d),(h(r)||r===!1)&&(i=r,r=d),i===!1&&(i=$),p.each(function(d,p){o&&(s=function(e){return c(p,e.type,i),i.apply(this,arguments)}),n&&(l=function(t){var r,o=e(t.target).closest(n,p).get(0);return o&&o!==p?(r=e.extend(u(t),{currentTarget:o,liveFired:p}),(s||i).apply(o,[r].concat(f.call(arguments,1)))):void 0}),a(p,t,i,r,n,l||s)}))},e.fn.off=function(t,n,r){var i=this;return t&&!m(t)?(e.each(t,function(e,t){i.off(e,n,t)}),i):(m(n)||h(r)||r===!1||(r=n,n=d),r===!1&&(r=$),i.each(function(){c(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var i,o;return this.each(function(s,a){i=u(m(t)?e.Event(t):t),i._args=r,i.target=a,e.each(n(a,t.type||t),function(e,t){return o=t.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(y[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),l(n)}}(t),function(e){function t(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function n(e,n,r,i){return e.global?t(n||v,r,i):void 0}function r(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function i(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function o(e,t){var r=t.context;return t.beforeSend.call(r,e,t)===!1||n(t,r,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,r,"ajaxSend",[e,t])}function s(e,t,r,i){var o=r.context,s="success";r.success.call(o,e,s,t),i&&i.resolveWith(o,[e,s,t]),n(r,o,"ajaxSuccess",[t,r,e]),c(s,t,r)}function a(e,t,r,i,o){var s=i.context;i.error.call(s,r,t,e),o&&o.rejectWith(s,[r,t,e]),n(i,s,"ajaxError",[r,i,e||t]),c(t,r,i)}function c(e,t,r){var o=r.context;r.complete.call(o,t,e),n(r,o,"ajaxComplete",[t,r]),i(r)}function l(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==C?"html":e==$?"json":w.test(e)?"script":S.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=d(t.url,t.data),t.data=void 0)}function f(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}function h(t,n,r,i){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,function(n,c){o=e.type(c),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?t.add(c.name,c.value):"array"==o||!r&&"object"==o?h(t,c,r,n):t.add(n,c)})}var m,g,y=0,v=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,$="application/json",C="text/html",x=/^\s*$/,O=v.createElement("a");O.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var r,i,c=t.jsonpCallback,l=(e.isFunction(c)?c():c)||"jsonp"+ ++y,u=v.createElement("script"),d=window[l],p=function(t){e(u).triggerHandler("error",t||"abort")},f={abort:p};return n&&n.promise(f),e(u).on("load error",function(o,c){clearTimeout(i),e(u).off().remove(),"error"!=o.type&&r?s(r[0],f,t,n):a(null,c||"error",f,t,n),window[l]=d,r&&e.isFunction(d)&&d(r[0]),d=r=void 0}),o(f,t)===!1?(p("abort"),f):(window[l]=function(){r=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+l),v.head.appendChild(u),t.timeout>0&&(i=setTimeout(function(){p("timeout")},t.timeout)),f)},e.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:$,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,i=e.extend({},t||{}),c=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===i[m]&&(i[m]=e.ajaxSettings[m]);r(i),i.crossDomain||(n=v.createElement("a"),n.href=i.url,n.href=n.href,i.crossDomain=O.protocol+"//"+O.host!=n.protocol+"//"+n.host),i.url||(i.url=window.location.toString()),p(i);var f=i.dataType,h=/\?.+=\?/.test(i.url);if(h&&(f="jsonp"),i.cache!==!1&&(t&&t.cache===!0||"script"!=f&&"jsonp"!=f)||(i.url=d(i.url,"_="+Date.now())),"jsonp"==f)return h||(i.url=d(i.url,i.jsonp?i.jsonp+"=?":i.jsonp===!1?"":"callback=?")),e.ajaxJSONP(i,c);var y,b=i.accepts[f],w={},S=function(e,t){w[e.toLowerCase()]=[e,t]},$=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,C=i.xhr(),T=C.setRequestHeader;if(c&&c.promise(C),i.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=i.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(b)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&S("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(g in i.headers)S(g,i.headers[g]);if(C.setRequestHeader=S,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=l,clearTimeout(y);var t,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==$){f=f||u(i.mimeType||C.getResponseHeader("content-type")),t=C.responseText;try{"script"==f?(1,eval)(t):"xml"==f?t=C.responseXML:"json"==f&&(t=x.test(t)?null:e.parseJSON(t))}catch(r){n=r}n?a(n,"parsererror",C,i,c):s(t,C,i,c)}else a(C.statusText||null,C.status?"error":"abort",C,i,c)}},o(C,i)===!1)return C.abort(),a(null,"abort",C,i,c),C;if(i.xhrFields)for(g in i.xhrFields)C[g]=i.xhrFields[g];var k="async"in i?i.async:!0;C.open(i.type,i.url,k,i.username,i.password);for(g in w)T.apply(C,w[g]);return i.timeout>0&&(y=setTimeout(function(){C.onreadystatechange=l,C.abort(),a(null,"timeout",C,i,c)},i.timeout)),C.send(i.data?i.data:null),C},e.get=function(){return e.ajax(f.apply(null,arguments))},e.post=function(){var t=f.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=f.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var i,o=this,s=t.split(/\s/),a=f(t,n,r),c=a.success;return s.length>1&&(a.url=s[0],i=s[1]),a.success=function(t){o.html(i?e("<div>").html(t.replace(b,"")).find(i):t),c&&c.apply(o,arguments)},e.ajax(a),this};var T=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(t)+"="+T(n))},h(r,t,n),r.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function(e){return e.forEach?e.forEach(i):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(t),e.Zepto=t}.apply(e,arguments)})}(this),define("text!platform/commonUI/general/res/templates/tree/node.html",[],function(){return'<span class="tree-item menus-to-left">\r\n</span>\r\n<span class="tree-item-subtree">\r\n</span>\r\n'}),define("text!platform/commonUI/general/res/templates/tree/toggle.html",[],function(){return"<span class='ui-symbol view-control flex-elem'>\r\n</span>\r\n"}),define("platform/commonUI/general/src/ui/ToggleView",["zepto","text!../../res/templates/tree/toggle.html"],function(e,t){function n(n){this.expanded=!!n,this.callbacks=[],this.el=e(t),this.el.on("click",function(){this.value(!this.expanded)}.bind(this))}return n.prototype.value=function(e){this.expanded=e,e?this.el.addClass("expanded"):this.el.removeClass("expanded"),this.callbacks.forEach(function(t){t(e)})},n.prototype.observe=function(e){return this.callbacks.push(e),function(){this.callbacks=this.callbacks.filter(function(t){return t!==e})}.bind(this)},n.prototype.elements=function(){return this.el},n}),define("text!platform/commonUI/general/res/templates/tree/tree-label.html",[],function(){return'<span class="rep-object-label">\r\n    <div class="t-object-label l-flex-row flex-elem grows">\r\n        <div class="t-item-icon flex-elem"></div>\r\n        <div class=\'t-title-label flex-elem grows\'></div>\r\n    </div>\r\n</span>\r\n'}),define("platform/commonUI/general/src/ui/TreeLabelView",["zepto","text!../../res/templates/tree/tree-label.html"],function(e,t){function n(n){this.el=e(t),this.gestureService=n}function r(e){var t=e.getCapability("location");return t.isLink()}function i(e){var t=e.getCapability("type");return t.getCssClass()}return n.prototype.updateView=function(e){var t=this.el.find(".t-title-label"),n=this.el.find(".t-item-icon");t.text(e?e.getModel().name:""),n.addClass(e?i(e):""),e&&r(e)?n.addClass("l-icon-link"):n.removeClass("l-icon-link")},n.prototype.model=function(e){this.unlisten&&(this.unlisten(),delete this.unlisten),this.activeGestures&&(this.activeGestures.destroy(),delete this.activeGestures),this.updateView(e),e&&(this.unlisten=e.getCapability("mutation").listen(this.updateView.bind(this,e)),this.activeGestures=this.gestureService.attachGestures(this.elements(),e,["info","menu","drag"]))},n.prototype.elements=function(){return this.el},n}),define("platform/commonUI/general/src/ui/TreeNodeView",["zepto","text!../../res/templates/tree/node.html","./ToggleView","./TreeLabelView"],function(e,t,n,r){function i(i,o,s){this.li=e("<li>"),this.statusClasses=[],this.toggleView=new n(!1),this.toggleView.observe(function(t){t?(this.subtreeView||(this.subtreeView=o(),this.subtreeView.model(this.activeObject),this.li.find(".tree-item-subtree").eq(0).append(e(this.subtreeView.elements()))),e(this.subtreeView.elements()).removeClass("hidden")):this.subtreeView&&e(this.subtreeView.elements()).addClass("hidden")}.bind(this)),this.labelView=new r(i),e(this.labelView.elements()).on("click",function(){s(this.activeObject)}.bind(this)),this.li.append(e(t)),this.li.find("span").eq(0).append(e(this.toggleView.elements())).append(e(this.labelView.elements())),this.model(void 0)}function o(e){function t(e){return e.getId()}var n=e&&e.getCapability("context");return n?n.getPath().map(t):[]}return i.prototype.updateStatusClasses=function(e){this.statusClasses.forEach(function(e){this.li.removeClass(e)}.bind(this)),this.statusClasses=e.map(function(e){return"s-status-"+e}),this.statusClasses.forEach(function(e){this.li.addClass(e)}.bind(this))},i.prototype.model=function(t){this.unlisten&&this.unlisten(),this.activeObject=t,t&&t.hasCapability("composition")?e(this.toggleView.elements()).addClass("has-children"):e(this.toggleView.elements()).removeClass("has-children"),t&&t.hasCapability("status")&&(this.unlisten=t.getCapability("status").listen(this.updateStatusClasses.bind(this)),this.updateStatusClasses(t.getCapability("status").list())),this.labelView.model(t),this.subtreeView&&this.subtreeView.model(t)},i.prototype.value=function(e){var t=o(this.activeObject),n=o(e);this.onSelectionPath&&(this.li.find(".tree-item").eq(0).removeClass("selected"),this.subtreeView&&this.subtreeView.value(void 0)),this.onSelectionPath=!!e&&!!this.activeObject&&t.length<=n.length&&t.every(function(e,t){return n[t]===e}),this.onSelectionPath&&(t.length===n.length?this.li.find(".tree-item").eq(0).addClass("selected"):(this.toggleView.value(!0),this.subtreeView.value(e)))},i.prototype.elements=function(){return this.li},i}),define("text!platform/commonUI/general/res/templates/tree/wait-node.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<li class=\'tree-item t-wait-node loading\'>\r\n    <span class="t-title-label">Loading...</span>\r\n</li>\r\n'}),define("platform/commonUI/general/src/ui/TreeView",["zepto","./TreeNodeView","text!../../res/templates/tree/wait-node.html"],function(e,t,n){function r(t,n){this.ul=e('<ul class="tree"></ul>'),this.nodeViews=[],this.callbacks=[],this.selectFn=n||this.value.bind(this),this.gestureService=t,this.pending=!1}return r.prototype.newTreeView=function(){return new r(this.gestureService,this.selectFn)},r.prototype.setSize=function(n){for(var r;this.nodeViews.length<n;)r=new t(this.gestureService,this.newTreeView.bind(this),this.selectFn),this.nodeViews.push(r),this.ul.append(e(r.elements()));for(;this.nodeViews.length>n;)r=this.nodeViews.pop(),e(r.elements()).remove()},r.prototype.loadComposition=function(){function e(e,t){n.nodeViews[t].model(e)}function t(t){n.pending&&(n.pending=!1,n.nodeViews=[],n.ul.empty()),r===n.activeObject&&(n.setSize(t.length),t.forEach(e),n.updateNodeViewSelection())}var n=this,r=this.activeObject;r.useCapability("composition").then(t)},r.prototype.model=function(t){this.unlisten&&this.unlisten(),this.activeObject=t,this.ul.empty(),t&&t.hasCapability("composition")?(this.pending=!0,this.ul.append(e(n)),this.unlisten=t.getCapability("mutation").listen(this.loadComposition.bind(this)),this.loadComposition(t)):this.setSize(0)},r.prototype.updateNodeViewSelection=function(){this.nodeViews.forEach(function(e){e.value(this.selectedObject)}.bind(this))},r.prototype.value=function(e){this.selectedObject=e,this.updateNodeViewSelection(),this.callbacks.forEach(function(t){t(e)})},r.prototype.observe=function(e){return this.callbacks.push(e),function(){this.callbacks=this.callbacks.filter(function(t){return t!==e})}.bind(this)},r.prototype.elements=function(){return this.ul},r}),define("platform/commonUI/general/src/directives/MCTTree",["angular","../ui/TreeView"],function(e,t){function n(n){function r(r,i){var o=new t(n),s=o.observe(function(e){r.mctModel=e,r.$apply()});i.append(e.element(o.elements())),r.$watch("mctModel",o.value.bind(o)),r.$watch("mctObject",o.model.bind(o)),r.$on("$destroy",s)}return{restrict:"E",link:r,scope:{mctObject:"=",mctModel:"="}}}return n}),define("text!platform/commonUI/general/res/templates/bottombar.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class=\'abs bottom-bar ue-bottom-bar mobile-disable-select\' ng-controller="BottomBarController as bar">\r\n    <div id=\'status\' class=\'status-holder\'>\r\n        <mct-include ng-repeat="indicator in bar.getIndicators()"\r\n                     ng-model="indicator.ngModel"\r\n                     key="indicator.template"\r\n                     class="status-block-holder"\r\n                     ng-class=\'indicator.ngModel.getGlyphClass()\'>\r\n        </mct-include>\r\n    </div>\r\n    <mct-include key="\'message-banner\'"></mct-include>\r\n    <mct-include key="\'about-logo\'"></mct-include>\r\n</div>'}),define("text!platform/commonUI/general/res/templates/controls/action-button.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<a class="s-button key-{{parameters.action.getMetadata().key}} {{parameters.action.getMetadata().cssclass}}"\r\n   ng-class="{ labeled: parameters.labeled }"\r\n   title="{{parameters.action.getMetadata().description}}"\r\n   ng-click="parameters.action.perform()">\r\n    <span class="title-label" ng-if="parameters.labeled">\r\n        {{parameters.action.getMetadata().name}}\r\n    </span>\r\n</a>\r\n'}),define("text!platform/commonUI/general/res/templates/controls/input-filter.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<!-- look at action-button for example -->\r\n<span class="t-filter l-filter s-filter"\r\n      ng-controller="GetterSetterController">\r\n	<input type="search"\r\n           class="t-filter-input"\r\n           ng-model="getterSetter.value"/>\r\n	<a class="clear-icon icon-x-in-circle"\r\n       ng-class="{show: !(getterSetter.value === \'\' || getterSetter.value === undefined)}"\r\n       ng-click="getterSetter.value = \'\'">\r\n    </a>\r\n</span>'}),define("text!platform/commonUI/general/res/templates/indicator.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<!-- DO NOT ADD SPACES BETWEEN THE SPANS - IT ADDS WHITE SPACE!! -->\r\n<div class=\'status block\'\r\n	 title="{{ngModel.getDescription()}}"\r\n	 ng-click=\'ngModel.configure()\'\r\n	 ng-show="ngModel.getText().length > 0">\r\n	<span class="status-indicator {{ngModel.getCssClass()}}"></span><span class="label"\r\n		  ng-class=\'ngModel.getTextClass()\'>\r\n		{{ngModel.getText()}}\r\n        <a class="s-button icon-gear" ng-if="ngModel.configure"></a>\r\n	</span><span class="count">\r\n	</span>\r\n</div>'}),define("text!platform/commonUI/general/res/templates/message-banner.html",[],function(){return'<div ng-controller="BannerController" ng-show="active.notification"\r\n     class="l-message-banner s-message-banner {{active.notification.model.severity}}" ng-class="{\r\n     \'minimized\': active.notification.model.minimized,\r\n     \'new\': !active.notification.model.minimized}"\r\n     ng-click="maximize(active.notification)">\r\n    <span class="banner-elem label">\r\n        {{active.notification.model.title}}\r\n    </span>\r\n    <span ng-show="active.notification.model.progress !== undefined || active.notification.model.unknownProgress">\r\n        <mct-include key="\'progress-bar\'" class="banner-elem"\r\n                     ng-model="active.notification.model">\r\n        </mct-include>\r\n    </span>\r\n    <a ng-hide="active.notification.model.primaryOption === undefined"\r\n       class="banner-elem l-action s-action"\r\n       ng-click="action(active.notification.model.primaryOption.callback, $event)">\r\n        {{active.notification.model.primaryOption.label}}\r\n    </a>\r\n    <a class="banner-elem close icon-x" ng-click="dismiss(active.notification, $event)"></a>\r\n</div>'}),define("text!platform/commonUI/general/res/templates/progress-bar.html",[],function(){return'<span class="l-progress-bar s-progress-bar"\r\n      ng-class="{ indeterminate:ngModel.unknownProgress }">\r\n    <span class="progress-amt-holder">\r\n        <span class="progress-amt" style="width: {{ngModel.progress}}%"></span>\r\n    </span>\r\n</span>\r\n<div class="progress-info hint" ng-hide="ngModel.progressText === undefined">\r\n    <span class="progress-amt-text" ng-show="ngModel.progress > 0">{{ngModel.progress}}% complete. </span>\r\n    {{ngModel.progressText}}\r\n</div>';
}),define("text!platform/commonUI/general/res/templates/controls/time-controller.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="TimeRangeController as trCtrl" class="l-flex-col">\r\n    <form class="l-time-range-inputs-holder l-flex-row flex-elem"\r\n          ng-submit="trCtrl.updateBoundsFromForm()">\r\n        <span class="l-time-range-inputs-elem flex-elem icon-clock"></span>\r\n        <span class="l-time-range-inputs-elem t-inputs-w l-flex-row flex-elem">\r\n            <span class="l-time-range-input-w flex-elem">\r\n                <mct-control key="\'datetime-field\'"\r\n                             structure="{\r\n                                 format: parameters.format,\r\n                                 validate: trCtrl.validateStart\r\n                             }"\r\n                             ng-model="formModel"\r\n                             ng-blur="trCtrl.updateBoundsFromForm()"\r\n                             field="\'start\'"\r\n                             class="time-range-start">\r\n                </mct-control>\r\n            </span>\r\n\r\n            <span class="l-time-range-inputs-elem lbl flex-elem">to</span>\r\n\r\n            <span class="l-time-range-input-w flex-elem" ng-controller="ToggleController as t2">\r\n                <mct-control key="\'datetime-field\'"\r\n                             structure="{\r\n                                 format: parameters.format,\r\n                                 validate: trCtrl.validateEnd\r\n                             }"\r\n                             ng-model="formModel"\r\n                             ng-blur="trCtrl.updateBoundsFromForm()"\r\n                             field="\'end\'"\r\n                             class="time-range-end">\r\n                </mct-control>\r\n            </span>\r\n        </span>\r\n        <input type="submit" class="hidden">\r\n    </form>\r\n\r\n    <div class="l-time-range-slider-holder flex-elem">\r\n        <div class="l-time-range-slider">\r\n            <div class="slider"\r\n                 mct-resize="spanWidth = bounds.width">\r\n                <div class="knob knob-l"\r\n                     mct-drag-down="trCtrl.startLeftDrag()"\r\n                     mct-drag="trCtrl.leftDrag(delta[0])"\r\n                     ng-style="{ left: startInnerPct }">\r\n                    <div class="range-value">{{startInnerText}}</div>\r\n                </div>\r\n                <div class="knob knob-r"\r\n                     mct-drag-down="trCtrl.startRightDrag()"\r\n                     mct-drag="trCtrl.rightDrag(delta[0])"\r\n                     ng-style="{ right: endInnerPct }">\r\n                    <div class="range-value">{{endInnerText}}</div>\r\n                </div>\r\n                <div class="slot range-holder">\r\n                    <div class="range"\r\n                         mct-drag-down="trCtrl.startMiddleDrag()"\r\n                         mct-drag="trCtrl.middleDrag(delta[0])"\r\n                         ng-style="{\r\n                             left: startInnerPct,\r\n                             right: endInnerPct\r\n                         }">\r\n                        <div class="toi-line"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="l-time-range-ticks-holder flex-elem">\r\n        <div class="l-time-range-ticks">\r\n            <div\r\n                ng-repeat="tick in ticks track by $index"\r\n                ng-style="{ left: $index * (100 / (ticks.length - 1)) + \'%\' }"\r\n                class="tick tick-x"\r\n                >\r\n                <span class="l-time-range-tick-label">{{tick}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("text!platform/commonUI/general/res/templates/containers/accordion.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div\r\n    class="accordion-head"\r\n    ng-click="toggle.toggle()"\r\n    ng-class="{ expanded:!toggle.isActive() }"\r\n    >\r\n    {{container.label}}\r\n</div>\r\n<div\r\n    class="accordion-contents"\r\n    ng-show="!toggle.isActive()"\r\n    ng-transclude\r\n    >\r\n</div>\r\n'}),define("text!platform/commonUI/general/res/templates/subtree.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<mct-tree mct-object="domainObject" mct-model="ngModel.selectedObject">\r\n</mct-tree>\r\n\r\n'}),define("text!platform/commonUI/general/res/templates/tree.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<ul class="tree">\r\n    <li>\r\n        <mct-representation key="\'tree-node\'"\r\n                            mct-object="domainObject"\r\n                            ng-model="ngModel"\r\n                            parameters="parameters">\r\n        </mct-representation>\r\n    </li>\r\n</ul>\r\n'}),define("text!platform/commonUI/general/res/templates/tree-node.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="ToggleController as toggle">\r\n    <span ng-controller="TreeNodeController as treeNode">\r\n        <span\r\n            class="tree-item menus-to-left"\r\n            ng-class="{selected: treeNode.isSelected()}"\r\n            >\r\n            <span\r\n                class=\'ui-symbol view-control flex-elem\'\r\n                ng-class="{ \'has-children\': model.composition !== undefined, expanded: toggle.isActive() }"\r\n                ng-click="toggle.toggle(); treeNode.trackExpansion()"\r\n                >\r\n            </span>\r\n            <mct-representation\r\n                class="rep-object-label"\r\n                key="\'label\'"\r\n                mct-object="domainObject"\r\n                parameters="{suppressMenuOnEdit: true}"\r\n                ng-click="treeNode.select()"\r\n                >\r\n            </mct-representation>\r\n        </span>\r\n        <span\r\n            class="tree-item-subtree"\r\n            ng-show="toggle.isActive()"\r\n            ng-if="model.composition !== undefined"\r\n            >\r\n\r\n            <mct-representation key="\'subtree\'"\r\n                                ng-model="ngModel"\r\n                                parameters="parameters"\r\n                                mct-object="treeNode.hasBeenExpanded() && domainObject">\r\n            </mct-representation>\r\n\r\n        </span>\r\n    </span>\r\n</span>\r\n'}),define("text!platform/commonUI/general/res/templates/label.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="t-object-label l-flex-row flex-elem grows">\r\n    <div class="t-item-icon flex-elem {{type.getCssClass()}}" ng-class="{ \'l-icon-link\':location.isLink() }"></div>\r\n    <div class=\'t-title-label flex-elem grows\'>{{model.name}}</div>\r\n</div>\r\n'}),define("text!platform/commonUI/general/res/templates/controls/action-group.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="ActionGroupController">\r\n    <span ng-repeat="action in ungrouped">\r\n        <mct-include key="\'action-button\'" parameters="{ action: action }"></mct-include>\r\n    </span>\r\n    <span class="l-btn-set" ng-repeat="group in groups">\r\n        <span ng-repeat="action in group">\r\n            <mct-include key="\'action-button\'"\r\n                         parameters="{ action: action }"\r\n                         ng-class="{ first:$index == 0, last:$index == group.length - 1 }"\r\n	            >\r\n            </mct-include>\r\n        </span>\r\n    </span>\r\n</span>'}),define("text!platform/commonUI/general/res/templates/menu/context-menu.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="menu-element context-menu-wrapper mobile-disable-select" ng-controller="ContextMenuController">\r\n    <div class="menu context-menu">\r\n        <ul>\r\n            <li ng-repeat="menuAction in menuActions"\r\n                ng-click="menuAction.perform()"\r\n                title="{{menuAction.getMetadata().description}}"\r\n                class="{{menuAction.getMetadata().cssclass}}">\r\n                {{menuAction.getMetadata().name}}\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'}),define("text!platform/commonUI/general/res/templates/controls/switcher.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="ViewSwitcherController">\r\n    <div class="view-switcher menu-element s-menu-button {{ngModel.selected.cssclass}}"\r\n	    ng-if="view.length > 1"\r\n	    ng-controller="ClickAwayController as toggle">\r\n\r\n        <span class="l-click-area"\r\n	        ng-click="toggle.toggle()"\r\n	        title="{{ngModel.selected.name}}"></span>\r\n        <span class="title-label">{{ngModel.selected.name}}</span>\r\n\r\n        <div class="menu" ng-show="toggle.isActive()">\r\n            <ul>\r\n                <li ng-repeat="option in view"\r\n                    ng-click="ngModel.selected = option; toggle.setState(false)"\r\n                    class="{{option.cssclass}}">\r\n                    {{option.name}}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</span>'}),define("text!platform/commonUI/general/res/templates/object-inspector.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span class="l-inspect">\r\n    <div ng-controller="PaneController">\r\n        <mct-split-pane class=\'abs contents split-layout\' anchor=\'bottom\'>\r\n            <div class="split-pane-component pane top">\r\n                <div class="abs holder holder-inspector l-flex-col">\r\n                    <div class="pane-header flex-elem">Inspection</div>\r\n                    <mct-representation\r\n                            key="\'inspector-region\'"\r\n                            mct-object="domainObject"\r\n                            ng-model="ngModel"\r\n                            class="flex-elem grows vscroll l-flex-col">\r\n                    </mct-representation>\r\n                </div>\r\n            </div>\r\n            <mct-splitter class="splitter-inspect-panel mobile-hide"></mct-splitter>\r\n            <div class="split-pane-component pane bottom">\r\n                <div class="abs holder holder-elements l-flex-col">\r\n                    <em class="flex-elem t-inspector-part-header">Elements</em>\r\n                    <mct-representation\r\n                            key="\'edit-elements\'"\r\n                            mct-object="domainObject"\r\n                            class="flex-elem l-flex-col holder grows current-elements">\r\n                    </mct-representation>\r\n                </div>\r\n            </div>\r\n        </mct-split-pane>\r\n    </div>\r\n</span>\r\n'}),define("text!platform/commonUI/general/res/templates/controls/selector.html",[],function(){return"<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n \"License\"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class='form-control complex channel-selector cols cols-32'\r\n     ng-controller=\"SelectorController as selector\">\r\n    <div class='col col-15'>\r\n        <div class='line field-hints'>Available</div>\r\n        <!--div id='_form_filter' class='line filter'>\r\n            <input type='text' class='control filter' name='filter-available' />\r\n            <a class='icon ui-symbol t-available-trigger'\r\n               href=''\r\n               title=\"Filter is case sensitive\">M</a>\r\n        </div>\r\n\r\n        <div class=\"line\">\r\n            Showing {{shown}} of {{count}} available options.\r\n        </div -->\r\n\r\n        <div class='line treeview' name='available'>\r\n            <mct-representation key=\"'tree'\"\r\n                                mct-object=\"selector.root()\"\r\n                                ng-model=\"selector.treeModel\">\r\n            </mct-representation>\r\n        </div>\r\n    </div>\r\n    <div class='col col-2'>\r\n        <div class='btn-holder valign-mid btns-add-remove'>\r\n            <a class='s-button major'\r\n               ng-click=\"selector.select(selector.treeModel.selectedObject)\">\r\n                <span class='ui-symbol'>&gt;</span>\r\n            </a>\r\n            <a class='s-button major'\r\n               ng-click=\"selector.deselect(selector.listModel.selectedObject)\">\r\n                <span class='ui-symbol'>&lt;</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <div class='col col-15'>\r\n        <div class='line field-hints'>Selected</div>\r\n        <!-- div id='_form_filter' class='line filter'>\r\n            <input type='text' class='control filter' name='filter-selected' />\r\n            <a class='icon ui-symbol t-selected-trigger'\r\n               href=''\r\n               title=\"Filter is case sensitive\">\r\n                M\r\n            </a>\r\n        </div>\r\n        <div class=\"line\">\r\n            Showing {{shown}} of {{count}} available options.\r\n        </div -->\r\n\r\n        <div class='line treeview l-tree-item-flat-list' name='selected'>\r\n            <ul class=\"tree\">\r\n                <li ng-repeat=\"selectedObject in selector.selected()\">\r\n	                <span\r\n		                class=\"tree-item\"\r\n		                ng-class=\"{selected: selector.listModel.selectedObject === selectedObject }\"\r\n		                >\r\n                    <mct-representation\r\n	                    key=\"'label'\"\r\n	                    mct-object=\"selectedObject\"\r\n	                    ng-click=\"selector.listModel.selectedObject = selectedObject\"\r\n	                    >\r\n                    </mct-representation>\r\n					</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>"}),define("text!platform/commonUI/general/res/templates/controls/datetime-picker.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n\r\n<div ng-controller="DateTimePickerController" class="l-datetime-picker s-datetime-picker s-menu">\r\n	<div class="holder">\r\n		<div class="l-month-year-pager">\r\n			<a class="pager prev" ng-click="changeMonth(-1)"></a>\r\n			<span class="val">{{month}} {{year}}</span>\r\n			<a class="pager next" ng-click="changeMonth(1)"></a>\r\n		</div>\r\n		<div class="l-calendar">\r\n			<ul class="l-cal-row l-header">\r\n				<li ng-repeat="day in [\'Su\',\'Mo\',\'Tu\',\'We\',\'Th\',\'Fr\',\'Sa\']">{{day}}</li>\r\n			</ul>\r\n			<ul class="l-cal-row l-body" ng-repeat="row in table">\r\n				<li ng-repeat="cell in row"\r\n					ng-click="select(cell)"\r\n					ng-class=\'{ "in-month": isInCurrentMonth(cell), selected: isSelected(cell) }\'>\r\n					<div class="prime">{{cell.day}}</div>\r\n					<div class="sub">{{cell.dayOfYear}}</div>\r\n				</li>\r\n			</ul>\r\n		</div>\r\n	</div>\r\n	<div class="l-time-selects complex datetime"\r\n			ng-show="options">\r\n		<div class="field-hints">\r\n			<span class="hint time md"\r\n				  ng-repeat="key in [\'hours\', \'minutes\', \'seconds\']"\r\n				  ng-if="options[key]">\r\n				{{nameFor(key)}}\r\n			</span>\r\n		</div>\r\n		<div>\r\n			<span class="field control time md"\r\n				  ng-repeat="key in [\'hours\', \'minutes\', \'seconds\']"\r\n				  ng-if="options[key]">\r\n				<div class=\'form-control select\'>\r\n					<select size="1"\r\n							ng-model="time[key]"\r\n							ng-options="i for i in optionsFor(key)">\r\n					</select>\r\n				</div>\r\n			</span>\r\n		</div>\r\n	</div>\r\n</div>\r\n'}),define("text!platform/commonUI/general/res/templates/controls/datetime-field.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="DateTimeFieldController">\r\n    <input type="text"\r\n           ng-model="textValue"\r\n           ng-blur="restoreTextValue(); ngBlur()"\r\n           ng-class="{\r\n                        error: textInvalid ||\r\n                            (structure.validate &&\r\n                                !structure.validate(ngModel[field])),\r\n                        \'picker-icon\': structure.format === \'utc\' || !structure.format\r\n                     }">\r\n    </input>\r\n    <a class="ui-symbol icon icon-calendar"\r\n       ng-if="!picker.active && (structure.format === \'utc\' || !structure.format)"\r\n       ng-click="picker.active = !picker.active"></a>\r\n    <!-- If picker active show icon with no onclick to prevent double registration of clicks -->\r\n    <a class="ui-symbol icon icon-calendar" ng-if="picker.active"></a>\r\n    <mct-popup ng-if="picker.active">\r\n        <div mct-click-elsewhere="picker.active = false">\r\n            <mct-control key="\'datetime-picker\'"\r\n                         ng-model="pickerModel"\r\n                         field="\'value\'">\r\n            </mct-control>\r\n        </div>\r\n    </mct-popup>\r\n</span>\r\n'}),define("platform/commonUI/general/bundle",["./src/services/UrlService","./src/services/PopupService","./src/SplashScreenManager","./src/StyleSheetLoader","./src/controllers/TimeRangeController","./src/controllers/DateTimePickerController","./src/controllers/DateTimeFieldController","./src/controllers/TreeNodeController","./src/controllers/ActionGroupController","./src/controllers/ToggleController","./src/controllers/ContextMenuController","./src/controllers/ClickAwayController","./src/controllers/ViewSwitcherController","./src/controllers/BottomBarController","./src/controllers/GetterSetterController","./src/controllers/SelectorController","./src/controllers/ObjectInspectorController","./src/controllers/BannerController","./src/directives/MCTContainer","./src/directives/MCTDrag","./src/directives/MCTClickElsewhere","./src/directives/MCTResize","./src/directives/MCTPopup","./src/directives/MCTScroll","./src/directives/MCTSplitPane","./src/directives/MCTSplitter","./src/directives/MCTTree","text!./res/templates/bottombar.html","text!./res/templates/controls/action-button.html","text!./res/templates/controls/input-filter.html","text!./res/templates/indicator.html","text!./res/templates/message-banner.html","text!./res/templates/progress-bar.html","text!./res/templates/controls/time-controller.html","text!./res/templates/containers/accordion.html","text!./res/templates/subtree.html","text!./res/templates/tree.html","text!./res/templates/tree-node.html","text!./res/templates/label.html","text!./res/templates/controls/action-group.html","text!./res/templates/menu/context-menu.html","text!./res/templates/controls/switcher.html","text!./res/templates/object-inspector.html","text!./res/templates/controls/selector.html","text!./res/templates/controls/datetime-picker.html","text!./res/templates/controls/datetime-field.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,x,O,T,k,A,I,M,E,L,N,D,j,R,P,_,U,F,V,Y,q,B,H,W){
W.register("platform/commonUI/general",{name:"General UI elements",description:"General UI elements, meant to be reused across modes",resources:"res",extensions:{services:[{key:"urlService",implementation:e,depends:["$location"]},{key:"popupService",implementation:t,depends:["$document","$window"]}],runs:[{implementation:r,depends:["stylesheets[]","$document","THEME"]},{implementation:n,depends:["$document"]}],filters:[{implementation:"filters/ReverseFilter.js",key:"reverse"}],stylesheets:[{stylesheetUrl:"css/normalize.min.css",priority:"mandatory"}],templates:[{key:"bottombar",template:k},{key:"action-button",template:A},{key:"input-filter",template:I},{key:"indicator",template:M},{key:"message-banner",template:E},{key:"progress-bar",template:L},{key:"time-controller",template:N}],controllers:[{key:"TimeRangeController",implementation:i,depends:["$scope","$timeout","formatService","DEFAULT_TIME_FORMAT","now"]},{key:"DateTimePickerController",implementation:o,depends:["$scope","now"]},{key:"DateTimeFieldController",implementation:s,depends:["$scope","formatService","DEFAULT_TIME_FORMAT"]},{key:"TreeNodeController",implementation:a,depends:["$scope","$timeout","navigationService"]},{key:"ActionGroupController",implementation:c,depends:["$scope"]},{key:"ToggleController",implementation:l},{key:"ContextMenuController",implementation:u,depends:["$scope"]},{key:"ClickAwayController",implementation:d,depends:["$document","$timeout"]},{key:"ViewSwitcherController",implementation:p,depends:["$scope","$timeout"]},{key:"BottomBarController",implementation:f,depends:["indicators[]"]},{key:"GetterSetterController",implementation:h,depends:["$scope"]},{key:"SelectorController",implementation:m,depends:["objectService","$scope"]},{key:"ObjectInspectorController",implementation:g,depends:["$scope","objectService"]},{key:"BannerController",implementation:y,depends:["$scope","notificationService","dialogService"]}],directives:[{key:"mctContainer",implementation:v,depends:["containers[]"]},{key:"mctDrag",implementation:b,depends:["$document"]},{key:"mctClickElsewhere",implementation:w,depends:["$document"]},{key:"mctResize",implementation:S,depends:["$timeout"]},{key:"mctPopup",implementation:$,depends:["$compile","popupService"]},{key:"mctScrollX",implementation:C,depends:["$parse","MCT_SCROLL_X_PROPERTY","MCT_SCROLL_X_ATTRIBUTE"]},{key:"mctScrollY",implementation:C,depends:["$parse","MCT_SCROLL_Y_PROPERTY","MCT_SCROLL_Y_ATTRIBUTE"]},{key:"mctSplitPane",implementation:x,depends:["$parse","$log","$interval"]},{key:"mctSplitter",implementation:O},{key:"mctTree",implementation:T,depends:["gestureService"]}],constants:[{key:"MCT_SCROLL_X_PROPERTY",value:"scrollLeft"},{key:"MCT_SCROLL_X_ATTRIBUTE",value:"mctScrollX"},{key:"MCT_SCROLL_Y_PROPERTY",value:"scrollTop"},{key:"MCT_SCROLL_Y_ATTRIBUTE",value:"mctScrollY"},{key:"THEME",value:"unspecified",priority:"fallback"}],containers:[{key:"accordion",template:D,attributes:["label"]}],representations:[{key:"tree",template:j,uses:["composition"],type:"root",priority:"preferred"},{key:"tree",template:R},{key:"subtree",template:j,uses:["composition"]},{key:"tree-node",template:P,uses:["action"]},{key:"label",template:_,uses:["type","location"],gestures:["drag","menu","info"]},{key:"node",template:_,uses:["type"],gestures:["drag","menu"]},{key:"action-group",template:U,uses:["action"]},{key:"context-menu",template:F,uses:["action"]},{key:"switcher",template:V,uses:["view"]},{key:"object-inspector",template:Y}],controls:[{key:"selector",template:q},{key:"datetime-picker",template:B},{key:"datetime-field",template:H}],licenses:[{name:"Normalize.css",version:"1.1.2",description:"Browser style normalization",author:"Nicolas Gallagher, Jonathan Neal",website:"http://necolas.github.io/normalize.css/",copyright:"Copyright (c) Nicolas Gallagher and Jonathan Neal",license:"license-mit",link:"https://github.com/necolas/normalize.css/blob/v1.1.2/LICENSE.md"},{name:"Zepto",version:"1.1.6",description:"DOM manipulation",author:"Thomas Fuchs",website:"http://zeptojs.com/",copyright:"Copyright (c) 2010-2016 Thomas Fuchs",license:"license-mit",link:"https://github.com/madrobby/zepto/blob/master/MIT-LICENSE"}]}})}),define("platform/commonUI/inspect/src/gestures/InfoGesture",[],function(){function e(e,t,n,r,i,o){var s=this;this.showBubbleCallback=function(e){s.showBubble(e)},this.hideBubbleCallback=function(e){s.hideBubble(e)},this.trackPositionCallback=function(e){s.trackPosition(e)},this.element=i,this.$timeout=e,this.infoService=n,this.delay=r,this.domainObject=o,t.isMobile()||i.on("mouseenter",this.showBubbleCallback)}return e.prototype.trackPosition=function(e){this.mousePosition=[e.clientX,e.clientY]},e.prototype.hideBubble=function(){this.dismissBubble&&(this.dismissBubble(),this.element.off("mouseleave",this.hideBubbleCallback),this.dismissBubble=void 0),this.pendingBubble&&(this.$timeout.cancel(this.pendingBubble),this.element.off("mousemove",this.trackPositionCallback),this.element.off("mouseleave",this.hideBubbleCallback),this.pendingBubble=void 0),this.mousePosition=void 0},e.prototype.showBubble=function(e){function t(){n.dismissBubble=n.infoService.display("info-table",n.domainObject.getModel().name,n.domainObject.useCapability("metadata"),n.mousePosition),n.element.off("mousemove",n.trackPositionCallback),n.pendingBubble=void 0}var n=this;this.trackPosition(e),this.pendingBubble||(this.element.on("mousemove",this.trackPositionCallback),this.pendingBubble=this.$timeout(t,this.delay),this.element.on("mouseleave",this.hideBubbleCallback))},e.prototype.destroy=function(){this.hideBubble(),this.element.off("mouseenter",this.showBubbleCallback)},e}),define("platform/commonUI/inspect/src/gestures/InfoButtonGesture",[],function(){function e(e,t,n,r,i){function o(e){l=[e.clientX-22,e.clientY]}function s(){c&&(c(),c=void 0),u.off("touchstart",s)}function a(e){o(e),e.stopPropagation(),c=n.display("info-table",i.getModel().name,i.useCapability("metadata"),l),u.on("touchstart",function(e){e.preventDefault(),s(),u.unbind("touchstart")})}var c,l,u=e.find("body");return t.isMobile()&&r.on("click",a),{destroy:function(){s(),r.off("click",a)}}}return e}),define("platform/commonUI/inspect/src/InfoConstants",{BUBBLE_TEMPLATE:'<mct-container key="bubble" bubble-title="{{bubbleTitle}}" bubble-layout="{{bubbleLayout}}" class="bubble-container"><mct-include key="bubbleTemplate" ng-model="bubbleModel"></mct-include></mct-container>',BUBBLE_OPTIONS:{offsetX:0,offsetY:-26},BUBBLE_MOBILE_POSITION:[0,-25],BUBBLE_MARGIN_LR:10,BUBBLE_MAX_WIDTH:300}),define("platform/commonUI/inspect/src/services/InfoService",["../InfoConstants"],function(e){function t(e,t,n,r){this.$compile=e,this.$rootScope=t,this.popupService=n,this.agentService=r}var n=e.BUBBLE_TEMPLATE,r=e.BUBBLE_MOBILE_POSITION,i=e.BUBBLE_OPTIONS;return t.prototype.display=function(t,o,s,a){var c,l,u,d=this.$compile,p=this.$rootScope,f=p.$new(),h=d("<span></span>")(f),m=e.BUBBLE_MARGIN_LR+e.BUBBLE_MAX_WIDTH;return c=Object.create(i),c.marginX=-m,this.agentService.isPhone()&&(a=r,c={}),l=this.popupService.display(h,a,c),f.bubbleModel=s,f.bubbleTemplate=t,f.bubbleTitle=o,f.bubbleLayout=[l.goesUp()?"arw-btm":"arw-top",l.goesLeft()?"arw-right":"arw-left"].join(" "),u=d(n)(f),h.append(u),function(){l.dismiss(),f.$destroy()}},t}),define("text!platform/commonUI/inspect/res/info-table.html",[],function(){return'<table>\r\n    <tr ng-repeat="property in ngModel">\r\n        <td class="label">{{property.name}}</td>\r\n        <td title="{{property.value}}" class="value align-{{property.align}}">\r\n            {{property.value}}\r\n        </td>\r\n    </tr>\r\n</table>\r\n'}),define("text!platform/commonUI/inspect/res/info-bubble.html",[],function(){return'<mct-container\r\n	key="bubble"\r\n	bubble-title="{{parameters.title}}"\r\n	bubble-layout="{{parameters.layout}}"\r\n	>\r\n    <mct-include key="info-table"\r\n                 ng-model="ngModel">\r\n    </mct-include>\r\n</mct-container>\r\n'}),define("text!platform/commonUI/inspect/res/bubble.html",[],function(){return'    <div class="t-infobubble s-infobubble l-infobubble-wrapper {{bubble.bubbleLayout}}">\r\n        <div class="l-infobubble">\r\n            <div ng-show="bubble.bubbleTitle.length > 0"\r\n                 class="title">\r\n                {{bubble.bubbleTitle}}\r\n            </div>\r\n            <span ng-transclude></span>\r\n        </div>\r\n    </div>\r\n'}),define("text!platform/commonUI/inspect/res/templates/info-button.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n\r\n<!--The icon for the info button appearing in a grid item (list in folder)-->\r\n<a class=\'s-icon-button icon-info\'></a>\r\n'}),define("platform/commonUI/inspect/bundle",["./src/gestures/InfoGesture","./src/gestures/InfoButtonGesture","./src/services/InfoService","text!./res/info-table.html","text!./res/info-bubble.html","text!./res/bubble.html","text!./res/templates/info-button.html","legacyRegistry"],function(e,t,n,r,i,o,s,a){a.register("platform/commonUI/inspect",{extensions:{templates:[{key:"info-table",template:r},{key:"info-bubble",template:i}],containers:[{key:"bubble",template:o,attributes:["bubbleTitle","bubbleLayout"],alias:"bubble"}],gestures:[{key:"info",implementation:e,depends:["$timeout","agentService","infoService","INFO_HOVER_DELAY"]},{key:"infobutton",implementation:t,depends:["$document","agentService","infoService"]}],services:[{key:"infoService",implementation:n,depends:["$compile","$rootScope","popupService","agentService"]}],constants:[{key:"INFO_HOVER_DELAY",value:2e3}],representations:[{key:"info-button",template:s,gestures:["infobutton"]}]}})}),define("platform/commonUI/mobile/src/DeviceMatchers",[],function(){return{mobile:function(e){return e.isMobile()},phone:function(e){return e.isPhone()},tablet:function(e){return e.isTablet()},desktop:function(e){return!e.isMobile()},portrait:function(e){return e.isPortrait()},landscape:function(e){return e.isLandscape()},touch:function(e){return e.isTouch()}}}),define("platform/commonUI/mobile/src/MCTDevice",["./DeviceMatchers"],function(e){function t(t){function n(n){return n=n||"",n.split(" ").every(function(n){var r=e[n];return r&&r(t)})}function r(e,t,r,i,o){n(r.mctDevice)&&o(function(e){t.replaceWith(e)})}return{link:r,transclude:"element",priority:601,terminal:!0,restrict:"A"}}return t}),define("platform/commonUI/mobile/src/AgentService",[],function(){function e(e){var t=e.navigator.userAgent,n=t.match(/iPad|iPhone|Android/i)||[];this.userAgent=t,this.mobileName=n[0],this.$window=e,this.touchEnabled=void 0!==e.ontouchstart}return e.prototype.isMobile=function(){return!!this.mobileName},e.prototype.isPhone=function(){return"iPhone"===this.mobileName},e.prototype.isTablet=function(){return this.isMobile()&&!this.isPhone()},e.prototype.isPortrait=function(){return this.$window.innerWidth<this.$window.innerHeight},e.prototype.isLandscape=function(){return!this.isPortrait()},e.prototype.isTouch=function(){return this.touchEnabled},e.prototype.isBrowser=function(e){return e=e.toLowerCase(),-1!==this.userAgent.toLowerCase().indexOf(e)},e}),define("platform/commonUI/mobile/src/DeviceClassifier",["./DeviceMatchers"],function(e){function t(t,n){var r=n.find("body");Object.keys(e).forEach(function(n){e[n](t)&&r.addClass(n)})}return t}),define("platform/commonUI/mobile/bundle",["./src/MCTDevice","./src/AgentService","./src/DeviceClassifier","legacyRegistry"],function(e,t,n,r){r.register("platform/commonUI/mobile",{extensions:{directives:[{key:"mctDevice",implementation:e,depends:["agentService"]}],services:[{key:"agentService",implementation:t,depends:["$window"]}],runs:[{implementation:n,depends:["agentService","$document"]}]}})}),define("platform/commonUI/themes/espresso/bundle",["legacyRegistry"],function(e){e.register("platform/commonUI/themes/espresso",{name:"Espresso",description:"Espresso theme: dark and rich",extensions:{stylesheets:[{stylesheetUrl:"css/theme-espresso.css",priority:1e3}],constants:[{key:"THEME",value:"espresso"}]}})}),define("platform/commonUI/notification/src/NotificationIndicatorController",[],function(){function e(e,t,n){e.notifications=t.notifications,e.highest=t.highest,e.showNotificationsList=function(){n.getDialogResponse("overlay-message-list",{dialog:{title:"Messages",messages:t.notifications}})}}return e}),define("platform/commonUI/notification/src/NotificationIndicator",[],function(){function e(){}return e.template="notificationIndicatorTemplate",e}),define("platform/commonUI/notification/src/NotificationService",[],function(){function e(e,t,n,r){this.notifications=[],this.$timeout=e,this.highest={severity:"info"},this.DEFAULT_AUTO_DISMISS=n,this.MINIMIZE_TIMEOUT=r,this.topic=t,this.active={}}return e.prototype.minimize=function(e,t){var n=e.notifications.indexOf(t);e.active.timeout&&(e.$timeout.cancel(e.active.timeout),delete e.active.timeout),n>=0&&(t.model.minimized=!0,e.$timeout(function(){e.setActiveNotification(e.selectNextNotification())},e.MINIMIZE_TIMEOUT))},e.prototype.dismiss=function(e,t){var n=e.notifications.indexOf(t);e.active.timeout&&(e.$timeout.cancel(e.active.timeout),delete e.active.timeout),n>=0&&e.notifications.splice(n,1),e.setActiveNotification(e.selectNextNotification()),this.setHighestSeverity()},e.prototype.dismissOrMinimize=function(e){e.minimize()},e.prototype.getActiveNotification=function(){return this.active.notification},e.prototype.info=function(e){var t="string"==typeof e?{title:e}:e;return t.autoDismiss=t.autoDismiss||!0,t.severity="info",this.notify(t)},e.prototype.alert=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="alert",this.notify(t)},e.prototype.error=function(e){var t="string"==typeof e?{title:e}:e;return t.severity="error",this.notify(t)},e.prototype.setHighestSeverity=function(){var e={info:1,alert:2,error:3};this.highest.severity=this.notifications.reduce(function(t,n){return e[n.model.severity]>e[t]?n.model.severity:t},"info")},e.prototype.notify=function(e){var t,n=this,r=n.active.notification,i=this.topic();return t={model:e,minimize:function(){n.minimize(n,t)},dismiss:function(){n.dismiss(n,t),i.notify()},dismissOrMinimize:function(){n.dismissOrMinimize(t)},onDismiss:function(e){i.listen(e)}},e.severity=e.severity||"info",e.autoDismiss===!0&&(e.autoDismiss=this.DEFAULT_AUTO_DISMISS),e.dismissable!==!1&&(e.options=e.options||[],e.options.unshift({label:"Dismiss",callback:function(){t.dismiss()}})),this.notifications.push(t),this.setHighestSeverity(),this.active.notification?this.active.timeout||(this.active.timeout=this.$timeout(function(){r.dismissOrMinimize()},this.DEFAULT_AUTO_DISMISS)):this.setActiveNotification(t),t},e.prototype.setActiveNotification=function(e){var t;this.active.notification=e,e&&(e.model.autoDismiss||this.selectNextNotification())?(t=e.model.autoDismiss||this.DEFAULT_AUTO_DISMISS,this.active.timeout=this.$timeout(function(){e.dismissOrMinimize()},t)):delete this.active.timeout},e.prototype.selectNextNotification=function(){for(var e,t=0;t<this.notifications.length;t++)if(e=this.notifications[t],!e.model.minimized&&e!==this.active.notification)return e},e}),define("text!platform/commonUI/notification/res/notification-indicator.html",[],function(){return'<!-- DO NOT ADD SPACES BETWEEN THE SPANS - IT ADDS WHITE SPACE!! -->\r\n<span ng-show="notifications.length > 0" class="status block"\r\n      ng-class="highest.severity"\r\n      ng-controller="NotificationIndicatorController">\r\n    <span class="status-indicator icon-bell"></span><span class="label">\r\n        <a ng-click="showNotificationsList()">{{notifications.length}}\r\n            Notifications</a>\r\n    </span><span class="count">{{notifications.length}}</span>\r\n</span>'}),define("platform/commonUI/notification/bundle",["./src/NotificationIndicatorController","./src/NotificationIndicator","./src/NotificationService","text!./res/notification-indicator.html","legacyRegistry"],function(e,t,n,r,i){i.register("platform/commonUI/notification",{extensions:{constants:[{key:"DEFAULT_AUTO_DISMISS",value:3e3},{key:"FORCE_AUTO_DISMISS",value:1e3},{key:"MINIMIZE_TIMEOUT",value:300}],templates:[{key:"notificationIndicatorTemplate",template:r}],controllers:[{key:"NotificationIndicatorController",implementation:e,depends:["$scope","notificationService","dialogService"]}],indicators:[{implementation:t,priority:"fallback"}],services:[{key:"notificationService",implementation:n,depends:["$timeout","topic","DEFAULT_AUTO_DISMISS","MINIMIZE_TIMEOUT"]}]}})}),define("platform/containment/src/CapabilityTable",[],function(){function e(e,t){function n(e){var t=Object.create(e.getInitialModel()||{});return t.type=e.getKey(),t}function r(e){return t.getCapabilities(n(e))}function i(e){var t=e.getKey();Object.keys(r(e)).forEach(function(e){o.table[e]=o.table[e]||{},o.table[e][t]=!0})}var o=this;this.table={},(e.listTypes()||[]).forEach(i)}return e.prototype.hasCapability=function(e,t){return(this.table[t]||{})[e]},e}),define("platform/containment/src/ContainmentTable",["./CapabilityTable"],function(e){function t(t,r){function i(e,t){t=Array.isArray(t)?t:[t],c.forEach(function(n){var r=n.getKey();e[r]=t.map(function(e){return l.hasCapability(r,e)}).reduce(function(e,t){return e&&t},!0)})}function o(e,t){"string"==typeof t?e[t]=!0:i(e,(t||{}).has||[])}function s(e){var t=e.getKey(),r=e.getDefinition()||{},i=r.contains;void 0===i?a.table[t]=n:(a.table[t]={},i=Array.isArray(i)?i:[i],i.forEach(function(e){o(a.table[t],e)}))}var a=this,c=t.listTypes(),l=new e(t,r);this.table={},c.forEach(s)}var n=!0;return t.prototype.canContain=function(e,t){var r=this.table[e.getKey()]||{};return r===n||r[t.getKey()]},t}),define("platform/containment/src/CompositionPolicy",["./ContainmentTable"],function(e){function t(t){var n;this.getTable=function(){return n=n||new e(t.get("typeService"),t.get("capabilityService"))}}return t.prototype.allow=function(e,t){return this.getTable().canContain(e,t)},t}),define("platform/containment/src/CompositionMutabilityPolicy",[],function(){function e(){}return e.prototype.allow=function(e){return e.hasFeature("creation")},e}),define("platform/containment/src/CompositionModelPolicy",[],function(){function e(){}return e.prototype.allow=function(e){return Array.isArray((e.getInitialModel()||{}).composition)},e}),define("platform/containment/src/ComposeActionPolicy",[],function(){function e(e){this.getPolicyService=function(){return e.get("policyService")}}return e.prototype.allowComposition=function(e,t){var n=e&&e.getCapability("type"),r=t&&t.getCapability("type");return this.policyService=this.policyService||this.getPolicyService(),e.getId()!==t.getId()&&this.policyService.allow("composition",n,r)},e.prototype.allow=function(e,t){return"compose"===e.getMetadata().key?this.allowComposition((t||{}).domainObject,(t||{}).selectedObject):!0},e}),define("platform/containment/bundle",["./src/CompositionPolicy","./src/CompositionMutabilityPolicy","./src/CompositionModelPolicy","./src/ComposeActionPolicy","legacyRegistry"],function(e,t,n,r,i){i.register("platform/containment",{extensions:{policies:[{category:"composition",implementation:e,depends:["$injector"],message:"Objects of this type cannot contain objects of that type."},{category:"composition",implementation:t,message:"Objects of this type cannot be modified."},{category:"composition",implementation:n,message:"Objects of this type cannot contain other objects."},{category:"action",implementation:r,depends:["$injector"],message:"Objects of this type cannot contain objects of that type."}]}})}),define("platform/execution/src/WorkerService",[],function(){function e(e,t){function n(e){var t=e.key;r[t]||(r[t]=[e.bundle.path,e.bundle.sources,e.scriptUrl].join("/"),i[t]=e.shared)}var r={},i={};(t||[]).forEach(n),this.workerUrls=r,this.sharedWorkers=i,this.Worker=e.Worker,this.SharedWorker=e.SharedWorker}return e.prototype.run=function(e){var t=this.workerUrls[e],n=this.sharedWorkers[e]?this.SharedWorker:this.Worker;return t&&n&&new n(t)},e}),define("platform/execution/bundle",["./src/WorkerService","legacyRegistry"],function(e,t){t.register("platform/execution",{extensions:{services:[{key:"workerService",implementation:e,depends:["$window","workers[]"]}]}})}),!function(e,t){"function"==typeof define&&define.amd?define("csv",[],t):"object"==typeof module&&module.exports?module.exports=t():e.CSV=t()}(this,function(){"use strict";function e(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function t(e){return"string"==typeof e}function n(e){return!isNaN(+e)}function r(e){return 0==e||1==e}function i(e){return null==e}function o(e){return null!=e}function s(e,t){return o(e)?e:t}function a(e,t){for(var n=0,r=e.length;r>n&&t(e[n],n)!==!1;n+=1);}function c(e){return e.replace(/"/g,'\\"')}function l(e){return"attrs["+e+"]"}function u(e,t){return n(e)?"Number("+l(t)+")":r(e)?"Boolean("+l(t)+" == true)":"String("+l(t)+")"}function d(e,n,r,i){var o=[];return 3==arguments.length?(n?g(n)?a(r,function(r,i){t(n[i])?n[i]=n[i].toLowerCase():e[n[i]]=n[i],o.push("deserialize[cast["+i+"]]("+l(i)+")")}):a(r,function(e,t){o.push(u(e,t))}):a(r,function(e,t){o.push(l(t))}),o="return ["+o.join(",")+"]"):(n?g(n)?a(r,function(r,s){t(n[s])?n[s]=n[s].toLowerCase():e[n[s]]=n[s],o.push('"'+c(i[s])+'": deserialize[cast['+s+"]]("+l(s)+")")}):a(r,function(e,t){o.push('"'+c(i[t])+'": '+u(e,t))}):a(r,function(e,t){o.push('"'+c(i[t])+'": '+l(t))}),o="return {"+o.join(",")+"}"),Function("attrs","deserialize","cast",o)}function p(e,t){var n,r=0;return a(t,function(t){var i,o=t;-1!=f.indexOf(t)&&(o="\\"+o),i=e.match(RegExp(o,"g")),i&&i.length>r&&(r=i.length,n=t)}),n||t[0]}var f=["|","^"],h=[",",";","  ","|","^"],m=["\r\n","\r","\n"],g=Array.isArray||function(e){return"[object Array]"===toString.call(e)},y=function(){function n(e,n){if(n||(n={}),g(e))this.mode="encode";else{if(!t(e))throw Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:s(n.header,!1),cast:s(n.cast,!0)};var r=n.lineDelimiter||n.line,i=n.cellDelimiter||n.delimiter;this.isParser()?(this.options.lineDelimiter=r||p(this.data,m),this.options.cellDelimiter=i||p(this.data,h),this.data=o(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=r||"\r\n",this.options.cellDelimiter=i||",")}function r(e,t,n,r,i){e(new t(n,r,i))}function o(e,t){return e.slice(-t.length)!=t&&(e+=t),e}function c(n){return g(n)?"array":e(n)?"object":t(n)?"string":i(n)?"null":"primitive"}return n.prototype.set=function(e,t){return this.options[e]=t},n.prototype.isParser=function(){return"parse"==this.mode},n.prototype.isEncoder=function(){return"encode"==this.mode},n.prototype.parse=function(e){function t(){c={escaped:!1,quote:!1,cell:!0}}function n(){m.cell=""}function i(){m.line=[]}function o(e){m.line.push(c.escaped?e.slice(1,-1).replace(/""/g,'"'):e),n(),t()}function s(e){o(e.slice(0,1-f.lineDelimiter.length))}function a(){h?g(h)?(l=d(y,f.cast,m.line,h),(a=function(){r(e,l,m.line,y,f.cast)})()):h=m.line:(l||(l=d(y,f.cast,m.line)),(a=function(){r(e,l,m.line,y,f.cast)})())}if("parse"==this.mode){if(0===this.data.trim().length)return[];var c,l,u,p=this.data,f=this.options,h=f.header,m={cell:"",line:[]},y=this.deserialize;e||(u=[],e=function(e){u.push(e)}),1==f.lineDelimiter.length&&(s=o);var v,b,w,S=p.length,$=f.cellDelimiter.charCodeAt(0),C=f.lineDelimiter.charCodeAt(f.lineDelimiter.length-1);for(t(),v=0,b=0;S>v;v++)w=p.charCodeAt(v),c.cell&&(c.cell=!1,34==w)?c.escaped=!0:c.escaped&&34==w?c.quote=!c.quote:(c.escaped&&c.quote||!c.escaped)&&(w==$?(o(m.cell+p.slice(b,v)),b=v+1):w==C&&(s(m.cell+p.slice(b,v)),b=v+1,(m.line.length>1||""!==m.line[0])&&a(),i()));return u?u:this}},n.prototype.deserialize={string:function(e){return e+""},number:function(e){return+e},"boolean":function(e){return!!e}},n.prototype.serialize={object:function(e){var t=this,n=Object.keys(e),r=Array(n.length);return a(n,function(n,i){r[i]=t[c(e[n])](e[n])}),r},array:function(e){var t=this,n=Array(e.length);return a(e,function(e,r){n[r]=t[c(e)](e)}),n},string:function(e){return'"'+(e+"").replace(/"/g,'""')+'"'},"null":function(){return""},primitive:function(e){return e}},n.prototype.encode=function(e){function n(e){return e.join(s.cellDelimiter)}if("encode"==this.mode){if(0==this.data.length)return"";var r,i,o=this.data,s=this.options,l=s.header,u=o[0],d=this.serialize,p=0;e||(i=Array(o.length),e=function(e,t){i[t+p]=e}),l&&(g(l)||(r=Object.keys(u),l=r),e(n(d.array(l)),0),p=1);var f,h=c(u);return"array"==h?(g(s.cast)?(f=Array(s.cast.length),a(s.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,d[e]=e)})):(f=Array(u.length),a(u,function(e,t){f[t]=c(e)})),a(o,function(t,r){var i=Array(f.length);a(t,function(e,t){i[t]=d[f[t]](e)}),e(n(i),r)})):"object"==h&&(r=Object.keys(u),g(s.cast)?(f=Array(s.cast.length),a(s.cast,function(e,n){t(e)?f[n]=e.toLowerCase():(f[n]=e,d[e]=e)})):(f=Array(r.length),a(r,function(e,t){f[t]=c(u[e])})),a(o,function(t,i){var o=Array(r.length);a(r,function(e,n){o[n]=d[f[n]](t[e])}),e(n(o),i)})),i?i.join(s.lineDelimiter):this}},n.prototype.forEach=function(e){return this[this.mode](e)},n}();return y.parse=function(e,t){return new y(e,t).parse()},y.encode=function(e,t){return new y(e,t).encode()},y.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new y(e,t).forEach(n)},y}),define("platform/exporters/ExportService",["csv"],function(e){function t(e){this.saveAs=e}return t.prototype.exportCSV=function(t,n){var r=n&&n.headers||Object.keys(t[0]||{}).sort(),i=n&&n.filename||"export.csv",o=new e(t,{header:r}).encode(),s=new Blob([o],{type:"text/csv"});this.saveAs(s,i)},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("saveAs",[],function(){return t(e)}):e.saveAs=e.saveAs||t(e)}(this,function(e,t){"use strict";function n(t,n){return e.navigator.msSaveOrOpenBlob(l(t),n)}function r(e,t){return new i(e,t)}function i(e,n){function r(){S=u().createObjectURL(e),m.href=S,m.download=n,$(function(){f(),s(x),d(S),x.readyState=x.DONE},0)}function i(){if(h.chrome&&O&&O!==b){var t=e.slice||e.webkitSlice;e=t.call(e,0,e.size,b),T=!0}}function o(){y&&"download"!==n&&(n+=".download"),(O===b||y)&&(C=h)}function p(){(T||!S)&&(S=u().createObjectURL(e)),w(S)}function w(e,n,r){if(C)C.location.href=e;else{var i=h.open(e,"_blank");i===t&&(h.location.href=e)}x.readyState=x.DONE,r?a(x,"writeend",r):s(x),d(n||e)}this.blob=e=l(e),this.saveUsingObjectURLs=p,this.execSave=w;var S,C,x=this,O=e.type,T=!1;return x.readyState=x.INIT,n=n||"download",g?r():(i(),o(),v?c(x):p())}function o(){var e=this;e.readyState=e.DONE,a(e,"abort")}function s(e){a(e,"writestart progress write writeend".split(" "))}function a(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(o){p(o)}}}function c(e){function t(t){t.root.getDirectory("temp",i,r(n),e.saveUsingObjectURLs)}function n(t){function n(e){e.remove(function(){s()})}function o(t){"NotFoundError"===t.name?s():e.saveUsingObjectURLs()}function s(){t.getFile(name,i,r(a),e.saveUsingObjectURLs)}function a(t){function n(n){function r(n){e.execSave(t.toURL(),t,n)}function i(){var t=n.error;t.code!==t.ABORT_ERR&&e.saveUsingObjectURLs()}function o(){"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=e["on"+t]})}function s(){n.abort(),e.readyState=e.DONE}n.onwriteend=r,n.onerror=i,o(),n.write(blob),e.abort=s,e.readyState=e.WRITING}t.createWriter(r(n),e.saveUsingObjectURLs)}t.getFile(name,{create:!1},r(n),r(o))}function r(t){return function(){return e.readyState!==e.DONE?t.apply(this,arguments):void 0}}w+=e.blob.size;var i={create:!0,exclusive:!1};v(h.TEMPORARY,w,r(t),e.saveUsingObjectURLs)}function l(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function u(){return h.URL||h.webkitURL||h}function d(e){function t(){"string"==typeof e?u().revokeObjectURL(e):e.remove(function(){})}setTimeout(t,S)}function p(e){$(function(){throw e},0)}function f(){var e=new MouseEvent("click");m.dispatchEvent(e)}if(e.navigator!==t){if(/MSIE [1-9]\./.test(e.navigator.userAgent))return;if(e.navigator.msSaveOrOpenBlob)return n}var h=e.self||e.window||e.content,m=h.document.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in m,y=h.webkitRequestFileSystem,v=h.requestFileSystem||y||h.mozRequestFileSystem,b="application/octet-stream",w=0,S=500,$=h.setImmediate||h.setTimeout,C=i.prototype;return C.abort=o,C.INIT=0,C.WRITING=1,C.DONE=2,C.readyState=C.INIT,C.error=null,C.onwritestart=null,C.onprogress=null,C.onwrite=null,C.onabort=null,C.onerror=null,C.onwriteend=null,r}),define("platform/exporters/bundle",["./ExportService","saveAs","legacyRegistry"],function(e,t,n){n.register("platform/exporters",{extensions:{services:[{key:"exportService",implementation:function(){return new e(t)}}],licenses:[{name:"CSV.js",version:"3.6.4",author:"Kash Nouroozi",description:"Encoder for CSV (comma separated values) export",website:"https://github.com/knrz/CSV.js",copyright:"Copyright (c) 2014 Kash Nouroozi",license:"license-mit",link:"https://github.com/knrz/CSV.js/blob/3.6.4/LICENSE"},{name:"FileSaver.js",version:"0.0.2",author:"Eli Grey",description:"File download initiator (for file exports)",website:"https://github.com/eligrey/FileSaver.js/",copyright:"Copyright © 2015 Eli Grey.",license:"license-mit",link:"https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md"}]}})}),define("platform/telemetry/src/TelemetryAggregator",[],function(){function e(e,t){this.$q=e,this.telemetryProviders=t}function t(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t}return e.prototype.requestTelemetry=function(e){return this.$q.all(this.telemetryProviders.map(function(t){return t.requestTelemetry(e)})).then(t)},e.prototype.subscribe=function(e,t){var n=this.telemetryProviders.map(function(n){return n.subscribe(e,t)});return function(){n.forEach(function(e){e&&e()})}},e}),define("platform/telemetry/src/TelemetryController",[],function(){function e(e,t,n,r){function i(){m.broadcasting||(m.broadcasting=!0,n(function(){m.broadcasting=!1,e.$broadcast("telemetryUpdate")}))}function o(e,n){function o(e){m.pending-=n?1:0,s.data=e,i()}var s=m.response[e],a=s.domainObject,c=a.getCapability("telemetry");return m.pending+=n?1:0,c?t.when(c.requestData(m.request)).then(o):(r.warn(["Expected telemetry capability for ",e," but found none. Cannot request data."].join("")),void(m.pending-=n?1:0))}function s(e){return t.all(m.ids.map(function(t){return o(t,e)}))}function a(e,t){return e.subscribe(function(){o(t,!1)})}function c(){m.subscriptions.forEach(function(e){return e&&e()}),m.subscriptions=[]}function l(e){return e?t.when(e.useCapability("delegation","telemetry")).then(function(t){var n=e.hasCapability("telemetry")?[e]:[],r=t||[];return n.concat(r)}):t.when([])}function u(e){var t,n,i=e&&e.getCapability("telemetry");i?(t=e.getId(),m.subscriptions.push(a(i,t)),n=i.getMetadata(),
m.response[t]={name:e.getModel().name,domainObject:e,metadata:n,pending:0,data:{}}):(r.warn(["Expected telemetry capability for ",e.getId()," but none was found."].join("")),m.response[e.getId()]={name:e.getModel().name,domainObject:e,metadata:{},pending:0,data:{}})}function d(e){c(),e.forEach(u),m.telemetryObjects=e,m.ids=e.map(function(e){return e.getId()}),m.metadatas=m.ids.map(function(e){return m.response[e].metadata}),m.request&&s(!0)}function p(e){c(),l(e).then(d)}function f(){m.refreshing||void 0===m.interval||(m.refreshing=!0,n(function(){m.request&&s(!1),m.refreshing=!1,m.active&&f()},m.interval))}function h(){c(),m.active=!1}var m={ids:[],response:{},request:{},pending:0,metadatas:[],interval:1e3,refreshing:!1,broadcasting:!1,subscriptions:[],telemetryObjects:[],active:!0};return e.$watch("domainObject",p),e.$on("$destroy",h),f(),{getMetadata:function(){return m.metadatas},getTelemetryObjects:function(){return m.telemetryObjects},getResponse:function g(e){var t=e&&("string"==typeof e?e:e.getId());return t?(m.response[t]||{}).data:(m.ids||[]).map(g)},isRequestPending:function(){return m.pending>0},requestData:function(e){return m.request=e||{},s(!0)},setRefreshInterval:function(e){m.interval=e,f()}}}return e}),define("platform/telemetry/src/TelemetryCapability",[],function(){function e(e,t,n,r){this.initializeTelemetryService=function(){try{return this.telemetryService=e.get("telemetryService")}catch(t){return n.warn("Telemetry service unavailable"),this.telemetryService=null}},this.$q=t,this.$log=n,this.domainObject=r}var t=function(){return 0},n={getPointCount:t,getDomainValue:t,getRangeValue:t};return e.prototype.buildRequest=function(e){var t=this.domainObject,n=t.getCapability("type"),r=n&&n.getDefinition().telemetry||{},i=t.getModel().telemetry,o=Object.create(r);return Object.keys(i).forEach(function(e){o[e]=i[e]}),Object.keys(e).forEach(function(t){o[t]=e[t]}),o.id||(o.id=t.getId()),o.key||(o.key=t.getId()),o},e.prototype.requestData=function(e){function t(e){return((e||{})[o]||{})[s]||n}function r(){return a.requestTelemetry([i])}var i=this.buildRequest(e||{}),o=i.source,s=i.key,a=this.telemetryService||this.initializeTelemetryService();return a&&r().then(t)},e.prototype.getMetadata=function(){return this.metadata=this.metadata||this.buildRequest({})},e.prototype.subscribe=function(e,t){function n(t){var n=r.source,i=r.key,o=((t||{})[n]||{})[i];o&&e(o)}var r=this.buildRequest(t||{}),i=this.telemetryService||this.initializeTelemetryService();return i&&i.subscribe(n,[r])},e.appliesTo=function(e){return e&&e.telemetry?!0:!1},e}),define("platform/telemetry/src/TelemetryFormatter",[],function(){function e(e,t){this.formatService=e,this.defaultFormat=e.getFormat(t)}return e.prototype.formatDomainValue=function(e,t){var n=void 0===t?this.defaultFormat:this.formatService.getFormat(t);return isNaN(e)?"":n.format(e)},e.prototype.formatRangeValue=function(e,t){return String(e)},e}),define("platform/telemetry/src/TelemetryQueue",[],function(){function e(){this.queue=[],this.counts={}}return e.prototype.isEmpty=function(){return this.queue.length<1},e.prototype.poll=function(){function e(e){t[e]<2?delete t[e]:t[e]-=1}var t=this.counts;return Object.keys(t).forEach(e),this.queue.shift()},e.prototype.put=function(e,t){function n(e){var t,n=i[e]||0;return i[e]=n+1,n<r.length?r[n]:(t={},r.push(t),t)}var r=this.queue,i=this.counts;n(e)[e]=t},e}),define("platform/telemetry/src/TelemetryTable",[],function(){function e(){}return e.prototype.isEmpty=function(){return!this.table},e.prototype.poll=function(){var e=this.table;return this.table=void 0,e},e.prototype.put=function(e,t){this.table=this.table||{},this.table[e]=t},e}),define("platform/telemetry/src/TelemetryDelegator",[],function(){function e(e){this.$q=e}return e.prototype.promiseTelemetryObjects=function(e){var t=this.$q;return e?t.when(e.useCapability("delegation","telemetry")).then(function(t){var n=e.hasCapability("telemetry")?[e]:[],r=t||[];return n.concat(r)}):t.when([])},e}),define("platform/telemetry/src/TelemetrySubscription",["./TelemetryQueue","./TelemetryTable","./TelemetryDelegator"],function(e,t,n){function r(r,i,o,s,a){function c(e){return $.promiseTelemetryObjects(e)}function l(){var e=C.poll();Object.keys(e).forEach(function(t){S.latestValues[t]=e[t]})}function u(){for(;!C.isEmpty();)l(),s&&s();w=!1}function d(e){var t=e.getCapability("telemetry");return t&&t.getMetadata()}function p(e,t){var n=t&&t.getPointCount();!w&&n&&(w=!0,i(u,0)),n>0&&C.put(e.getId(),{domain:t.getDomainValue(n-1),range:t.getRangeValue(n-1),datum:S.makeDatum(e,t,n-1)})}function f(e){var t=e.getCapability("telemetry");return t.subscribe(function(t){p(e,t)})}function h(e){return e.map(f)}function m(e){return S.telemetryObjects=e,S.metadatas=e.map(d),S.metadataById={},e.forEach(function(e,t){S.metadataById[e.getId()]=S.metadatas[t]}),s&&s(),e}function g(){S.telemetryObjectPromise=c(o),S.unsubscribePromise=S.telemetryObjectPromise.then(m).then(h)}function y(e){return e.length===S.telemetryObjects.length&&e.every(function(e,t){return S.telemetryObjects[t].getId()===e})}function v(e){y((e||{}).composition||[])||S.unsubscribeAll().then(g)}function b(){var e=o&&o.getCapability("mutation");return e?e.listen(v):void 0}var w,S=this,$=new n(r),C=a?new e:new t;this.$q=r,this.latestValues={},this.telemetryObjects=[],this.metadatas=[],g(),this.unlistenToMutation=b()}return r.prototype.makeDatum=function(e,t,n){var r=e&&e.getId(),i=r&&this.metadataById[r]||{},o={};return(i.domains||[]).forEach(function(e){o[e.key]=t.getDomainValue(n,e.key)}),(i.ranges||[]).forEach(function(e){o[e.key]=t.getRangeValue(n,e.key)}),o},r.prototype.unsubscribeAll=function(){var e=this.$q;return this.unsubscribePromise.then(function(t){return e.all(t.map(function(e){return e()}))})},r.prototype.unsubscribe=function(){return this.unlistenToMutation&&this.unlistenToMutation(),this.unsubscribeAll()},r.prototype.getDomainValue=function(e,t){var n=e.getId(),r=this.latestValues[n];return r&&(t?r.datum[t]:r.domain)},r.prototype.getRangeValue=function(e,t){var n=e.getId(),r=this.latestValues[n];return r&&(t?r.datum[t]:r.range)},r.prototype.getDatum=function(e){var t=e.getId();return(this.latestValues[t]||{}).datum},r.prototype.getTelemetryObjects=function(){return this.telemetryObjects},r.prototype.getMetadata=function(){return this.metadatas},r.prototype.promiseTelemetryObjects=function(){return this.telemetryObjectPromise},r}),define("platform/telemetry/src/TelemetrySubscriber",["./TelemetrySubscription"],function(e){function t(e,t){this.$q=e,this.$timeout=t}return t.prototype.subscribe=function(t,n,r){return new e(this.$q,this.$timeout,t,n,r)},t}),define("platform/telemetry/src/TelemetryHandle",[],function(){function e(e,t){function n(e,t,n){function o(t){return r[s]=t,n&&i&&n(e,t),t}var s=e.getId(),a=e.getCapability("telemetry");return a.requestData(t).then(o)}var r={},i=!0,o=Object.create(t);return o.unsubscribe=function(){return i=!1,t.unsubscribe()},o.getSeries=function(e){var t=e.getId();return r[t]},o.request=function(r,i){function o(e){return n(e,r,i)}function s(t){return e.all(t.map(o))}return r="number"==typeof r?{duration:r}:r,t.promiseTelemetryObjects().then(s)},o.getDatum=function(e,n){function r(r){return r?t.makeDatum(e,r,n):void 0}return"number"!=typeof n?t.getDatum(e):r(this.getSeries(e))},o}return e}),define("platform/telemetry/src/TelemetryHandler",["./TelemetryHandle"],function(e){function t(e,t){this.$q=e,this.telemetrySubscriber=t}return t.prototype.handle=function(t,n,r){var i=this.telemetrySubscriber.subscribe(t,n,r);return new e(this.$q,i)},t}),define("platform/telemetry/bundle",["./src/TelemetryAggregator","./src/TelemetryController","./src/TelemetryCapability","./src/TelemetryFormatter","./src/TelemetrySubscriber","./src/TelemetryHandler","legacyRegistry"],function(e,t,n,r,i,o,s){s.register("platform/telemetry",{name:"Data bundle",description:"Interfaces and infrastructure for real-time and historical data",configuration:{paths:{moment:"moment.min"},shim:{moment:{exports:"moment"}}},extensions:{components:[{provides:"telemetryService",type:"aggregator",implementation:e,depends:["$q"]}],controllers:[{key:"TelemetryController",implementation:t,depends:["$scope","$q","$timeout","$log"]}],capabilities:[{key:"telemetry",implementation:n,depends:["$injector","$q","$log"]}],services:[{key:"telemetryFormatter",implementation:r,depends:["formatService","DEFAULT_TIME_FORMAT"]},{key:"telemetrySubscriber",implementation:i,depends:["$q","$timeout"]},{key:"telemetryHandler",implementation:o,depends:["$q","telemetrySubscriber"]}],licenses:[{name:"Moment.js",version:"2.11.1",author:"Tim Wood, Iskren Chernev, Moment.js contributors",description:"Time/date parsing/formatting",website:"http://momentjs.com",copyright:"Copyright (c) 2011-2014 Tim Wood, Iskren Chernev, Moment.js contributors",license:"license-mit",link:"https://raw.githubusercontent.com/moment/moment/develop/LICENSE"}]}})}),define("platform/features/clock/src/indicators/ClockIndicator",["moment"],function(e){function t(t,n){var r=this;this.text="",t.listen(function(t){r.text=e.utc(t).format(n)+" UTC"})}return t.prototype.getGlyphClass=function(){return"no-collapse float-right subdued"},t.prototype.getCssClass=function(){return"icon-clock"},t.prototype.getText=function(){return this.text},t.prototype.getDescription=function(){return""},t}),define("platform/features/clock/src/services/TickerService",[],function(){function e(e,t){function n(){var i=t(),o=i%1e3;i>=r.last+1e3&&(r.callbacks.forEach(function(e){e(i)}),r.last=i-o),e(n,1e3-o,!0)}var r=this;n(),this.callbacks=[],this.last=t()-1e3}return e.prototype.listen=function(e){var t=this;return t.callbacks.push(e),e(this.last),function(){t.callbacks=t.callbacks.filter(function(t){return t!==e})}},e}),define("platform/features/clock/src/controllers/ClockController",["moment"],function(e){function t(t,n){function r(){var t=e.utc(s);l.textValue=c&&t.format(c),l.ampmValue=t.format("A")}function i(e){s=e,r()}function o(e){var t;void 0!==e&&(t=e[0],l.use24="clock24"===e[1],c=l.use24?t.replace("hh","HH"):t,r())}var s,a,c,l=this;t.$watch("model.clockFormat",o),a=n.listen(i),t.$on("$destroy",a)}return t.prototype.zone=function(){return"UTC"},t.prototype.text=function(){return this.textValue},t.prototype.ampm=function(){return this.use24?"":this.ampmValue},t}),function(e){define("moment-duration-format",["moment"],function(){return function(){!function(e,t){function n(e){var t="";if(e=parseInt(e,10),!e||1>e)return t;for(;e;)t+="0",e-=1;return t}function r(e,t,r){return null==e&&(e=""),e=""+e,(r?e:"")+n(t-e.length)+(r?"":e)}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function a(e,t){var n,r=0,i=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});i>r;){if(t(e[r]))return e[r];r+=1}}function c(e,t){var n=0,r=e.length;if(e&&r)for(;r>n;){if(t(e[n],n)===!1)return;n+=1}}function l(e,t){var n=0,r=e.length,i=[];if(!e||!r)return i;for(;r>n;)i[n]=t(e[n],n),n+=1;return i}function u(e,t){return l(e,function(e){return e[t]})}function d(e){var t=[];return c(e,function(e){e&&t.push(e)}),t}function p(e){var t=[];return c(e,function(e){a(t,e)||t.push(e)}),t}function f(e,t){var n=[];return c(e,function(e){c(t,function(t){e===t&&n.push(e)})}),p(n)}function h(e,t){var n=[];return c(e,function(r,i){return t(r)?void 0:(n=e.slice(i),!1)}),n}function m(e,t){var n=e.slice().reverse();return h(n,t).reverse()}function g(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var y;if("function"==typeof require)try{y=require("moment")}catch(v){}if(!y&&e.moment&&(y=e.moment),!y)throw"Moment Duration Format cannot find Moment.js";y.duration.fn.format=function(){var e,t,s,v,b,w,S=[].slice.call(arguments),$=g({},this.format.defaults),C=y.duration(this);return $.duration=this,c(S,function(e){return"string"==typeof e||"function"==typeof e?void($.template=e):"number"==typeof e?void($.precision=e):void(o(e)&&g($,e))}),s=$.types=i($.types)?$.types:$.types.split(" "),"function"==typeof $.template&&($.template=$.template.apply($)),e=new RegExp(l(s,function(e){return $[e].source}).join("|"),"g"),v=function(e){return a(s,function(t){return $[t].test(e)})},t=l($.template.match(e),function(e,t){var n=v(e),r=e.length;return{index:t,length:r,token:"escape"===n?e.replace($.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),b=f(s,p(d(u(t,"type")))),b.length?(c(b,function(e,n){var r,i,o,s,a;r=C.as(e),i=r>0?Math.floor(r):Math.ceil(r),o=r-i,s=n+1===b.length,a=!n,c(t,function(t){t.type===e&&(g(t,{value:r,wholeValue:i,decimalValue:o,isLeast:s,isMost:a}),a&&null==$.forceLength&&t.length>1&&($.forceLength=!0))}),C.subtract(i,e)}),$.trim&&(t=("left"===$.trim?h:m)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),w=!1,"right"===$.trim&&t.reverse(),t=l(t,function(e){var t,i;if(!e.type)return e.token;if(t=e.isLeast&&$.precision<0?(Math.floor(e.wholeValue*Math.pow(10,$.precision))*Math.pow(10,-$.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(w||e.isMost||$.forceLength)&&(t=r(t,e.length)),e.isLeast&&$.precision>0)switch(i=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),i.length){case 1:t+="."+r(i[0],$.precision,!0).slice(0,$.precision);break;case 2:t+="."+r(i[1],$.precision,!0).slice(0,$.precision);break;case 3:t+="."+r(n(+i[2]-1)+(i[0]||"0")+i[1],$.precision,!0).slice(0,$.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),w=!0,t}),"right"===$.trim&&t.reverse(),t.join("")):u(t,"token").join("")},y.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=s(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this)}.apply(e,arguments)})}(this),define("platform/features/clock/src/controllers/TimerFormatter",["moment","moment-duration-format"],function(e){function t(){}function n(e){return Math.abs(1e3*Math.floor(e/1e3))}var r="HH:mm:ss",i="d[D] HH:mm:ss";return t.prototype["short"]=function(t){return e.duration(n(t),"ms").format(r,{trim:!1})},t.prototype["long"]=function(t){return e.duration(n(t),"ms").format(i,{trim:!1})},t}),define("platform/features/clock/src/controllers/TimerController",["./TimerFormatter"],function(e){function t(e,t,r){function i(){var e=f-p;d&&!isNaN(e)?(m.textValue=d(e),m.signValue=0>e?"-":e>=1e3?"+":"",m.signCssClass=0>e?"icon-minus":e>=1e3?"icon-plus":""):(m.textValue="",m.signValue="",m.signCssClass="")}function o(e){d=n[e]||n["long"]}function s(e){p=e}function a(e){var t=e.getModel(),n=t.timestamp,r=t.timerFormat,a=e.getCapability("action"),c=void 0===n?"timer.start":"timer.restart";o(r),s(n),m.relevantAction=a&&a.getActions(c)[0],i()}function c(e){e&&a(e)}function l(){c(e.domainObject)}function u(){var n=m.signValue,o=m.textValue;f=r(),i(),(n!==m.signValue||o!==m.textValue)&&e.$apply(),h&&t.requestAnimationFrame(u)}var d,p,f,h=!0,m=this;t.requestAnimationFrame(u),e.$watch("domainObject",c),e.$watch("model.modified",l),e.$on("$destroy",function(){h=!1}),this.$scope=e,this.signValue="",this.textValue="",this.updateObject=a}var n=new e;return t.prototype.buttonCssClass=function(){return this.relevantAction?this.relevantAction.getMetadata().cssclass:""},t.prototype.buttonText=function(){return this.relevantAction?this.relevantAction.getMetadata().name:""},t.prototype.clickButton=function(){this.relevantAction&&(this.relevantAction.perform(),this.updateObject(this.$scope.domainObject))},t.prototype.sign=function(){return this.signValue},t.prototype.signClass=function(){return this.signCssClass},t.prototype.text=function(){return this.textValue},t}),define("platform/features/clock/src/controllers/RefreshingController",[],function(){function e(e,t){function n(){var t=e.domainObject&&e.domainObject.getCapability("persistence");return t&&t.refresh()}var r;r=t.listen(n),e.$on("$destroy",r)}return e}),define("platform/features/clock/src/actions/AbstractStartTimerAction",[],function(){function e(e,t){this.domainObject=t.domainObject,this.now=e}return e.prototype.perform=function(){function e(){var e=n.getCapability("persistence");return e&&e.persist()}function t(e){e.timestamp=r()}var n=this.domainObject,r=this.now;return n.useCapability("mutation",t).then(e)},e}),define("platform/features/clock/src/actions/StartTimerAction",["./AbstractStartTimerAction"],function(e){function t(t,n){e.apply(this,[t,n])}return t.prototype=Object.create(e.prototype),t.appliesTo=function(e){var t=e.domainObject&&e.domainObject.getModel()||{};return"timer"===t.type&&void 0===t.timestamp},t}),define("platform/features/clock/src/actions/RestartTimerAction",["./AbstractStartTimerAction"],function(e){function t(t,n){e.apply(this,[t,n])}return t.prototype=Object.create(e.prototype),t.appliesTo=function(e){var t=e.domainObject&&e.domainObject.getModel()||{};return"timer"===t.type&&void 0!==t.timestamp},t}),define("text!platform/features/clock/res/templates/clock.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="l-time-display l-digital l-clock s-clock" ng-controller="ClockController as clock">\r\n	<div class="l-elem-wrapper">\r\n	    <span class="l-elem timezone">\r\n	        {{clock.zone()}}\r\n	    </span>\r\n	    <span class="l-elem value active">\r\n	        {{clock.text()}}\r\n	    </span>\r\n	    <span class="l-elem ampm">\r\n	        {{clock.ampm()}}\r\n	    </span>\r\n	</div>\r\n</div>'}),define("text!platform/features/clock/res/templates/timer.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="l-time-display l-digital l-timer s-timer" ng-controller="TimerController as timer">\r\n	<div class="l-elem-wrapper l-flex-row">\r\n		<a ng-click="timer.clickButton()"\r\n			title="{{timer.buttonText()}}"\r\n			class="flex-elem control s-icon-button {{timer.buttonCssClass()}}"></a>\r\n	    <span class="flex-elem l-value {{timer.signClass()}}">\r\n	        <span class="value"\r\n		        ng-class="{ active:timer.text() }">{{timer.text() || "--:--:--"}}\r\n            </span>\r\n	    </span>\r\n	    <span ng-controller="RefreshingController"></span>\r\n	</div>\r\n</div>'}),define("platform/features/clock/bundle",["./src/indicators/ClockIndicator","./src/services/TickerService","./src/controllers/ClockController","./src/controllers/TimerController","./src/controllers/RefreshingController","./src/actions/StartTimerAction","./src/actions/RestartTimerAction","text!./res/templates/clock.html","text!./res/templates/timer.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l){l.register("platform/features/clock",{name:"Clocks/Timers",descriptions:"Domain objects for displaying current & relative times.",configuration:{paths:{"moment-duration-format":"moment-duration-format"},shim:{"moment-duration-format":{deps:["moment"]}}},extensions:{constants:[{key:"CLOCK_INDICATOR_FORMAT",value:"YYYY/MM/DD HH:mm:ss"}],indicators:[{implementation:e,depends:["tickerService","CLOCK_INDICATOR_FORMAT"],priority:"preferred"}],services:[{key:"tickerService",implementation:t,depends:["$timeout","now"]}],controllers:[{key:"ClockController",implementation:n,depends:["$scope","tickerService"]},{key:"TimerController",implementation:r,depends:["$scope","$window","now"]},{key:"RefreshingController",implementation:i,depends:["$scope","tickerService"]}],views:[{key:"clock",type:"clock",editable:!1,template:a},{key:"timer",type:"timer",editable:!1,template:c}],actions:[{key:"timer.start",implementation:o,depends:["now"],category:"contextual",name:"Start",cssclass:"icon-play",priority:"preferred"},{key:"timer.restart",implementation:s,depends:["now"],category:"contextual",name:"Restart at 0",cssclass:"icon-refresh",priority:"preferred"}],types:[{key:"clock",name:"Clock",cssclass:"icon-clock",description:"A UTC-based clock that supports a variety of display formats. Clocks can be added to Display Layouts.",priority:101,features:["creation"],properties:[{key:"clockFormat",name:"Display Format",control:"composite",items:[{control:"select",options:[{value:"YYYY/MM/DD hh:mm:ss",name:"YYYY/MM/DD hh:mm:ss"},{value:"YYYY/DDD hh:mm:ss",name:"YYYY/DDD hh:mm:ss"},{value:"hh:mm:ss",name:"hh:mm:ss"}],cssclass:"l-inline"},{control:"select",options:[{value:"clock12",name:"12hr"},{value:"clock24",name:"24hr"}],cssclass:"l-inline"}]}],model:{clockFormat:["YYYY/MM/DD hh:mm:ss","clock12"]}},{key:"timer",name:"Timer",cssclass:"icon-timer",description:"A timer that counts up or down to a datetime. Timers can be started, stopped and reset whenever needed, and support a variety of display formats. Each Timer displays the same value to all users. Timers can be added to Display Layouts.",priority:100,features:["creation"],properties:[{key:"timestamp",control:"datetime",name:"Target"},{key:"timerFormat",control:"select",name:"Display Format",options:[{value:"long",name:"DDD hh:mm:ss"},{value:"short",name:"hh:mm:ss"}]}],model:{timerFormat:"DDD hh:mm:ss"}}],licenses:[{name:"moment-duration-format",version:"1.3.0",author:"John Madhavan-Reese",description:"Duration parsing/formatting",website:"https://github.com/jsmreese/moment-duration-format",copyright:"Copyright 2014 John Madhavan-Reese",license:"license-mit",link:"https://github.com/jsmreese/moment-duration-format/blob/master/LICENSE"}]}})}),define("text!platform/features/layout/res/templates/fixed.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="t-fixed-position l-fixed-position"\r\n     ng-controller="FixedController as controller">\r\n\r\n    <!-- Background grid -->\r\n    <div class="l-grid-holder" ng-click="controller.clearSelection()">\r\n        <div class="l-grid l-grid-x"\r\n             ng-style="{ \'background-size\': controller.getGridSize() [0] + \'px 100%\' }"></div>\r\n        <div class="l-grid l-grid-y"\r\n             ng-style="{ \'background-size\': \'100% \' + controller.getGridSize() [1] + \'px\' }"></div>\r\n    </div>\r\n\r\n    <!-- Fixed position elements -->\r\n    <div ng-repeat="element in controller.getElements()"\r\n         class="l-fixed-position-item"\r\n         ng-class="{ \'s-not-selected\': controller.selected() && !controller.selected(element) }"\r\n         ng-style="element.style"\r\n         ng-click="controller.select(element)">\r\n        <mct-include key="element.template"\r\n                     parameters="{ gridSize: controller.getGridSize() }"\r\n                     ng-model="element">\r\n        </mct-include>\r\n    </div>\r\n\r\n    <!-- Selection highlight, handles -->\r\n    <span ng-if="controller.selected()">\r\n        <div class="l-fixed-position-item s-selected"\r\n             mct-drag-down="controller.moveHandle().startDrag(controller.selected())"\r\n             mct-drag="controller.moveHandle().continueDrag(delta)"\r\n             mct-drag-up="controller.moveHandle().endDrag()"\r\n             ng-style="controller.selected().style">\r\n        </div>\r\n        <div ng-repeat="handle in controller.handles()"\r\n             class="l-fixed-position-item-handle"\r\n             ng-style="handle.style()"\r\n             mct-drag-down="handle.startDrag()"\r\n             mct-drag="handle.continueDrag(delta)"\r\n             mct-drag-up="handle.endDrag()">\r\n        </div>\r\n    </span>\r\n\r\n</div>\r\n'}),define("platform/features/fixed/bundle",["text!../layout/res/templates/fixed.html","legacyRegistry"],function(e,t){t.register("platform/features/fixed",{name:"Fixed position components.",description:"Plug in adding Fixed Position object type.",extensions:{views:[{key:"fixed-display",name:"Fixed Position Display",cssclass:"icon-box-with-dashed-lines",type:"telemetry.fixed",template:e,uses:["composition"],editable:!0,toolbar:{sections:[{items:[{method:"add",cssclass:"icon-plus",control:"menu-button",text:"Add",options:[{name:"Box",cssclass:"icon-box",key:"fixed.box"},{name:"Line",cssclass:"icon-line-horz",key:"fixed.line"},{name:"Text",cssclass:"icon-T",key:"fixed.text"},{name:"Image",cssclass:"icon-image",key:"fixed.image"}]}]},{items:[{method:"order",cssclass:"icon-layers",control:"menu-button",title:"Layering",description:"Move the selected object above or below other objects",options:[{name:"Move to Top",cssclass:"icon-arrow-double-up",key:"top"},{name:"Move Up",cssclass:"icon-arrow-up",key:"up"},{name:"Move Down",cssclass:"icon-arrow-down",key:"down"},{name:"Move to Bottom",cssclass:"icon-arrow-double-down",key:"bottom"}]},{property:"fill",cssclass:"icon-paint-bucket",title:"Fill color",description:"Set fill color",control:"color"},{property:"stroke",cssclass:"icon-line-horz",title:"Border color",description:"Set border color",control:"color"},{property:"color",cssclass:"icon-T",title:"Text color",description:"Set text color",mandatory:!0,control:"color"},{property:"url",cssclass:"icon-image",control:"dialog-button",title:"Image Properties",description:"Edit image properties",dialog:{control:"textfield",name:"Image URL",required:!0}},{property:"text",cssclass:"icon-gear",control:"dialog-button",title:"Text Properties",description:"Edit text properties",dialog:{control:"textfield",name:"Text",required:!0}},{method:"showTitle",cssclass:"icon-two-parts-both",control:"button",title:"Show title",description:"Show telemetry element title"},{method:"hideTitle",cssclass:"icon-two-parts-one-only",control:"button",title:"Hide title",description:"Hide telemetry element title"}]},{items:[{method:"remove",control:"button",cssclass:"icon-trash"}]}]}}],types:[{key:"telemetry.fixed",name:"Fixed Position Display",cssclass:"icon-box-with-dashed-lines",description:"Collect and display telemetry elements in alphanumeric format in a simple canvas workspace. Elements can be positioned and sized. Lines, boxes and images can be added as well.",priority:899,delegates:["telemetry"],features:"creation",contains:[{has:"telemetry"}],model:{composition:[]},properties:[{name:"Layout Grid",control:"composite",items:[{name:"Horizontal grid (px)",control:"textfield",cssclass:"l-small l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssclass:"l-small l-numeric"}],pattern:"^(\\d*[1-9]\\d*)?$",property:"layoutGrid",conversion:"number[]"}],views:["fixed-display"]}]}})}),define("platform/features/imagery/src/policies/ImageryViewPolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},r=n.ranges||[];return r.some(function(e){return"imageUrl"===e.format||"image"===e.format})}return e.prototype.allow=function(e,n){return"imagery"===e.key?t(n):!0},e}),define("platform/features/imagery/src/controllers/ImageryController",["moment"],function(e){function t(e,t){function n(){o.handle&&(o.handle.unsubscribe(),o.handle=void 0)}function r(){return o.updateValues()}function i(e){n(),o.date="",o.time="",o.zone="",o.imageUrl="",o.handle=e&&t.handle(e,r,!0)}var o=this;e.$watch("domainObject",i),e.$on("$destroy",n)}var n="YYYY-MM-DD",r="HH:mm:ss.SSS";return t.prototype.updateValues=function(){var t,i,o=this.handle&&this.handle.getTelemetryObjects()[0];o&&!this.isPaused&&(t=this.handle.getDomainValue(o),i=void 0!==t?e.utc(t):void 0,this.date=i?i.format(n):"",this.time=i?i.format(r):"",this.zone=i?"UTC":"",this.imageUrl=this.handle.getRangeValue(o))},t.prototype.getTime=function(){return this.time},t.prototype.getDate=function(){return this.date},t.prototype.getZone=function(){return this.zone},t.prototype.getImageUrl=function(){return this.imageUrl},t.prototype.paused=function(e){return arguments.length>0&&e!==this.isPaused&&(this.isPaused=e,this.updateValues()),this.isPaused},t}),define("platform/features/imagery/src/directives/MCTBackgroundImage",[],function(){function e(e){function t(t,n){function r(t){function r(){a>=o&&(o=a,n.css("background-image","url('"+t+"')"))}var s,a=i;t?(s=e[0].createElement("img"),s.src=t,s.onload=r):(o=a,n.css("background-image","none")),i+=1}var i=0,o=0;t.$watch("mctBackgroundImage",r)}return{restrict:"A",scope:{mctBackgroundImage:"="},link:t}}return e}),define("text!platform/features/imagery/res/templates/imagery.html",[],function(){return'<div class="t-imagery" ng-controller="ImageryController as imagery">\r\n    <div class="l-image-main-wrapper l-flex-col"\r\n        ng-mouseenter="showLocalControls = true;"\r\n        ng-mouseleave="showLocalControls = false;">\r\n        <div\r\n            class="l-local-controls s-local-controls"\r\n            ng-show="false && showLocalControls">\r\n            <a class="s-button icon-arrow-left"\r\n               ng-click="plot.stepBackPanZoom()"\r\n               ng-show="1"\r\n               title="Restore previous pan/zoom">\r\n            </a>\r\n\r\n            <a class="s-button icon-arrows-out"\r\n               ng-click="plot.unzoom()"\r\n               ng-show="1"\r\n               title="Reset pan/zoom">\r\n            </a>\r\n        </div>\r\n\r\n        <div class="l-image-main s-image-main flex-elem grows"\r\n            ng-class="{ paused: imagery.paused(), stale:false }"\r\n            mct-background-image="imagery.getImageUrl()">\r\n        </div>\r\n\r\n        <div class="l-image-main-controlbar flex-elem l-flex-row">\r\n            <div class="left flex-elem grows">\r\n                <a class="s-button show-thumbs sm hidden icon-thumbs-strip"\r\n                    ng-click="showThumbsBubble = (showThumbsBubble)? false:true"></a>\r\n                <span class="l-timezone">{{imagery.getZone()}}</span>\r\n                <span class="l-time">{{imagery.getTime()}}</span>\r\n                <span class="l-date">{{imagery.getDate()}}</span>\r\n            </div>\r\n            <div class="right flex-elem">\r\n                <a class="s-button pause-play"\r\n                    ng-click="imagery.paused(!imagery.paused())"\r\n                    ng-class="{ paused: imagery.paused() }"></a>\r\n                <a href="{{imagery.getImageUrl()}}"\r\n                   ng-if="imagery.getImageUrl()"\r\n                   target="_blank"\r\n                   title="Open image in new tab."\r\n                   class="s-button icon-new-window">\r\n                   </a>\r\n                <a href=""\r\n                    class="s-button l-mag s-mag ui-symbol vsm icon-arrows-out"\r\n                    ng-click="clipped = false"\r\n                    ng-show="clipped === true"\r\n                    title="Not all of image is visible; click to reset."></a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n';
}),define("platform/features/imagery/bundle",["./src/policies/ImageryViewPolicy","./src/controllers/ImageryController","./src/directives/MCTBackgroundImage","text!./res/templates/imagery.html","legacyRegistry"],function(e,t,n,r,i){i.register("platform/features/imagery",{name:"Plot view for telemetry",extensions:{views:[{name:"Imagery",key:"imagery",cssclass:"icon-image",template:r,priority:"preferred",needs:["telemetry"],editable:!1}],policies:[{category:"view",implementation:e}],controllers:[{key:"ImageryController",implementation:t,depends:["$scope","telemetryHandler"]}],directives:[{key:"mctBackgroundImage",implementation:n,depends:["$document"]}]}})}),define("platform/features/layout/src/LayoutDrag",[],function(){function e(e,t,n,r){this.rawPosition=e,this.posFactor=t,this.dimFactor=n,this.gridSize=r}function t(e,t){return t.map(function(t,n){return Math.round(t/e[n])})}function n(e,t){return e.map(function(e,n){return e*t[n]})}function r(e,t){return e.map(function(e,n){return e+t[n]})}function i(e,t){return e.map(function(e,n){return Math.max(e,t[n])})}return e.prototype.getAdjustedPosition=function(e){var o=t(this.gridSize,e);return{position:i(r(this.rawPosition.position,n(o,this.posFactor)),[0,0]),dimensions:i(r(this.rawPosition.dimensions,n(o,this.dimFactor)),[1,1])}},e}),define("platform/features/layout/src/LayoutController",["./LayoutDrag"],function(e){function t(e){function t(e){var t=o.gridSize;o.gridSize=e||i,(o.gridSize[0]!==t[0]||o.gridSize[1]!==t[1])&&o.layoutPanels(Object.keys(o.positions))}function n(t,n,r){t.defaultPrevented||(e.configuration=e.configuration||{},e.configuration.panels=e.configuration.panels||{},e.configuration.panels[n]={position:[Math.floor(r.x/o.gridSize[0]),Math.floor(r.y/o.gridSize[1])],dimensions:o.defaultDimensions()},e.commit&&e.commit("Dropped a frame."),o.rawPositions[n]=e.configuration.panels[n],o.populatePosition(n),t.preventDefault())}function r(){var t=++s;e.domainObject.useCapability("composition").then(function(n){var r;t===s&&(r=n.map(function(e){return e.getId()})||[],e.composition=n,o.layoutPanels(r))})}var o=this,s=0;this.endDragInScope=function(){e.configuration=e.configuration||{},e.configuration.panels=e.configuration.panels||{},e.configuration.panels[o.activeDragId]=o.rawPositions[o.activeDragId],e.commit&&e.commit("Moved frame.")},this.positions={},this.rawPositions={},this.gridSize=i,this.$scope=e,e.$watch("model.layoutGrid",t),e.$watchCollection("model.composition",r),e.$on("mctDrop",n)}function n(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n}var r=[12,8],i=[32,32],o=[320,180];return t.prototype.convertPosition=function(e){var t=this.gridSize;return{left:t[0]*e.position[0]+"px",top:t[1]*e.position[1]+"px",width:t[0]*e.dimensions[0]+"px",height:t[1]*e.dimensions[1]+"px"}},t.prototype.defaultDimensions=function(){var e=this.gridSize;return o.map(function(t,n){return Math.max(Math.ceil(t/e[n]),r[n])})},t.prototype.defaultPosition=function(e){return{position:[e,e],dimensions:this.defaultDimensions()}},t.prototype.populatePosition=function(e,t){this.rawPositions[e]=this.rawPositions[e]||this.defaultPosition(t||0),this.positions[e]=this.convertPosition(this.rawPositions[e])},t.prototype.getFrameStyle=function(e){return this.positions[e]},t.prototype.startDrag=function(t,n,r){this.activeDragId=t,this.activeDrag=new e(this.rawPositions[t],n,r,this.gridSize)},t.prototype.continueDrag=function(e){this.activeDrag&&(this.rawPositions[this.activeDragId]=this.activeDrag.getAdjustedPosition(e),this.populatePosition(this.activeDragId))},t.prototype.layoutPanels=function(e){var t=this.$scope.configuration||{},r=this;this.rawPositions=n(t.panels||{},e),this.positions={},this.gridSize=(this.$scope.model||{}).layoutGrid||i,e.forEach(function(e,t){r.populatePosition(e,t)})},t.prototype.endDrag=function(){this.endDragInScope()},t}),define("platform/features/layout/src/elements/ElementFactory",[],function(){function e(e){this.dialogService=e}var t={"fixed.image":{stroke:"transparent"},"fixed.box":{fill:"#717171",border:"transparent",stroke:"transparent"},"fixed.line":{x:5,y:9,x2:6,y2:6,stroke:"#717171"},"fixed.text":{fill:"transparent",stroke:"transparent"}},n={"fixed.image":{name:"Image Properties",sections:[{rows:[{key:"url",control:"textfield",name:"Image URL",required:!0}]}]},"fixed.text":{name:"Text Element Properties",sections:[{rows:[{key:"text",control:"textfield",name:"Text",required:!0}]}]}};return e.prototype.createElement=function(e){var r=t[e]||{};return r=JSON.parse(JSON.stringify(r)),n[e]?this.dialogService.getUserInput(n[e],r):r},e}),define("platform/features/layout/src/FixedProxy",["./elements/ElementFactory"],function(e){function t(t,n,r){this.factory=new e(r),this.$q=n,this.addElementCallback=t}return t.prototype.add=function(e){function t(t){t.x=t.x||0,t.y=t.y||0,t.width=t.width||1,t.height=t.height||1,t.type=e,n(t)}var n=this.addElementCallback;this.$q.when(this.factory.createElement(e)).then(t)},t}),define("platform/features/layout/src/elements/AccessorMutator",[],function(){function e(e,t,n){return function(r){return arguments.length>0&&(e[t]=n?n(r,e[t]):r),e[t]}}return e}),define("platform/features/layout/src/elements/ResizeHandle",[],function(){function e(e,t,n){this.element=e,this.minWidth=t||0,this.minHeight=n||0}return e.prototype.x=function(e){var t=this.element;return arguments.length>0&&(t.width=Math.max(this.minWidth,e-t.x)),t.x+t.width},e.prototype.y=function(e){var t=this.element;return arguments.length>0&&(t.height=Math.max(this.minHeight,e-t.y)),t.y+t.height},e}),define("platform/features/layout/src/elements/ElementProxy",["./AccessorMutator","./ResizeHandle"],function(e,t){function n(e){return Math.max(e,0)}function r(r,i,o){this.resizeHandles=[new t(r,1,1)],this.element=r,this.x=new e(r,"x",n),this.y=new e(r,"y",n),this.stroke=new e(r,"stroke"),this.width=new e(r,"width"),this.height=new e(r,"height"),this.index=i,this.elements=o}var i={top:Number.POSITIVE_INFINITY,up:1,down:-1,bottom:Number.NEGATIVE_INFINITY};return r.prototype.order=function(e){var t=this.index,n=this.elements,r=this.element,o=i[e]||0,s=Math.max(Math.min(t+o,n.length-1),0);s!==t&&n[t]===r&&(n.splice(t,1),n.splice(s,0,r),this.index=s)},r.prototype.remove=function(){var e=this.index;this.elements[e]===this.element&&this.elements.splice(e,1)},r.prototype.handles=function(){return this.resizeHandles},r}),define("platform/features/layout/src/elements/BoxProxy",["./ElementProxy","./AccessorMutator"],function(e,t){function n(n,r,i){var o=new e(n,r,i);return o.fill=new t(n,"fill"),o}return n}),define("platform/features/layout/src/elements/TextProxy",["./BoxProxy","./AccessorMutator"],function(e,t){function n(n,r,i){var o=new e(n,r,i);return o.color=new t(n,"color"),o.text=new t(n,"text"),o}return n}),define("platform/features/layout/src/elements/TelemetryProxy",["./TextProxy"],function(e){function t(t,i,o){function s(){t.titled=!t.titled,delete a[r],delete a[n],a[t.titled?n:r]=s}var a=new e(t,i,o);return a.id=t.id,a[t.titled?n:r]=s,delete a.text,a}var n="hideTitle",r="showTitle";return t}),define("platform/features/layout/src/elements/ImageProxy",["./ElementProxy","./AccessorMutator"],function(e,t){function n(n,r,i){var o=new e(n,r,i);return o.url=new t(n,"url"),o}return n}),define("platform/features/layout/src/elements/LineHandle",[],function(){function e(e,t,n,r,i){this.element=e,this.xProperty=t,this.yProperty=n,this.xOther=r,this.yOther=i}return e.prototype.x=function(e){var t=this.element,n=this.xProperty,r=this.yProperty,i=this.xOther,o=this.yOther;return arguments.length>0&&(e=Math.max(e,0),(t[o]!==t[r]||t[i]!==e)&&(t[n]=e)),t[n]},e.prototype.y=function(e){var t=this.element,n=this.xProperty,r=this.yProperty,i=this.xOther,o=this.yOther;return arguments.length>0&&(e=Math.max(e,0),(t[i]!==t[n]||t[o]!==e)&&(t[r]=e)),t[r]},e}),define("platform/features/layout/src/elements/LineProxy",["./ElementProxy","./LineHandle"],function(e,t){function n(n,r,i){var o=new e(n,r,i),s=[new t(n,"x","y","x2","y2"),new t(n,"x2","y2","x","y")];return o.x=function(e){var t=Math.min(n.x,n.x2),r=Math.max(e,0)-t;return arguments.length>0&&r&&(n.x+=r,n.x2+=r),t},o.y=function(e){var t=Math.min(n.y,n.y2),r=Math.max(e,0)-t;return arguments.length>0&&r&&(n.y+=r,n.y2+=r),t},o.width=function(){return Math.max(Math.abs(n.x-n.x2),1)},o.height=function(){return Math.max(Math.abs(n.y-n.y2),1)},o.x1=function(){return n.x-o.x()},o.y1=function(){return n.y-o.y()},o.x2=function(){return n.x2-o.x()},o.y2=function(){return n.y2-o.y()},o.handles=function(){return s},o}return n}),define("platform/features/layout/src/elements/ElementProxies",["./TelemetryProxy","./ImageProxy","./LineProxy","./BoxProxy","./TextProxy"],function(e,t,n,r,i){return{"fixed.telemetry":e,"fixed.line":n,"fixed.box":r,"fixed.image":t,"fixed.text":i}}),define("platform/features/layout/src/FixedDragHandle",[],function(){function e(e,t,n,r){this.elementHandle=e,this.gridSize=t,this.update=n,this.commit=r}var t=[6,6];return e.prototype.style=function(){var e=this.elementHandle.x()*this.gridSize[0],n=this.elementHandle.y()*this.gridSize[1];return{left:e-t[0]/2+"px",top:n-t[1]/2+"px",width:t[0]+"px",height:t[1]+"px"}},e.prototype.startDrag=function(){this.dragging={x:this.elementHandle.x(),y:this.elementHandle.y()}},e.prototype.continueDrag=function(e){this.dragging&&(this.elementHandle.x(this.dragging.x+Math.round(e[0]/this.gridSize[0])),this.elementHandle.y(this.dragging.y+Math.round(e[1]/this.gridSize[1])),this.update&&this.update())},e.prototype.endDrag=function(){this.dragging=void 0,this.commit&&this.commit("Dragged handle.")},e}),define("platform/features/layout/src/FixedController",["./FixedProxy","./elements/ElementProxies","./FixedDragHandle"],function(e,t,n){function r(r,s,a,c,l){function u(e){var t=A.gridSize;return{left:t[0]*e.x()+"px",top:t[1]*e.y()+"px",width:t[0]*e.width()+"px",height:t[1]*e.height()+"px"}}function d(){var e=A.selection&&A.selection.get();e&&(e.style=u(e))}function p(e){return new n(e,A.gridSize,d,r.commit)}function f(e){return e.handles().map(p)}function h(e,t,n){var r=e.getId();(E[r]||[]).forEach(function(i){I[r]=e.getModel().name,M[r]=l.formatRangeValue(t),i.name=I[r],i.value=M[r],i.cssClass=n&&n.cssClass})}function m(e,t){var n=t.getPointCount()-1,r=e&&e.getCapability("limit"),i=e&&k.getDatum(e,n);n>=0&&h(e,t.getRangeValue(n),r&&i&&r.evaluate(i))}function g(e){var t=e&&e.getCapability("limit"),n=e&&k.getDatum(e);e&&k.getDomainValue(e)<L&&h(e,k.getRangeValue(e),t&&n&&t.evaluate(n))}function y(e){A.gridSize=e||o,A.elementProxies.forEach(function(e){e.style=u(e)})}function v(){k&&k.getTelemetryObjects().forEach(g)}function b(e,n,r){var i=t[e.type],o=i&&new i(e,n,r);return o&&(o.style=u(o),o.template=e.type),o}function w(){var e=A.selection&&A.selection.get(),t=(r.configuration||{}).elements||[],n=-1;void 0!==e&&(n=t.indexOf(e.element)),A.elementProxies=t.map(b),A.selection&&(A.selection.deselect(),n>-1&&A.select(A.elementProxies[n])),E={},A.elementProxies.forEach(function(e){var t=e.id;"fixed.telemetry"===e.element.type&&(e.name=I[t],e.value=M[t],E[t]=E[t]||[],E[t].push(e))})}function S(){k&&(k.unsubscribe(),k=void 0)}function $(e){k&&k.unsubscribe(),k=e&&c.handle(e,v),k.request({size:1},m)}function C(){$(r.domainObject)}function x(e,t){L=t.end,k&&k.request({size:1},m)}function O(e){r.configuration=r.configuration||{},r.configuration.elements=r.configuration.elements||[],r.configuration.elements.push(e),w(),A.select(A.elementProxies[A.elementProxies.length-1]),r.commit&&r.commit("Dropped an element.")}function T(e,t,n){e.defaultPrevented||(e.preventDefault(),O({type:"fixed.telemetry",x:Math.floor(n.x/A.gridSize[0]),y:Math.floor(n.y/A.gridSize[1]),id:t,stroke:"transparent",color:"",titled:!0,width:i[0],height:i[1]}))}var k,A=this,I={},M={},E={},L=Number.POSITIVE_INFINITY;this.gridSize=o,this.elementProxies=[],this.generateDragHandle=p,this.generateDragHandles=f,r.$watch("selection",function(t){this.selection=t,this.selection&&this.selection.proxy(new e(O,s,a))}.bind(this)),r.$watch("model.modified",w),r.$watch("model.composition",C),r.$watch("model.layoutGrid",y),r.$watch("domainObject",$),r.$on("$destroy",S),r.$on("mctDrop",T),r.$on("telemetry:display:bounds",x)}var i=[2,1],o=[64,16];return r.prototype.getGridSize=function(){return this.gridSize},r.prototype.getElements=function(){return this.elementProxies},r.prototype.selected=function(e){var t=this.selection;return t&&(arguments.length>0?t.selected(e):t.get())},r.prototype.select=function(e){this.selection&&(this.selection.select(e),this.mvHandle=this.generateDragHandle(e),this.resizeHandles=this.generateDragHandles(e))},r.prototype.clearSelection=function(){this.selection&&(this.selection.deselect(),this.resizeHandles=[],this.mvHandle=void 0)},r.prototype.handles=function(){return this.resizeHandles},r.prototype.moveHandle=function(){return this.mvHandle},r}),define("platform/features/layout/src/LayoutCompositionPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){var n=e&&t&&e.instanceOf("layout")&&t.instanceOf("folder");return!n},e}),define("text!platform/features/layout/res/templates/layout.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="l-layout"\r\n     ng-controller="LayoutController as controller">\r\n\r\n    <div class=\'frame child-frame panel abs\'\r\n         ng-repeat="childObject in composition"\r\n         ng-style="controller.getFrameStyle(childObject.getId())">\r\n\r\n        <div class="frame child-frame holder contents abs">\r\n            <mct-representation key="\'frame\'"\r\n                                mct-object="childObject">\r\n            </mct-representation>\r\n        </div>\r\n        <!-- Drag handles -->\r\n        <span ng-show="domainObject.hasCapability(\'editor\')">\r\n\r\n            <span\r\n                class="edit-handle edit-move"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,1], [0,0])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            <!--\r\n            <span\r\n                class="edit-handle edit-resize-w"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,0], [-1,0])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            <span\r\n                class="edit-handle edit-resize-e"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [1,0])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n\r\n            <span\r\n                class="edit-handle edit-resize-n"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,1], [0,-1])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            <span\r\n                class="edit-handle edit-resize-s"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [0,1])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            -->\r\n\r\n            <span\r\n                class="edit-corner edit-resize-nw"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,1], [-1,-1])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            <span\r\n                class="edit-corner edit-resize-ne"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,1], [1,-1])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            <span\r\n                class="edit-corner edit-resize-sw"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [1,0], [-1,1])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n            <span\r\n                class="edit-corner edit-resize-se"\r\n                  mct-drag-down="controller.startDrag(childObject.getId(), [0,0], [1,1])"\r\n                  mct-drag="controller.continueDrag(delta)"\r\n                  mct-drag-up="controller.endDrag()">\r\n            </span>\r\n        </span>\r\n\r\n    </div>\r\n\r\n</div>'}),define("text!platform/features/layout/res/templates/frame.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="frame frame-template abs">\r\n    <div class="abs object-top-bar l-flex-row">\r\n        <div class="left flex-elem l-flex-row grows">\r\n            <mct-representation\r\n                key="\'object-header\'"\r\n                mct-object="domainObject"\r\n                class="l-flex-row flex-elem object-header grows">\r\n            </mct-representation>\r\n        </div>\r\n        <div class="btn-bar right l-flex-row flex-elem flex-justify-end flex-fixed">\r\n            <mct-representation key="\'switcher\'"\r\n                                ng-model="representation"\r\n                                mct-object="domainObject">\r\n            </mct-representation>\r\n        </div>\r\n    </div>\r\n    <div class="abs object-holder">\r\n        <mct-representation key="representation.selected.key"\r\n                            mct-object="representation.selected.key && domainObject">\r\n        </mct-representation>\r\n    </div>\r\n</div>'}),define("text!platform/features/layout/res/templates/elements/telemetry.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div\r\n    class="l-fixed-position-text l-telemetry"\r\n    ng-style="{ background: ngModel.fill(), \'border-color\': ngModel.stroke(), color: ngModel.color() }"\r\n    >\r\n    <span\r\n        class="l-elem l-value l-obj-val-format"\r\n        data-value="{{ngModel.value}}"\r\n        ng-class="ngModel.cssClass"\r\n        >\r\n        {{ngModel.value}}\r\n    </span>\r\n    <span\r\n        class="l-elem l-title"\r\n        ng-show="ngModel.element.titled"\r\n        >\r\n        {{ngModel.name}}\r\n    </span>\r\n</div>\r\n'}),define("text!platform/features/layout/res/templates/elements/box.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div\r\n	class="l-fixed-position-box"\r\n	ng-style="{ background: ngModel.fill(), border: \'1px \' + ngModel.stroke() + \' solid\' }"\r\n	>\r\n</div>'}),define("text!platform/features/layout/res/templates/elements/line.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<svg ng-attr-width="{{parameters.gridSize[0] * ngModel.width()}}"\r\n     ng-attr-height="{{parameters.gridSize[1] * ngModel.height()}}">\r\n    <line ng-attr-x1="{{parameters.gridSize[0] * ngModel.x1() + 1}}"\r\n          ng-attr-y1="{{parameters.gridSize[1] * ngModel.y1() + 1}}"\r\n          ng-attr-x2="{{parameters.gridSize[0] * ngModel.x2() + 1}}"\r\n          ng-attr-y2="{{parameters.gridSize[1] * ngModel.y2() + 1}}"\r\n          ng-attr-stroke="{{ngModel.stroke()}}"\r\n          stroke-width="2">\r\n    </line>\r\n</svg>'}),define("text!platform/features/layout/res/templates/elements/text.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div\r\n	class="l-fixed-position-text l-static-text"\r\n	ng-style="{ background: ngModel.fill(), \'border-color\': ngModel.stroke(), color: ngModel.color() }"\r\n	>\r\n    {{ngModel.element.text}}\r\n</div>'}),define("text!platform/features/layout/res/templates/elements/image.html",[],function(){return"<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n \"License\"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div\r\n	ng-style=\"{ 'background-image': 'url(' + ngModel.element.url + ')', border: '1px solid ' + ngModel.stroke() }\"\r\n    class=\"l-fixed-position-image\"\r\n	>\r\n</div>\r\n"}),define("platform/features/layout/bundle",["./src/LayoutController","./src/FixedController","./src/LayoutCompositionPolicy","text!./res/templates/layout.html","text!./res/templates/fixed.html","text!./res/templates/frame.html","text!./res/templates/elements/telemetry.html","text!./res/templates/elements/box.html","text!./res/templates/elements/line.html","text!./res/templates/elements/text.html","text!./res/templates/elements/image.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d){d.register("platform/features/layout",{name:"Layout components.",description:"Plug in adding Layout capabilities.",extensions:{views:[{key:"layout",name:"Display Layout",cssclass:"icon-layout",type:"layout",template:r,editable:!0,uses:[]},{key:"fixed",name:"Fixed Position",cssclass:"icon-box-with-dashed-lines",type:"telemetry.panel",template:i,uses:["composition"],toolbar:{sections:[{items:[{method:"add",cssclass:"icon-plus",control:"menu-button",text:"Add",title:"Add",description:"Add new items",options:[{name:"Box",cssclass:"icon-box",key:"fixed.box"},{name:"Line",cssclass:"icon-line-horz",key:"fixed.line"},{name:"Text",cssclass:"icon-T",key:"fixed.text"},{name:"Image",cssclass:"icon-image",key:"fixed.image"}]}]},{items:[{method:"order",cssclass:"icon-layers",control:"menu-button",title:"Layering",description:"Move the selected object above or below other objects",options:[{name:"Move to Top",cssclass:"icon-arrow-double-up",key:"top"},{name:"Move Up",cssclass:"icon-arrow-up",key:"up"},{name:"Move Down",cssclass:"icon-arrow-down",key:"down"},{name:"Move to Bottom",cssclass:"icon-arrow-double-down",key:"bottom"}]},{property:"fill",cssclass:"icon-paint-bucket",title:"Fill color",description:"Set fill color",control:"color"},{property:"stroke",cssclass:"icon-line-horz",title:"Border color",description:"Set border color",control:"color"},{property:"color",cssclass:"icon-T",title:"Text color",description:"Set text color",mandatory:!0,control:"color"},{property:"url",cssclass:"icon-image",control:"dialog-button",title:"Image Properties",description:"Edit image properties",dialog:{control:"textfield",name:"Image URL",required:!0}},{property:"text",cssclass:"icon-gear",control:"dialog-button",title:"Text Properties",description:"Edit text properties",dialog:{control:"textfield",name:"Text",required:!0}},{method:"showTitle",cssclass:"icon-two-parts-both",control:"button",title:"Show title",description:"Show telemetry element title"},{method:"hideTitle",cssclass:"icon-two-parts-one-only",control:"button",title:"Hide title",description:"Hide telemetry element title"}]},{items:[{method:"remove",control:"button",cssclass:"icon-trash",title:"Delete",description:"Delete the selected item"}]}]}}],representations:[{key:"frame",template:o}],controllers:[{key:"LayoutController",implementation:e,depends:["$scope"]},{key:"FixedController",implementation:t,depends:["$scope","$q","dialogService","telemetryHandler","telemetryFormatter","throttle"]}],templates:[{key:"fixed.telemetry",template:s},{key:"fixed.box",template:a},{key:"fixed.line",template:c},{key:"fixed.text",template:l},{key:"fixed.image",template:u}],policies:[{category:"composition",implementation:n}],types:[{key:"layout",name:"Display Layout",cssclass:"icon-layout",description:"Assemble other objects and components together into a reusable screen layout. Working in a simple canvas workspace, simply drag in the objects you want, position and size them. Save your design and view or edit it at any time.",priority:900,features:"creation",model:{composition:[]},properties:[{name:"Layout Grid",control:"composite",pattern:"^(\\d*[1-9]\\d*)?$",items:[{name:"Horizontal grid (px)",control:"textfield",cssclass:"l-input-sm l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssclass:"l-input-sm l-numeric"}],key:"layoutGrid",conversion:"number[]"}]},{key:"telemetry.panel",name:"Telemetry Panel",cssclass:"icon-telemetry-panel",description:"A panel for collecting telemetry elements.",priority:899,delegates:["telemetry"],features:"creation",contains:[{has:"telemetry"}],model:{composition:[]},properties:[{name:"Layout Grid",control:"composite",items:[{name:"Horizontal grid (px)",control:"textfield",cssclass:"l-small l-numeric"},{name:"Vertical grid (px)",control:"textfield",cssclass:"l-small l-numeric"}],pattern:"^(\\d*[1-9]\\d*)?$",property:"layoutGrid",conversion:"number[]"}]}]}})}),define("platform/features/pages/src/EmbeddedPageController",[],function(){function e(e){this.$sce=e}return e.prototype.trust=function(e){return this.$sce.trustAsResourceUrl(e)},e}),define("text!platform/features/pages/res/iframe.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="l-iframe abs">\r\n<iframe ng-controller="EmbeddedPageController as ctl"\r\n        ng-src="{{ctl.trust(model.url)}}">\r\n</iframe>\r\n</div>';
}),define("platform/features/pages/bundle",["./src/EmbeddedPageController","text!./res/iframe.html","legacyRegistry"],function(e,t,n){n.register("platform/features/pages",{extensions:{types:[{key:"example.page",name:"Web Page",cssclass:"icon-page",description:"Embed a web page or web-based image in a resizeable window component. Can be added to Display Layouts. Note that the URL being embedded must allow iframing.",priority:50,features:["creation"],properties:[{key:"url",name:"URL",control:"textfield",pattern:"^(ftp|https?)\\:\\/\\/\\w+(\\.\\w+)*(\\:\\d+)?(\\/\\S*)*$",required:!0,cssclass:"l-input-lg"}]}],views:[{template:t,name:"Page",type:"example.page",key:"example.page",editable:!1}],controllers:[{key:"EmbeddedPageController",implementation:e,depends:["$sce"]}]}})}),define("platform/features/plot/src/GLChart",[],function(){function e(e){var r,i,o,s,a,c,l,u=e.getContext("webgl")||e.getContext("experimental-webgl");if(!u)throw new Error("WebGL unavailable.");r=u.createShader(u.VERTEX_SHADER),u.shaderSource(r,n),u.compileShader(r),i=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(i,t),u.compileShader(i),o=u.createProgram(),u.attachShader(o,r),u.attachShader(o,i),u.linkProgram(o),u.useProgram(o),s=u.getAttribLocation(o,"aVertexPosition"),a=u.getUniformLocation(o,"uColor"),c=u.getUniformLocation(o,"uDimensions"),l=u.getUniformLocation(o,"uOrigin"),u.enableVertexAttribArray(s),this.buffer=u.createBuffer(),u.lineWidth(2),u.enable(u.BLEND),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),this.gl=u,this.aVertexPosition=s,this.uColor=a,this.uDimensions=c,this.uOrigin=l}var t=["precision mediump float;","uniform vec4 uColor;","void main(void) {","gl_FragColor = uColor;","}"].join("\n"),n=["attribute vec2 aVertexPosition;","uniform vec2 uDimensions;","uniform vec2 uOrigin;","void main(void) {","gl_Position = vec4(2.0 * ((aVertexPosition - uOrigin) / uDimensions) - vec2(1,1), 0, 1);","}"].join("\n");return e.prototype.doDraw=function(e,t,n,r){var i=this.gl;i.bindBuffer(i.ARRAY_BUFFER,this.buffer),i.bufferData(i.ARRAY_BUFFER,t,i.DYNAMIC_DRAW),i.vertexAttribPointer(this.aVertexPosition,2,i.FLOAT,!1,0,0),i.uniform4fv(this.uColor,n),i.drawArrays(e,0,r)},e.prototype.clear=function(){var e=this.gl;e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clear(e.COLOR_BUFFER_BIT+e.DEPTH_BUFFER_BIT)},e.prototype.setDimensions=function(e,t){var n=this.gl;e&&e.length>0&&t&&t.length>0&&(n.uniform2fv(this.uDimensions,e),n.uniform2fv(this.uOrigin,t))},e.prototype.drawLine=function(e,t,n){this.doDraw(this.gl.LINE_STRIP,e,t,n)},e.prototype.drawSquare=function(e,t,n){this.doDraw(this.gl.TRIANGLE_FAN,new Float32Array(e.concat([e[0],t[1]]).concat(t).concat([t[0],e[1]])),n,4)},e}),define("platform/features/plot/src/Canvas2DChart",[],function(){function e(e){if(this.canvas=e,this.c2d=e.getContext("2d"),this.width=e.width,this.height=e.height,this.dimensions=[this.width,this.height],this.origin=[0,0],!this.c2d)throw new Error("Canvas 2d API unavailable.")}return e.prototype.x=function(e){return(e-this.origin[0])/this.dimensions[0]*this.width},e.prototype.y=function(e){return this.height-(e-this.origin[1])/this.dimensions[1]*this.height},e.prototype.setColor=function(e){var t=e.map(function(e,t){return 3>t?Math.floor(255*e):e}).join(",");this.c2d.strokeStyle="rgba("+t+")",this.c2d.fillStyle="rgba("+t+")"},e.prototype.clear=function(){var e=this.canvas;this.width=e.width,this.height=e.height,this.c2d.clearRect(0,0,this.width,this.height)},e.prototype.setDimensions=function(e,t){this.dimensions=e,this.origin=t},e.prototype.drawLine=function(e,t,n){var r;for(this.setColor(t),this.c2d.lineWidth=2,e.length>1&&(this.c2d.beginPath(),this.c2d.moveTo(this.x(e[0]),this.y(e[1]))),r=2;2*n>r;r+=2)this.c2d.lineTo(this.x(e[r]),this.y(e[r+1]));this.c2d.stroke()},e.prototype.drawSquare=function(e,t,n){var r=this.x(e[0]),i=this.y(e[1]),o=this.x(t[0])-r,s=this.y(t[1])-i;this.setColor(n),this.c2d.fillRect(r,i,o,s)},e}),define("platform/features/plot/src/MCTChart",["./GLChart","./Canvas2DChart"],function(e,t){function n(n,i){function o(e,t){var n=e[0];if(!n)return void i.warn("Cannot initialize mct-chart.");try{return new n(t)}catch(r){return i.warn(["Could not instantiate chart",n.name,";",r.message].join(" ")),o(e.slice(1),t)}}function s(i,s){function a(e){f.width=f.offsetWidth,f.height=f.offsetHeight,p.clear(),e&&(p.setDimensions(e.dimensions||[1,1],e.origin||[0,0]),(e.lines||[]).forEach(function(e){p.drawLine(e.buffer,e.color,e.points)}),(e.boxes||[]).forEach(function(e){p.drawSquare(e.start,e.end,e.color)}))}function c(){(f.width!==f.offsetWidth||f.height!==f.offsetHeight)&&(a(i.draw),i.$apply())}function l(){d&&n.cancel(d)}function u(){s.html(r),f=s.find("canvas")[0],p=o([t],f),p&&a(i.draw)}var d,p,f=s.find("canvas")[0];p=o([e,t],f),p&&(f.addEventListener("webglcontextlost",u),d=n(c,1e3,0,!1),i.$watchCollection("draw",a),i.$on("$destroy",l))}return{restrict:"E",template:r,link:s,scope:{draw:"="}}}var r="<canvas style='position: absolute; background: none; width: 100%; height: 100%;'></canvas>";return n}),define("platform/features/plot/src/elements/PlotSeriesWindow",[],function(){function e(e,t,n,r,i){this.series=e,this.domain=t,this.range=n,this.start=r,this.end=i}return e.prototype.getPointCount=function(){return this.end-this.start},e.prototype.getDomainValue=function(e){return this.series.getDomainValue(e+this.start,this.domain)},e.prototype.getRangeValue=function(e){return this.series.getRangeValue(e+this.start,this.range)},e.prototype.split=function(){var t=Math.floor((this.end+this.start)/2);return this.end-this.start>1?[new e(this.series,this.domain,this.range,this.start,t),new e(this.series,this.domain,this.range,t,this.end)]:[]},e}),define("platform/features/plot/src/elements/PlotLine",["./PlotSeriesWindow"],function(e){function t(e){this.buffer=e}return t.prototype.addPoint=function(e,t){var n,r=this.buffer;if(void 0!==e&&void 0!==t){if(n=r.findInsertionIndex(e),0>n)return;r.insertPoint(e,t,n)||(r.trim(1),r.insertPoint(e,t,n))}},t.prototype.addSeries=function(t,n,r){function i(e){function t(){var t=e.getDomainValue(0),r=e.getDomainValue(n-1),s=o.findInsertionIndex(t),a=o.findInsertionIndex(r);s===a&&s>-1?o.insert(e,s):e.split().forEach(i)}var n=e.getPointCount();n>0&&t()}var o=this.buffer;i(new e(t,n,r,0,t.getPointCount()))},t}),define("platform/features/plot/src/elements/PlotLineBuffer",[],function(){function e(e,t,n){this.buffer=new Float32Array(2*t),this.rangeExtrema=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],this.length=0,this.domainOffset=e,this.initialSize=t,this.maxSize=n}return e.prototype.binSearch=function(e,t,n){var r=Math.floor((t+n)/2),i=this.buffer[2*r];return i===e?r:t>=n?t+(e>i?1:0):e>i?this.binSearch(e,r+1,n):this.binSearch(e,t,r-1)},e.prototype.doubleBufferSize=function(){var e=Math.min(2*this.maxSize,2*this.buffer.length),t=e>this.buffer.length,n=t&&new Float32Array(e);return t&&(n.set(this.buffer),this.buffer=n),t},e.prototype.halveBufferSize=function(){var e=Math.max(2*this.initialSize,this.buffer.length/2),t=e<this.buffer.length;return t&&(this.buffer=new Float32Array(this.buffer.subarray(0,e))),t},e.prototype.setValue=function(e,t,n){this.buffer[2*e]=t-this.domainOffset,this.buffer[2*e+1]=n,this.rangeExtrema[0]=Math.min(this.rangeExtrema[0],n),this.rangeExtrema[1]=Math.max(this.rangeExtrema[1],n)},e.prototype.getBuffer=function(){return this.buffer},e.prototype.getLength=function(){return this.length},e.prototype.getDomainExtrema=function(){return[this.buffer[0]+this.domainOffset,this.buffer[2*this.length-2]+this.domainOffset]},e.prototype.getRangeExtrema=function(){return this.rangeExtrema},e.prototype.trim=function(e,t){t||this.buffer.set(this.buffer.subarray(2*e)),this.length-=e,this.length<this.buffer.length/4&&this.halveBufferSize()},e.prototype.insert=function(e,t){var n,r=e.getPointCount();for(t=Math.min(t,this.length);r>this.buffer.length/2-this.length;)if(!this.doubleBufferSize())return!1;for(t<this.length&&this.buffer.set(this.buffer.subarray(2*t,2*this.length),2*(t+r)),n=0;r>n;n+=1)this.setValue(n+t,e.getDomainValue(n),e.getRangeValue(n));return this.length+=r,!0},e.prototype.insertPoint=function(e,t){return this.length>=this.buffer.length/2&&!this.doubleBufferSize()?!1:(this.setValue(this.length,e,t),this.length+=1,!0)},e.prototype.findInsertionIndex=function(e){var t=e-this.domainOffset;return this.length<1?0:t>this.buffer[2*this.length-2]?this.length:this.binSearch(t,0,this.length-1)},e}),define("platform/features/plot/src/elements/PlotUpdater",["./PlotLine","./PlotLineBuffer"],function(e,t){function n(e,t,n,r,i){this.handle=e,this.domain=t,this.range=n,this.fixedDuration=r,this.maxPoints=i,this.ids=[],this.lines={},this.buffers={},this.bufferArray=[],this.maxPoints=void 0!==i?i:a,this.dimensions=[0,0],this.origin=[0,0],this.update()}function r(e){return e.getId()}function i(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function o(e){return e[1]-e[0]}function s(e){return e[0]}var a=86400,c=.1,l=675;return n.prototype.idsMatch=function(e){var t=this.ids;return t.length===e.length&&e.every(function(e,n){return t[n]===e})},n.prototype.prepareLines=function(n){var i=n.map(r),o={},s=this;this.idsMatch(i)||(void 0!==this.domainOffset&&(this.ids=i,this.bufferArray=this.ids.map(function(n){return s.buffers[n]=s.buffers[n]||new t(s.domainOffset,l,s.maxPoints),o[n]=s.lines[n]||new e(s.buffers[n]),s.buffers[n]})),Object.keys(o).length<1&&(this.domainOffset=void 0),this.lines=o)},n.prototype.initializeDomainOffset=function(e){this.domainOffset=void 0===this.domainOffset&&e.length>0?e.reduce(function(e,t){return(e||0)+(t||0)},0)/e.length:this.domainOffset},n.prototype.expandRange=function(){var e,t=c*this.dimensions[1];t=Math.max(t,1),e=Math.ceil(this.origin[1]+this.dimensions[1]+t/2),this.origin[1]=Math.floor(this.origin[1]-t/2),this.dimensions[1]=e-this.origin[1]},n.prototype.updateBounds=function(){var e=this.bufferArray.filter(function(e){return e.getLength()>0}),t=this.origin[0],n=this.dimensions[0];e.length>0&&(this.domainExtrema=e.map(function(e){return e.getDomainExtrema()}).reduce(i),this.rangeExtrema=e.map(function(e){return e.getRangeExtrema()}).reduce(i),this.dimensions=[this.domainExtrema,this.rangeExtrema].map(o),this.origin=[this.domainExtrema,this.rangeExtrema].map(s),this.expandRange(),this.hasSpecificDomainBounds&&(this.origin[0]=t,this.dimensions[0]=n,this.following&&(this.origin[0]=Math.max(this.domainExtrema[1]-this.dimensions[0],this.origin[0]))),void 0!==this.fixedDuration&&(this.origin[0]=this.origin[0]+this.dimensions[0]-this.fixedDuration,this.dimensions[0]=this.fixedDuration))},n.prototype.addPointFor=function(e){var t=this.lines[e.getId()];t&&t.addPoint(this.handle.getDomainValue(e,this.domain),this.handle.getRangeValue(e,this.range))},n.prototype.update=function(){var e=this.handle.getTelemetryObjects(),t=this;void 0===this.domainOffset&&this.initializeDomainOffset(e.map(function(e){return t.handle.getDomainValue(e,t.domain)}).filter(function(e){return"number"==typeof e})),this.prepareLines(e),e.forEach(function(e,n){t.addPointFor(e,n)}),this.updateBounds()},n.prototype.getDimensions=function(){return this.dimensions},n.prototype.getOrigin=function(){return this.origin},n.prototype.getDomainOffset=function(){return this.domainOffset},n.prototype.getLineBuffers=function(){return this.bufferArray},n.prototype.setDomainBounds=function(e,t){this.fixedDuration=t-e,this.origin[0]=e,this.dimensions[0]=this.fixedDuration,this.hasSpecificDomainBounds=!0,this.following=!this.domainExtrema||t>=this.domainExtrema[1]},n.prototype.addHistorical=function(e,t){var n,r=t?t.getPointCount():0;1>r||(void 0===this.domainOffset&&this.initializeDomainOffset([t.getDomainValue(0,this.domain),t.getDomainValue(r-1,this.domain)]),this.prepareLines(this.handle.getTelemetryObjects()),n=this.lines[e.getId()],n&&n.addSeries(t,this.domain,this.range),this.updateBounds())},n}),define("platform/features/plot/src/elements/PlotPalette",[],function(){function e(){return e}var t=[[32,178,170],[154,205,50],[255,140,0],[210,180,140],[64,224,208],[65,105,255],[255,215,0],[106,90,205],[238,130,238],[204,153,102],[153,204,204],[102,204,51],[255,204,0],[255,102,51],[204,102,255],[255,0,102],[255,255,0],[128,0,128],[0,134,139],[0,138,0],[255,0,0],[0,0,255],[245,222,179],[188,143,143],[70,130,180],[255,175,175],[67,205,128],[205,193,197],[160,82,45],[100,149,237]],n=t.map(function(e){return"#"+e.map(function(e){return(16>e?"0":"")+e.toString(16)}).join("")}),r=t.map(function(e){return e.map(function(e){return e/255}).concat([1])});return e.getIntegerColor=function(e){return t[Math.floor(e)%t.length]},e.getFloatColor=function(e){return r[Math.floor(e)%r.length]},e.getStringColor=function(e){return n[Math.floor(e)%n.length]},e}),define("platform/features/plot/src/elements/PlotAxis",[],function(){function e(e,t,n){this.axisType=e,this.defaultValue=n,this.optionKeys={},this.active=n,this.options=[],this.updateMetadata(t)}return e.prototype.updateMetadata=function(e){function t(e){return e&&r[e.key]}var n=this.axisType,r=this.optionKeys,i={},o=[];e.forEach(function(e){(e[n]||[]).forEach(function(e){var t=e.key;r[t]||i[t]||o.push(e),i[t]=!0})}),r=this.optionKeys=i,this.options.every(t)||(this.options=this.options.filter(t)),o.length>0&&(this.options=this.options.concat(o)),t(this.active)||(this.active=this.options[0]||this.defaultValue)},e.prototype.chooseOption=function(e){var t=this;this.options.forEach(function(n){n.key===e&&(t.active=n)})},e}),define("platform/features/plot/src/elements/PlotLimitTracker",[],function(){function e(e,t){this.handle=e,this.range=t,this.legendClasses={}}return e.prototype.update=function(){function e(e){var i=e.getCapability("limit"),o=r.getDatum(e);i&&o&&(t[e.getId()]=(i.evaluate(o,n)||{}).cssClass)}var t={},n=this.range,r=this.handle;r.getTelemetryObjects().forEach(e),this.legendClasses=t},e.prototype.getLegendClass=function(e){var t=e&&e.getId();return t&&this.legendClasses[t]},e}),define("platform/features/plot/src/elements/PlotTelemetryFormatter",[],function(){function e(e){this.telemetryFormatter=e}var t=3;return e.prototype.setDomainFormat=function(e){this.domainFormat=e},e.prototype.setRangeFormat=function(e){this.rangeFormat=e},e.prototype.formatDomainValue=function(e){return this.telemetryFormatter.formatDomainValue(e,this.domainFormat)},e.prototype.formatRangeValue=function(e){return"number"==typeof e?e.toFixed(t):this.telemetryFormatter.formatRangeValue(e,this.rangeFormat)},e}),define("platform/features/plot/src/elements/PlotPosition",[],function(){function e(e,t,n,r,i){function o(e,t){return e*c[t]+a[t]}var s=i.getPanZoom(),a=s.origin,c=s.dimensions;c&&a?this.position=[e/n,(r-t)/r].map(o):this.position=[]}return e.prototype.getDomain=function(){return this.position[0]},e.prototype.getRange=function(){return this.position[1]},e.prototype.getPosition=function(){return this.position},e}),define("platform/features/plot/src/elements/PlotTickGenerator",[],function(){function e(e,t){this.panZoomStack=e,this.formatter=t}function t(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}return e.prototype.generateTicks=function(e,t,n,r){var i,o=t/(n-1),s=[];for(i=0;n>i;i+=1)s.push({label:t>0?r(i*o+e):""});return s},e.prototype.generateDomainTicks=function(e){var n=this.panZoomStack.getPanZoom();return this.generateTicks(n.origin[0],n.dimensions[0],e,t(this.formatter.formatDomainValue,this.formatter))},e.prototype.generateRangeTicks=function(e){var n=this.panZoomStack.getPanZoom();return this.generateTicks(n.origin[1],n.dimensions[1],e,t(this.formatter.formatRangeValue,this.formatter))},e}),define("platform/features/plot/src/SubPlot",["./elements/PlotPosition","./elements/PlotTickGenerator"],function(e,t){function n(e,t,n){this.telemetryObjects=e,this.domainTicks=[],this.rangeTicks=[],this.formatter=n,this.draw={},this.hovering=!1,this.panZoomStack=t,this.updateDrawingBounds(),this.updateTicks()}function r(e){return"string"==typeof e&&""!==e}var i=5,o=7;return n.prototype.hasDomainData=function(){return this.panZoomStack&&this.panZoomStack.getDimensions()[0]>0},n.prototype.mousePositionToDomainRange=function(t){return new e(t.x,t.y,t.width,t.height,this.panZoomStack).getPosition()},n.prototype.toMousePosition=function(e){var t=this.subPlotBounds;return{x:e.clientX-t.left,y:e.clientY-t.top,width:t.width,height:t.height}},n.prototype.toDisplayable=function(e){return[e[0]-this.domainOffset,e[1]]},n.prototype.updateHoverCoordinates=function(){function e(e,n){return n?t.formatRangeValue(e):t.formatDomainValue(e)}var t=this.formatter;this.hoverCoordinates=this.mousePosition&&this.mousePositionToDomainRange(this.mousePosition).map(e).filter(r).join(", ")},n.prototype.updateMarqueeBox=function(){this.draw.boxes=this.marqueeStart?[{start:this.toDisplayable(this.mousePositionToDomainRange(this.marqueeStart)),end:this.toDisplayable(this.mousePositionToDomainRange(this.mousePosition)),color:[1,1,1,.5]}]:void 0},n.prototype.updateDrawingBounds=function(){var e=this.panZoomStack.getPanZoom();this.draw.dimensions=e.dimensions,this.draw.origin=[e.origin[0]-this.domainOffset,e.origin[1]]},n.prototype.updateTicks=function(){var e=new t(this.panZoomStack,this.formatter);this.domainTicks=e.generateDomainTicks(i),this.rangeTicks=e.generateRangeTicks(o)},n.prototype.updatePan=function(){var e,t,n,r;this.panZoomStack.popPanZoom(),e=this.mousePositionToDomainRange(this.panStart,this.panZoomStack),t=this.mousePositionToDomainRange(this.mousePosition,this.panZoomStack),n=[t[0]-e[0],t[1]-e[1]],r=[this.panStartBounds.origin[0]-n[0],this.panStartBounds.origin[1]-n[1]],this.panZoomStack.pushPanZoom(r,this.panStartBounds.dimensions)},n.prototype.getTelemetryObjects=function(){return this.telemetryObjects},n.prototype.getDomainTicks=function(){return this.domainTicks},n.prototype.getRangeTicks=function(){return this.rangeTicks},n.prototype.getDrawingObject=function(){return this.draw},n.prototype.getHoverCoordinates=function(){return this.hoverCoordinates},n.prototype.hover=function(e){this.hovering=!0,this.subPlotBounds=e.target.getBoundingClientRect(),this.mousePosition=this.toMousePosition(e),this.hasDomainData()&&this.updateHoverCoordinates(),this.marqueeStart&&this.updateMarqueeBox(),this.panStart&&(this.updatePan(),this.updateDrawingBounds(),this.updateTicks())},n.prototype.continueDrag=function(e){this.mousePosition=this.toMousePosition(e),this.marqueeStart&&this.updateMarqueeBox(),this.panStart&&(this.updatePan(),this.updateDrawingBounds(),this.updateTicks())},n.prototype.startDrag=function(e){this.subPlotBounds=e.target.getBoundingClientRect(),this.mousePosition=this.toMousePosition(e),e.altKey||e.shiftKey||e.ctrlKey?(this.panStart=this.mousePosition,this.panStartBounds=this.panZoomStack.getPanZoom(),this.panZoomStack.pushPanZoom(this.panStartBounds.origin,this.panStartBounds.dimensions),e.preventDefault()):(this.marqueeStart=this.mousePosition,this.updateMarqueeBox())},n.prototype.endDrag=function(e){function t(e,t){var r=n.mousePositionToDomainRange(e),i=n.mousePositionToDomainRange(t),o=[Math.min(r[0],i[0]),Math.min(r[1],i[1])],s=[Math.max(r[0],i[0])-o[0],Math.max(r[1],i[1])-o[1]];(0!==s[0]||0!==s[1])&&(n.panZoomStack.pushPanZoom(o,s),n.updateTicks())}var n=this;this.mousePosition=this.toMousePosition(e),this.subPlotBounds=void 0,this.marqueeStart&&(t(this.marqueeStart,this.mousePosition),this.marqueeStart=void 0,this.updateMarqueeBox(),this.updateDrawingBounds(),this.updateTicks()),this.panStart&&(this.panStart=void 0,this.panStartBounds=void 0)},n.prototype.update=function(){this.updateDrawingBounds(),this.updateMarqueeBox(),this.updateTicks()},n.prototype.setDomainOffset=function(e){this.domainOffset=e},n.prototype.isHovering=function(e){return void 0!==e&&(this.hovering=e),this.hovering},n}),define("platform/features/plot/src/elements/PlotPanZoomStack",[],function(){function e(e,t){this.stack=[{origin:e,dimensions:t}]}return e.prototype.getDepth=function(){return this.stack.length},e.prototype.pushPanZoom=function(e,t){this.stack.push({origin:e,dimensions:t})},e.prototype.popPanZoom=function(){this.stack.length>1&&this.stack.pop()},e.prototype.setBasePanZoom=function(e,t){this.stack[0]={origin:e,dimensions:t}},e.prototype.clearPanZoom=function(){this.stack=[this.stack[0]]},e.prototype.getPanZoom=function(){return this.stack[this.stack.length-1]},e.prototype.getOrigin=function(){return this.getPanZoom().origin},e.prototype.getDimensions=function(){return this.getPanZoom().dimensions},e}),define("platform/features/plot/src/modes/PlotOverlayMode",["../SubPlot","../elements/PlotPalette","../elements/PlotPanZoomStack"],function(e,t,n){function r(e,t){this.panZoomStack=new n([],[]),this.subplot=t.createSubPlot(e,this.panZoomStack),this.subplots=[this.subplot]}return r.prototype.plotTelemetry=function(e){this.panZoomStack.setBasePanZoom(e.getOrigin(),e.getDimensions()),this.subplot.setDomainOffset(e.getDomainOffset()),this.subplot.getDrawingObject().lines=e.getLineBuffers().map(function(e,n){return{buffer:e.getBuffer(),color:t.getFloatColor(n),points:e.getLength()}})},r.prototype.getSubPlots=function(){return this.subplots},r.prototype.isZoomed=function(){return this.panZoomStack.getDepth()>1},r.prototype.stepBackPanZoom=function(){this.panZoomStack.popPanZoom(),this.subplot.update()},r.prototype.unzoom=function(){this.panZoomStack.clearPanZoom(),this.subplot.update()},r}),define("platform/features/plot/src/elements/PlotPanZoomStackGroup",["./PlotPanZoomStack"],function(e){function t(t){function n(e,t,n){i.stacks.forEach(function(r,i){i===n?r.pushPanZoom(e,t):r.pushPanZoom([e[0],r.getOrigin()[1]],[t[0],r.getDimensions()[1]])})}function r(e,t){var r=Object.create(e);return r.pushPanZoom=function(e,r){n(e,r,t)},r.setBasePanZoom=function(){i.setBasePanZoom.apply(i,arguments)},r.popPanZoom=function(){i.popPanZoom.apply(i,arguments)},r.clearPanZoom=function(){i.clearPanZoom.apply(i,arguments)},r}var i=this;for(this.stacks=[];this.stacks.length<t;)this.stacks.push(new e([],[]));this.decoratedStacks=this.stacks.map(r)}return t.prototype.popPanZoom=function(){this.stacks.forEach(function(e){e.popPanZoom()})},t.prototype.setBasePanZoom=function(e,t){this.stacks.forEach(function(n){n.setBasePanZoom(e,t)})},t.prototype.clearPanZoom=function(){this.stacks.forEach(function(e){e.clearPanZoom()})},t.prototype.getDepth=function(){return this.stacks.length>0?this.stacks[0].getDepth():0},t.prototype.getPanZoomStack=function(e){return this.decoratedStacks[e]},t}),define("platform/features/plot/src/modes/PlotStackMode",["../SubPlot","../elements/PlotPalette","../elements/PlotPanZoomStackGroup"],function(e,t,n){function r(e,t){var r=this;this.panZoomStackGroup=new n(e.length),this.subplots=e.map(function(e,n){return t.createSubPlot([e],r.panZoomStackGroup.getPanZoomStack(n))})}return r.prototype.plotTelemetryTo=function(e,n,r){var i=n.getLineBuffers()[r];e.setDomainOffset(n.getDomainOffset()),e.getDrawingObject().lines=[{buffer:i.getBuffer(),color:t.getFloatColor(0),points:i.getLength()}]},r.prototype.plotTelemetry=function(e){var t=this;this.panZoomStackGroup.setBasePanZoom(e.getOrigin(),e.getDimensions()),this.subplots.forEach(function(n,r){t.plotTelemetryTo(n,e,r)})},r.prototype.getSubPlots=function(){return this.subplots},r.prototype.isZoomed=function(){return this.panZoomStackGroup.getDepth()>1},r.prototype.stepBackPanZoom=function(){this.panZoomStackGroup.popPanZoom(),this.subplots.forEach(function(e){e.update()})},r.prototype.unzoom=function(){this.panZoomStackGroup.clearPanZoom(),this.subplots.forEach(function(e){e.update()})},r}),define("platform/features/plot/src/modes/PlotModeOptions",["./PlotOverlayMode","./PlotStackMode"],function(e,t){function n(e,t){this.options=e.length>1?[i,r]:[i],this.mode=this.options[0],this.telemetryObjects=e,this.subPlotFactory=t}var r={key:"stacked",name:"Stacked",cssclass:"icon-plot-stacked",Constructor:t},i={key:"overlaid",name:"Overlaid",cssclass:"icon-plot-overlay",Constructor:e};return n.prototype.getModeHandler=function(){return this.modeHandler||(this.modeHandler=new this.mode.Constructor(this.telemetryObjects,this.subPlotFactory)),this.modeHandler},n.prototype.getModeOptions=function(){return this.options},n.prototype.getMode=function(){return this.mode},n.prototype.setMode=function(e){this.mode!==e&&(this.mode=e,this.modeHandler=void 0)},n}),define("platform/features/plot/src/SubPlotFactory",["./SubPlot"],function(e){function t(e){this.telemetryFormatter=e}return t.prototype.createSubPlot=function(t,n){return new e(t,n,this.telemetryFormatter)},t}),define("platform/features/plot/src/PlotController",["./elements/PlotUpdater","./elements/PlotPalette","./elements/PlotAxis","./elements/PlotLimitTracker","./elements/PlotTelemetryFormatter","./modes/PlotModeOptions","./SubPlotFactory"],function(e,t,n,r,i,o,s){function a(t,a,l,u,d){function p(e){t.axes.forEach(function(t){t.updateMetadata(e)})}function f(e){e.update()}function h(e){P!==e&&(P=e,D.modeOptions=new o(e||[],R))}function m(e){var t=e.start,n=e.end;I&&(I.setDomainBounds(t,n),D.update()),M=e}function g(){var n=t.axes[0].active.key,i=t.axes[1].active.key,o=d;I=new e(N,n,i,o),L=n,E=i,D.limitTracker=new r(N,i),M&&m(M)}function y(){return I||g(),I}function v(){D.pending=!1,N&&(h(N.getTelemetryObjects()),p(N.getMetadata()),y().update(),D.modeOptions.getModeHandler().plotTelemetry(I),D.limitTracker.update(),D.update())}function b(e,t){D.pending=!1,y().addHistorical(e,t),D.modeOptions.getModeHandler().plotTelemetry(I),D.update()}function w(){N&&N.request({},b)}function S(){N&&(I=void 0,w())}function $(e){N&&N.unsubscribe(),N=e&&l.handle(e,v,!0),S()}function C(){N&&(N.unsubscribe(),N=void 0)}function x(){D.pending=!0,C(),$(t.domainObject)}function O(){var e=t.axes[0];j.setDomainFormat(e.active.format)}function T(e){e!==L&&(O(),x())}function k(e){e!==E&&x()}function A(e,n){var r=t.axes[0];r.chooseOption(n.domain),O(),m(n),x()}var I,M,E,L,N,D=this,j=new i(a),R=new s(j),P=[];this.modeOptions=new o([],R),this.updateValues=v,this.scheduleUpdate=u(function(){D.modeOptions.getModeHandler().getSubPlots().forEach(f)}),D.pending=!0,t.axes=[new n("domains",[],c[0]),new n("ranges",[],c[1])],t.$watch("axes[0].active.key",T),t.$watch("axes[1].active.key",k),t.$watch("domainObject",$),t.$on("telemetry:display:bounds",A),t.$on("$destroy",C)}var c=[{name:"Time"},{name:"Value"}];return a.prototype.getColor=function(e){return t.getStringColor(e)},a.prototype.isZoomed=function(){return this.modeOptions.getModeHandler().isZoomed()},a.prototype.stepBackPanZoom=function(){return this.modeOptions.getModeHandler().stepBackPanZoom()},a.prototype.unzoom=function(){return this.modeOptions.getModeHandler().unzoom()},a.prototype.getModeOptions=function(){return this.modeOptions.getModeOptions()},a.prototype.getMode=function(){return this.modeOptions.getMode()},a.prototype.setMode=function(e){this.modeOptions.setMode(e),this.updateValues()},a.prototype.getSubPlots=function(){return this.modeOptions.getModeHandler().getSubPlots()},a.prototype.getLegendClass=function(e){return this.limitTracker&&this.limitTracker.getLegendClass(e)},a.prototype.update=function(){this.scheduleUpdate()},a.prototype.isRequestPending=function(){return this.pending},a}),define("platform/features/plot/src/policies/PlotViewPolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("telemetry"),n=t?t.getMetadata():{},r=n.ranges||[];return 0===r.length||r.some(function(e){return void 0===e.format||"number"===e.format})}return e.prototype.allow=function(e,n){return"plot"===e.key?t(n):!0},e}),define("platform/features/plot/src/PlotOptionsForm",[],function(){function e(){this.xAxisForm={name:"x-axis",sections:[{name:"x-axis",rows:[{name:"Domain",control:"select",key:"key",options:[{name:"SCET",value:"scet"},{name:"SCLK",value:"sclk"},{name:"LST",value:"lst"}]}]}]},this.yAxisForm={name:"y-axis",sections:[{name:"y-axis",rows:[{name:"Range",control:"select",key:"key",options:[{name:"EU",value:"eu"},{name:"DN",value:"dn"},{name:"Status",value:"status"}]},{name:"Autoscale",control:"checkbox",key:"autoscale"},{name:"Min",control:"textfield",key:"min",pattern:"[0-9]",inputsize:"sm"},{name:"Max",control:"textfield",key:"max",pattern:"[0-9]",inputsize:"sm"}]}]},this.plotSeriesForm={name:"Series Options",sections:[{rows:[{name:"Color",control:"color",key:"color"}]},{rows:[{name:"Markers",control:"checkbox",key:"markers",layout:"control-first"}]},{rows:[{name:"No Line",control:"radio",key:"lineType",value:"noLine",layout:"control-first"},{name:"Step Line",control:"radio",key:"lineType",value:"stepLine",layout:"control-first"},{name:"Linear Line",control:"radio",key:"lineType",value:"linearLine",layout:"control-first"}]}]}}return e}),define("platform/features/plot/src/PlotOptionsController",["./PlotOptionsForm"],function(e){function t(t){var n=this;this.$scope=t,this.domainObject=t.domainObject,this.configuration=this.domainObject.getModel().configuration||{},this.plotOptionsForm=new e,this.composition=[],this.watches=[],this.mutationListener=this.domainObject.getCapability("mutation").listen(function(e){n.hasCompositionChanged(n.composition,e.composition)&&n.updateChildren()}),t.plotSeriesForm=this.plotOptionsForm.plotSeriesForm,t.xAxisForm=this.plotOptionsForm.xAxisForm,t.yAxisForm=this.plotOptionsForm.yAxisForm,t.$on("$destroy",function(){n.mutationListener()}),this.defaultConfiguration(),this.updateChildren(),t.$watchCollection("configuration.plot.yAxis",function(e,t){n.updateConfiguration(e,t)}),t.$watchCollection("configuration.plot.xAxis",function(e,t){n.updateConfiguration(e,t)}),this.watchSeries()}return t.prototype.clearSeriesWatches=function(){this.watches.forEach(function(e){e()}),this.watches=[]},t.prototype.watchSeries=function(){var e=this;this.clearSeriesWatches(),(e.$scope.children||[]).forEach(function(t,n){e.watches.push(e.$scope.$watchCollection("configuration.plot.series["+n+"]",function(t,n){e.updateConfiguration(t,n)}))})},t.prototype.hasCompositionChanged=function(e,t){var n=e===t||e.length===t.length&&e.every(function(e,n){return t[n]&&e===t[n]});return!n},t.prototype.defaultConfiguration=function(){this.configuration.plot=this.configuration.plot||{},this.configuration.plot.xAxis=this.configuration.plot.xAxis||{},this.configuration.plot.yAxis=this.configuration.plot.yAxis||{},this.configuration.plot.series=this.configuration.plot.series||[],this.$scope.configuration=this.configuration},t.prototype.updateChildren=function(){var e=this;this.domainObject.useCapability("composition").then(function(t){e.$scope.children=t,e.composition=e.domainObject.getModel().composition,t.forEach(function(t,n){e.configuration.plot.series[n]=e.configuration.plot.series[n]||{id:t.getId()}}),e.watchSeries()})},t.prototype.updateConfiguration=function(){var e=this;this.domainObject.useCapability("mutation",function(t){t.configuration=t.configuration||{},t.configuration.plot=e.configuration.plot})},t}),define("text!platform/features/plot/res/templates/plot.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="PlotController as plot"\r\n      class="abs holder holder-plot">\r\n    <div class="gl-plot"\r\n         ng-style="{ height: 100 / plot.getSubPlots().length + \'%\'}"\r\n         ng-repeat="subplot in plot.getSubPlots()">\r\n        <div class="gl-plot-legend">\r\n            <!-- ng-class is temporarily hard-coded in next element -->\r\n            <span\r\n                class=\'plot-legend-item\'\r\n                ng-repeat="telemetryObject in subplot.getTelemetryObjects()"\r\n                ng-class="plot.getLegendClass(telemetryObject)">\r\n                <span class=\'plot-color-swatch\'\r\n                      ng-style="{ \'background-color\': plot.getColor($index) }">\r\n                </span>\r\n                <span class=\'title-label\'>{{telemetryObject.getModel().name}}</span>\r\n            </span>\r\n        </div>\r\n        <div class="gl-plot-coords"\r\n            ng-if="subplot.isHovering() && subplot.getHoverCoordinates()">\r\n            {{subplot.getHoverCoordinates()}}\r\n        </div>\r\n        <div class="gl-plot-axis-area gl-plot-y">\r\n            <div class="gl-plot-label gl-plot-y-label">\r\n                {{axes[1].active.name}}\r\n            </div>\r\n            <div ng-repeat="tick in subplot.getRangeTicks()"\r\n                 class="gl-plot-tick gl-plot-y-tick-label"\r\n                 ng-style="{ bottom: (100 * $index / (subplot.getRangeTicks().length - 1)) + \'%\' }">\r\n                {{tick.label | reverse}}\r\n            </div>\r\n            <div class="gl-plot-y-options gl-plot-local-controls"\r\n                 ng-if="axes[1].options.length > 1">\r\n                <div class=\'form-control shell select\'>\r\n                    <select class="form-control input shell"\r\n                            ng-model="axes[1].active"\r\n                            ng-options="option.name for option in axes[1].options">\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="gl-plot-display-area"\r\n             ng-mouseenter="subplot.isHovering(true);"\r\n             ng-mouseleave="subplot.isHovering(false)"\r\n             ng-class="{ loading: plot.isRequestPending() }">\r\n            <!-- Out-of-bounds data indicators -->\r\n            <!-- ng-show is temporarily hard-coded in next element -->\r\n            <div ng-show="false" class="l-oob-data l-oob-data-up"></div>\r\n            <div ng-show="false" class="l-oob-data l-oob-data-dwn"></div>\r\n            <div class="gl-plot-hash hash-v"\r\n                 ng-repeat="tick in subplot.getDomainTicks()"\r\n                 ng-style="{ left: (100 * $index / (subplot.getDomainTicks().length - 1)) + \'%\', height: \'100%\' }"\r\n                 ng-show="$index > 0 && $index < (subplot.getDomainTicks().length - 1)">\r\n            </div>\r\n            <div class="gl-plot-hash hash-h"\r\n                 ng-repeat="tick in subplot.getRangeTicks()"\r\n                 ng-style="{ bottom: (100 * $index / (subplot.getRangeTicks().length - 1)) + \'%\', width: \'100%\' }"\r\n                 ng-show="$index > 0 && $index < (subplot.getRangeTicks().length - 1)">\r\n            </div>\r\n            <mct-chart draw="subplot.getDrawingObject()"\r\n                       ng-if="subplot.getTelemetryObjects().length > 0"\r\n                       ng-mousemove="subplot.hover($event)"\r\n                       mct-drag="subplot.continueDrag($event)"\r\n                       mct-drag-down="subplot.startDrag($event)"\r\n                       mct-drag-up="subplot.endDrag($event); plot.update()">\r\n            </mct-chart>\r\n            <!-- TODO: Move into correct position; make part of group; infer from set of actions -->\r\n            <div class="l-local-controls gl-plot-local-controls t-plot-display-controls"\r\n                 ng-if="$first">\r\n                <a class="s-button icon-arrow-left"\r\n                   ng-click="plot.stepBackPanZoom()"\r\n                   ng-show="plot.isZoomed()"\r\n                   title="Restore previous pan/zoom">\r\n                </a>\r\n                <a class="s-button icon-arrows-out"\r\n                   ng-click="plot.unzoom()"\r\n                   ng-show="plot.isZoomed()"\r\n                   title="Reset pan/zoom">\r\n                </a>\r\n                <div class="menu-element s-menu-button menus-to-left {{plot.getMode().cssclass}}"\r\n                     ng-if="plot.getModeOptions().length > 1"\r\n                     ng-controller="ClickAwayController as toggle">\r\n                    <span class="l-click-area" ng-click="toggle.toggle()"></span>\r\n                    <span>{{plot.getMode().name}}</span>\r\n                    <div class="menu" ng-show="toggle.isActive()">\r\n                        <ul>\r\n                            <li ng-repeat="option in plot.getModeOptions()"\r\n                                ng-click="plot.setMode(option); toggle.setState(false)"\r\n                                class="{{option.cssclass}}">\r\n                                    {{option.name}}\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div ng-if="$last" class="gl-plot-axis-area gl-plot-x">\r\n            <div ng-repeat="tick in subplot.getDomainTicks()"\r\n                 class="gl-plot-tick gl-plot-x-tick-label"\r\n                 ng-show="$index > 0 && $index < (subplot.getDomainTicks().length - 1)"\r\n                 ng-style="{ left: (100 * $index / (subplot.getDomainTicks().length - 1)) + \'%\' }">\r\n                {{tick.label | reverse}}\r\n            </div>\r\n            <div class="gl-plot-label gl-plot-x-label">\r\n                {{axes[0].active.name}}\r\n            </div>\r\n            <div class="gl-plot-x-options gl-plot-local-controls"\r\n                 ng-if="axes[0].options.length > 1">\r\n                <div class=\'form-control shell select\'>\r\n                    <select class="form-control input shell"\r\n                            ng-model="axes[0].active"\r\n                            ng-options="option.name for option in axes[0].options">\r\n                    </select>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</span>\r\n';
}),define("text!platform/features/plot/res/templates/plot-options-browse.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div ng-controller="PlotOptionsController" class="flex-elem grows l-inspector-part">\r\n    <em class="t-inspector-part-header" title="Display properties for this object">Plot Options</em>\r\n    <mct-form\r\n            ng-model="configuration.plot.xAxis"\r\n            structure="xAxisForm"\r\n            name="xAxisFormState"\r\n            class="flex-elem l-flex-row no-margin">\r\n    </mct-form>\r\n    <mct-form\r\n            ng-model="configuration.plot.yAxis"\r\n            structure="yAxisForm"\r\n            name="yAxisFormState"\r\n            class="flex-elem l-flex-row no-margin">\r\n    </mct-form>\r\n    <div class="form">\r\n        <div class="section-header ng-binding ng-scope">\r\n            Plot Series\r\n        </div>\r\n        <ul class="first flex-elem grows vscroll">\r\n            <ul class="tree">\r\n                <li ng-repeat="child in children">\r\n                    <span ng-controller="ToggleController as toggle">\r\n                        <span ng-controller="TreeNodeController as treeNode">\r\n                            <span class="tree-item menus-to-left">\r\n                                <span\r\n                                    class=\'ui-symbol view-control flex-elem has-children\'\r\n                                    ng-class="{ expanded: toggle.isActive() }"\r\n                                    ng-click="toggle.toggle(); treeNode.trackExpansion()">\r\n                                </span>\r\n                                <mct-representation\r\n                                    class="rep-object-label"\r\n                                    key="\'label\'"\r\n                                    mct-object="child">\r\n                                </mct-representation>\r\n                            </span>\r\n                        </span>\r\n                        <mct-form\r\n                            ng-class="{hidden: !toggle.isActive()}"\r\n                            ng-model="configuration.plot.series[$index]"\r\n                            structure="plotSeriesForm"\r\n                            name="plotOptionsState"\r\n                            class="flex-elem l-flex-row">\r\n                        </mct-form>\r\n                    </span>\r\n                </li>\r\n            </ul>\r\n        </ul>\r\n    </div>\r\n</div>'}),define("platform/features/plot/bundle",["./src/MCTChart","./src/PlotController","./src/policies/PlotViewPolicy","./src/PlotOptionsController","text!./res/templates/plot.html","text!./res/templates/plot-options-browse.html","legacyRegistry"],function(e,t,n,r,i,o,s){s.register("platform/features/plot",{name:"Plot view for telemetry",extensions:{views:[{name:"Plot",key:"plot",cssclass:"icon-sine",template:i,needs:["telemetry"],priority:"preferred",delegation:!0}],directives:[{key:"mctChart",implementation:e,depends:["$interval","$log"]}],controllers:[{key:"PlotController",implementation:t,depends:["$scope","telemetryFormatter","telemetryHandler","throttle","PLOT_FIXED_DURATION"]},{key:"PlotOptionsController",implementation:r,depends:["$scope"]}],constants:[{key:"PLOT_FIXED_DURATION",value:9e5,priority:"fallback",comment:"Fifteen minutes."}],policies:[{category:"view",implementation:n}],representations:[{key:"plot-options-browse",template:o}]}})}),define("platform/features/timeline/src/actions/TimelineTraverser",[],function(){function e(e){this.domainObject=e}return e.prototype.buildObjectList=function(){function e(r){function i(){return r.useCapability("composition").then(function(t){return Promise.all(t.map(e))})}function o(){var t=r.getCapability("relationship");t.getRelatedObjects("modes").then(function(t){return Promise.all(t.map(e))})}var s=r.getId(),a=[];return t[s]||(t[s]=!0,n.push(r),r.hasCapability("composition")&&a.push(i()),r.hasCapability("relationship")&&a.push(o())),Promise.all(a)}var t={},n=[];return e(this.domainObject).then(function(){return n})},e}),define("platform/features/timeline/src/actions/IdColumn",[],function(){function e(e){this.idMap=e}return e.prototype.name=function(){return"Index"},e.prototype.value=function(e){return this.idMap[e.getId()]},e}),define("platform/features/timeline/src/actions/ModeColumn",[],function(){function e(e,t){this.index=e,this.idMap=t}return e.prototype.name=function(){return"Activity Mode "+(this.index+1)},e.prototype.value=function(e){var t=e.getModel(),n=(t.relationships||{}).modes||[];return n.length>this.index?this.idMap[n[this.index]]:""},e}),define("platform/features/timeline/src/actions/CompositionColumn",[],function(){function e(e,t){this.index=e,this.idMap=t}return e.prototype.name=function(){return"Child "+(this.index+1)},e.prototype.value=function(e){var t=e.getModel(),n=t.composition||[];return n.length>this.index?this.idMap[n[this.index]]:""},e}),define("platform/features/timeline/src/actions/MetadataColumn",[],function(){function e(e){this.propertyName=e}return e.prototype.name=function(){return this.propertyName},e.prototype.value=function(e){var t=e.useCapability("metadata"),n=this.propertyName;return t.reduce(function(e,t){return t.name===n?t.value:e},"")},e}),define("platform/features/timeline/src/TimelineFormatter",[],function(){function e(){function e(e,t){for(var n=e.toString(10);n.length<t;)n="0"+n;return n}function o(o){var s=Math.floor(o/i),a=Math.floor(o/r)%24,c=Math.floor(o/n)%60,l=Math.floor(o/t)%60,u=Math.floor(o)%1e3;return e(s,3)+" "+e(a,2)+":"+e(c,2)+":"+e(l,2)+"."+e(u,3)}return{format:o}}var t=1e3,n=60*t,r=60*n,i=24*r;return e}),define("platform/features/timeline/src/actions/TimespanColumn",["../TimelineFormatter"],function(e){function t(e){this.isStart=e}var n=new e;return t.prototype.name=function(){return this.isStart?"Start":"End"},t.prototype.value=function(e){var t=this.isStart;return e.hasCapability("timespan")?e.useCapability("timespan").then(function(e){return n.format(t?e.getStart():e.getEnd())}):""},t}),define("platform/features/timeline/src/actions/UtilizationColumn",[],function(){function e(e){this.resource=e}return e.prototype.name=function(){var e={Kbps:"Kb",watts:"watt-seconds"}[this.resource.units]||"unknown units";return this.resource.name+" ("+e+")"},e.prototype.value=function(e){function t(e){var t=(e.end-e.start)/1e3;return t*e.value}function n(e){return e=e.filter(function(e){return e.key===r.key}),0===e.length?"":e.map(t).reduce(function(e,t){return e+t},0)}var r=this.resource;return e.hasCapability("utilization")?e.getCapability("utilization").internal().then(n):""},e}),define("platform/features/timeline/src/actions/TimelineColumnizer",["./IdColumn","./ModeColumn","./CompositionColumn","./MetadataColumn","./TimespanColumn","./UtilizationColumn"],function(e,t,n,r,i,o){function s(s,a){function c(e){var t=e.name;f[t]||(f[t]=!0,h.push(new r(t)))}var l,u,d=0,p=0,f={},h=[],m=!1;for(l=s.reduce(function(e,t,n){return e[t.getId()]=n+1,e},{}),h.push(new e(l)),s.forEach(function(e){var t=e.getModel(),n=t.composition,r=t.relationships,i=r&&r.modes,o=e.useCapability("metadata");n&&(d=Math.max(d,n.length)),i&&(p=Math.max(p,i.length)),e.hasCapability("timespan")&&(m=!0),o&&o.forEach(c)}),m&&(h.push(new i(!0)),h.push(new i(!1))),a.forEach(function(e){h.push(new o(e))}),u=0;d>u;u+=1)h.push(new n(u,l));for(u=0;p>u;u+=1)h.push(new t(u,l));this.domainObjects=s,this.columns=h}return s.prototype.rows=function(){function e(e){return Promise.all(t.map(function(t){return t.value(e)}))}var t=this.columns;return Promise.all(this.domainObjects.map(e))},s.prototype.headers=function(){return this.columns.map(function(e){return e.name()})},s}),define("platform/features/timeline/src/actions/ExportTimelineAsCSVTask",["./TimelineTraverser","./TimelineColumnizer"],function(e,t){function n(e,t,n){this.domainObject=n,this.exportService=e,this.resources=t}return n.prototype.run=function(){function n(e){var n=new t(e,i),o={headers:n.headers()};return n.rows().then(function(e){return r.exportCSV(e,o)})}var r=this.exportService,i=this.resources;return new e(this.domainObject).buildObjectList().then(n)},n}),define("platform/features/timeline/src/actions/ExportTimelineAsCSVAction",["./ExportTimelineAsCSVTask"],function(e){function t(t,n,r,i,o){this.$log=t,this.task=new e(n,i,o.domainObject),this.notificationService=r}return t.prototype.perform=function(){var e=this.notificationService,t=e.notify({title:"Exporting CSV",unknownProgress:!0}),n=this.$log;return this.task.run().then(function(){t.dismiss()})["catch"](function(r){n.warn(r),t.dismiss(),e.error("Error exporting CSV")})},t.appliesTo=function(e){return e.domainObject&&e.domainObject.hasCapability("type")&&e.domainObject.getCapability("type").instanceOf("timeline")},t}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlane",[],function(){function e(e,t,n,r,i){var o,s=e.getId(),a=!1,c=!1,l=(r?r.idPath:[]).concat([e.getId()]),u=r?r.depth+1:0,d=r&&r.parent?r.path+r.domainObject.getModel().name+" > ":"";return e.useCapability("timespan").then(function(e){o=e}),{visible:function(){return!r||r.expanded&&r.visible()},properties:function(){return e.getCapability("action").perform("properties")},toggleGraph:function(){n.graph=n.graph||{},n.graph[s]=!n.graph[s],t[n.graph[s]?"assign":"release"](s)},graph:function(e){return arguments.length>0&&(n.graph=n.graph||{},n.graph[s]=!!e,t[e?"assign":"release"](s)),(n.graph||{})[s]},color:function(e){return arguments.length>0&&t.assign(s,e),t.get(s)},highlight:function(e){return arguments.length>0&&(a=e),a},highlightBottom:function(e){return arguments.length>0&&(c=e),c},exceeded:function(){var e=r&&r.timespan();return o&&e&&(o.getStart()<e.getStart()||o.getEnd()>e.getEnd())},timespan:function(){return o},domainObject:e,expanded:!0,depth:u,path:d,id:s,idPath:l,parent:r,index:i,children:[]}}return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlaneDropHandler",[],function(){function e(e){function t(e){return e&&e.then?e:{then:function(n){return t(n(e))}}}function n(){return e.domainObject.hasCapability("editor")&&e.domainObject.getCapability("editor").inEditContext()}function r(e,t){return e||t}function i(e,t){function n(e){return e===t}return e.idPath.map(n).reduce(r,!1)}function o(e,t){function n(e){return e.domainObject.getId()===t}return e.children.map(n).reduce(r,!1)}function s(e,n){return t(e.useCapability("mutation",n)).then(function(){var t=e.getCapability("persistence");t&&t.persist()})}function a(){return e.expanded&&e.children.length>0}function c(){return e.highlight()||a()}function l(e,t){var n=t.getCapability("context"),r=n&&n.getParent(),i=r&&r.getId();return e.getId()===i}function u(e,t){var n=e.getCapability("action"),r=t.hasCapability("editor")?"move":"link";return n&&n.getActions({key:r,selectedObject:t})[0]}function d(e,t,n){return Math.max(Math.min((n||[]).indexOf(e)+t,(n||[]).length),0)}function p(t,n,r){var i=e.domainObject.getId();return s(n,function(e){e.composition=e.composition.filter(function(e){return e!==t}),e.composition.splice(d(i,r,e.composition),0,t)})}function f(e,t){return l(e,t)||!!u(e,t)}function h(e,t,n){function r(){var r=e.getId();return p(r,t,n)}return l(t,e)?r():u(t,e).perform().then(r)}return{allowDropIn:function(t,r){return n()&&!i(e,t)&&!o(e,t)&&f(e.domainObject,r)},allowDropAfter:function(t,r){var o=a()?e:e.parent;return n()&&o&&!i(o,t)&&f(o.domainObject,r)},drop:function(t,n){var r=c(),i=r?e.domainObject:e.parent.domainObject,o=r?e.expanded&&e.highlightBottom()?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:1;return e.highlight()||e.highlightBottom()?h(n,i,o):void 0}}}return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlaneDecorator",["./TimelineSwimlaneDropHandler"],function(e){function t(t,r){function i(e){return arguments.length>0&&Array.isArray(e)&&(u.relationships||{})[n]!==e&&d.mutate(function(t){t.relationships=t.relationships||{},t.relationships[n]=e}).then(p.persist),(u.relationships||{})[n]||[]}function o(e){return arguments.length>0&&"string"==typeof e&&e!==u.link&&d.mutate(function(t){t.link=e}).then(p.persist),u.link}function s(){return l.getCapability("action").perform("remove")}function a(){r.select(t)}function c(){return r.get()===t}var l=t&&t.domainObject,u=l&&l.getModel()||{},d=l&&l.getCapability("mutation"),p=l&&l.getCapability("persistence"),f=l&&l.getCapability("type"),h=new e(t);return f&&f.instanceOf("activity")&&d&&p&&(t.modes=i,t.link=o),t.parent&&(t.remove=s),r&&(t.select=a,t.selected=c),t.allowDropIn=h.allowDropIn,t.allowDropAfter=h.allowDropAfter,t.drop=h.drop,t}var n="modes";return t}),define("platform/features/timeline/src/controllers/swimlane/TimelineColorAssigner",[],function(){function e(e){function r(){var r,i={};return Object.keys(e).forEach(function(t){i[e[t]]=!0}),t.forEach(function(e){r=i[e]||r?r:e}),r||n}return{get:function(t){return e[t]},assign:function(t,n){e[t]="string"==typeof n?n:r()},release:function(t){delete e[t]}}}var t=["#20b2aa","#9acd32","#ff8c00","#d2b48c","#40e0d0","#4169ff","#ffd700","#6a5acd","#ee82ee","#cc9966","#99cccc","#66cc33","#ffcc00","#ff6633","#cc66ff","#ff0066","#ffff00","#800080","#00868b","#008a00","#ff0000","#0000ff","#f5deb3","#bc8f8f","#4682b4","#ffafaf","#43cd80","#cdc1c5","#a0522d","#6495ed"],n="#000000";return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineProxy",[],function(){function e(e,t){function n(e){var t=e.getCapability("action"),n=t?t.getActions("add"):[];n.forEach(function(e){i[e.getMetadata().type]=e})}function r(){var r=t&&t.get(),i=r&&r.domainObject;n(i||e)}var i={};return n(e),{add:function(e){return r(),i[e]?i[e].perform():void 0}}}return e}),define("platform/features/timeline/src/controllers/swimlane/TimelineSwimlanePopulator",["./TimelineSwimlane","./TimelineSwimlaneDecorator","./TimelineColorAssigner","./TimelineProxy"],function(e,t,n,r){function i(i,o,s){function a(e){e&&(g=Math.min(g,e.getStart()),y=Math.max(y,e.getEnd()))}function c(n,r,i){function l(e,t){c(e,u,t)}var u,d=n.domainObject;d&&(u=new t(new e(d,f,o,r,i||0),s),d.useCapability("timespan").then(a),m.push(u),((r||{}).children||[]).push(u),n.composition.forEach(l))}function l(e,t,n){var r=e[n||0];n=n||0,t.forEach(function(t){t.id===r&&(n<e.length-1?l(e,t.children,n+1):s.select(t))})}function u(e){function t(e){var t=s&&s.get(),n=t&&t.idPath;m=[],c(e),n&&m.length>0&&l(n,[m[0]])}e?i.load(e,"timespan").then(t):t({}),s&&s.proxy(e&&new r(e,s)),h=e}function d(e){s=e,u(h)}function p(){var e=o.colors||{};f=new n(e),o.colors=e,u(h)}var f,h,m=[],g=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;return p(),{selection:d,populate:u,get:function(){return m},start:function(){return g},end:function(){return y},configure:function(e){o=e,p()}}}return i}),define("platform/features/timeline/src/controllers/graph/TimelineGraph",[],function(){function e(e,t,n){function r(){return p>=f?f-1:p}function i(){return p>=f?p+1:f}function o(){p=d.map(function(e){return e.min}).reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY),f=d.map(function(e){return e.max}).reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY),p=p===Number.POSITIVE_INFINITY?f:p,p=p===Number.NEGATIVE_INFINITY?0:p,f=f===Number.NEGATIVE_INFINITY?p:f}function s(){l.lines=u.filter(function(e){return e.points>1}),l.origin[1]=r(),l.dimensions[1]=i()-r()}function a(e,t){var r,i=n.render(e),a=u[t],c=d[t];for(r=1;r<i.length;r+=2)c.min=Math.min(i[r],c.min),c.max=Math.max(i[r],c.max);a.buffer=i,a.points=e.getPointCount(),a.color=n.decode(h[t]),a.points>0&&o(),s()}function c(n,r){var i=t[n],o=i.useCapability("graph");o&&o.then(function(t){t[e]&&a(t[e],r)})}var l={origin:[0,0],dimensions:[0,0],modified:0},u=[],d=[],p=0,f=0,h=Object.keys(t);return u=h.map(function(){return{points:0}}),d=h.map(function(){return{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}}),h.forEach(c),{minimum:r,maximum:i,setBounds:function(e,t){l.origin=[e,l.origin[1]],l.dimensions=[t,l.dimensions[1]]},refresh:function(){h.forEach(c)},key:e,drawingObject:l}}return e}),define("platform/features/timeline/src/controllers/graph/TimelineGraphRenderer",[],function(){function e(){return{render:function(e){var t,n=e.getPointCount(),r=new Float32Array(2*n);for(t=0;n>t;t+=1)r[2*t]=e.getDomainValue(t),r[2*t+1]=e.getRangeValue(t);return r},decode:function(e){return e=/^#[A-Fa-f0-9]{6}$/.test(e)?e:"#000000",[e.substring(1,3),e.substring(3,5),e.substring(5,7)].map(function(e){return parseInt(e,16)/255}).concat([1])}}}return e}),define("platform/features/timeline/src/controllers/graph/TimelineGraphPopulator",["./TimelineGraph","./TimelineGraphRenderer"],function(e,t){function n(n){function r(e,t){return(e&&e.getId&&e.getId())===(t&&t.getId&&t.getId())}function i(e,t){function n(n){return n.map(function(n){return i(e[n],t[n])}).reduce(function(e,t){return e&&t},!0)}var o,s;return"function"==typeof(e&&e.getId)?r(e,t):(o=Object.keys(e||{}).sort(),s=Object.keys(t||{}).sort(),o.length===s.length&&n(o))}function o(t){function r(e){function t(e){return Object.keys(e)}var r=e.domainObject.useCapability("graph");return n.when(r?r.then(t):[])}function o(e){return r(e).then(function(t){t.forEach(function(t){p[t]=p[t]||{},p[t][e.color()]=e.domainObject})})}function l(t){return new e(t,p[t],c)}function u(e){return e.graph()&&e.domainObject.hasCapability("graph")}function d(){i(a,p)?s.forEach(function(e){e.refresh()}):(s=Object.keys(p).sort().map(l),a=p)}var p={};n.all(t.filter(u).map(o)).then(d)}var s=[],a={},c=new t;return{populate:o,get:function(){return s}}}return n}),define("platform/features/timeline/src/controllers/drag/TimelineDragHandler",[],function(){function e(e,t){function n(e){return"string"!=typeof e&&e.getId?e.getId():e}function r(e){var t=e.getId(),n=e.useCapability("timespan");n&&n.then(function(n){s[t]=n,c[t]=e.getCapability("mutation"),a[t]=e.getCapability("persistence"),l[t]=e.getModel().composition||[]})}function i(e){r(e.domainObject),e.composition.forEach(i)}function o(e){var t=a[e],n=c[e];n&&n.mutate(function(){}),t&&t.persist()}var s={},a={},c={},l={},u={};return t.load(e,"timespan").then(i),{ids:function(){return Object.keys(s).sort()},persist:function(){Object.keys(u).forEach(o),u={}},start:function(e,t){var r=s[n(e)];return"number"==typeof t&&r&&(r.setStart(Math.min(Math.max(t,0),r.getEnd())),u[n(e)]=!0),r&&r.getStart()},end:function(e,t){var r=s[n(e)];return"number"==typeof t&&r&&(r.setEnd(Math.max(t,r.getStart())),u[n(e)]=!0),r&&r.getEnd()},duration:function(e,t){var r=s[n(e)];return"number"==typeof t&&r&&(r.setDuration(Math.max(t,0)),u[n(e)]=!0),r&&r.getDuration()},move:function(e,t){function r(e){var r,i,o=s[e];o&&(r=o.getStart(),i=o.getEnd(),o.setStart(r+t),o.setEnd(i+t),u[n(e)]=!0)}for(var i,o={},a=[n(e)];a.length>0;)e=a.shift(),o[e]||(o[e]=!0,a=a.concat(l[e]||[]));i=Object.keys(o).map(function(e){return s[e]?s[e].getStart():Number.POSITIVE_INFINITY}).reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY),t=Math.max(t,-i),0!==t&&Object.keys(o).forEach(r)}}}return e}),define("platform/features/timeline/src/controllers/drag/TimelineSnapHandler",[],function(){function e(e){function t(t,n,r){function i(e){return e!==r}function o(e){var n=Math.abs(e-t);d>n&&(u=e,d=n)}function s(t){return e.start(t)}function a(t){return e.end(t)}var c,l,u=t,d=n;return c=e.ids().filter(i),l=c.map(s).concat(c.map(a)),l.forEach(o),u}return{snap:t}}return e}),define("platform/features/timeline/src/TimelineConstants",{HANDLE_WIDTH:32,SNAP_WIDTH:16}),define("platform/features/timeline/src/controllers/drag/TimelineStartHandle",["../../TimelineConstants"],function(e){function t(t,n,r){function i(n,i){return r.snap(n,i.toMillis(e.SNAP_WIDTH),t)}var o;return{begin:function(){o=n.start(t)},drag:function(e,r){void 0!==o&&n.start(t,i(o+r.toMillis(e),r))},finish:function(){o=void 0,n.persist()},style:function(r){return{left:r.toPixels(n.start(t))+"px",width:e.HANDLE_WIDTH+"px"}}}}return t}),define("platform/features/timeline/src/controllers/drag/TimelineEndHandle",["../../TimelineConstants"],function(e){function t(t,n,r){function i(n,i){return r.snap(n,i.toMillis(e.SNAP_WIDTH),t)}var o;return{begin:function(){o=n.end(t)},drag:function(e,r){void 0!==o&&n.end(t,i(o+r.toMillis(e),r))},finish:function(){o=void 0,n.persist()},style:function(r){return{left:r.toPixels(n.end(t))-e.HANDLE_WIDTH+"px",width:e.HANDLE_WIDTH+"px"}}}}return t}),define("platform/features/timeline/src/controllers/drag/TimelineMoveHandle",["../../TimelineConstants"],function(e){function t(t,n,r){function i(n,i){return r.snap(n,i.toMillis(e.SNAP_WIDTH),t)}function o(e,r){var o=r.toMillis(e),c=s+o,l=a+o,u=i(c,r),d=i(l,r),p=Math.abs(u-c),f=Math.abs(d-l),h=!1;return h=p>0&&f>0?p>f:f>0,h?d-n.end(t):u-n.start(t)}var s,a;return{begin:function(){s=n.start(t),a=n.end(t)},drag:function(e,r){void 0!==s&&void 0!==a&&0!==e&&n.move(t,o(e,r))},finish:function(){s=void 0,a=void 0,n.persist()},style:function(r){return{left:r.toPixels(n.start(t))+e.HANDLE_WIDTH+"px",width:r.toPixels(n.duration(t))-2*e.HANDLE_WIDTH+"px"}}}}return t}),define("platform/features/timeline/src/controllers/drag/TimelineDragHandleFactory",["./TimelineStartHandle","./TimelineEndHandle","./TimelineMoveHandle"],function(e,t,n){function r(e,t){return{handles:function(n){function r(n){return new n(a,e,t)}var s=n.getCapability("type"),a=n.getId();return(s&&s.instanceOf("timeline")?o:i).map(r)}}}var i=[e,n,t],o=[e,n];return r}),define("platform/features/timeline/src/controllers/drag/TimelineDragPopulator",["./TimelineDragHandler","./TimelineSnapHandler","./TimelineDragHandleFactory"],function(e,t,n){function r(r){function i(){l=a&&c?a.handles(c):[]}function o(o){var s=o&&new e(o,r);a=s&&new n(s,new t(s)),i()}function s(e){c=e&&e.domainObject,i()}var a,c,l=[];return{get:function(){return l},populate:o,select:s}}return r}),define("platform/features/timeline/src/controllers/TimelineController",["./swimlane/TimelineSwimlanePopulator","./graph/TimelineGraphPopulator","./drag/TimelineDragPopulator"],function(e,t,n){function r(r,i,o,s){function a(){var e=0;return p.get().forEach(function(t){e+=t.domainObject.getModel().modified||0}),e}function c(){var e=0,t=1;return p.get().forEach(function(n){e+=n.graph()?0:t,t*=2}),e}function l(){p.populate(r.domainObject),h.populate(r.domainObject),f.populate(p.get())}function u(){f.populate(p.get())}function d(){f&&f.get().forEach(function(e){e.refresh()})}var p=new e(o,r.configuration||{},r.selection),f=new t(i),h=new n(o);return r.$watch("configuration",p.configure),r.$watch("domainObject",p.populate),r.$watch(a,l),r.$watch(c,u),r.$watch("selection",p.selection),r.$watch("selection.get()",h.select),r.scroll={x:0,y:0},r.panes={},{end:p.end.bind(p),swimlanes:p.get,graphs:f.get,handles:h.get,refresh:d}}return r}),define("platform/features/timeline/src/controllers/TimelineGraphController",[],function(){function e(e,t){function n(e){var t=e.key;t&&!i[t]&&(i[t]=e)}function r(e){(e.graphs||[]).forEach(function(t){t.setBounds(e.origin,e.duration)})}var i={},o={};return t.forEach(n),e.$watchCollection("parameters",r),{label:function(e){var t=e.key,n=i[t]||{},r=n.name||"",s=n.units,a=e.minimum()||0,c=e.maximum()||0,l=o[t]||{};return o[t]=l,l.title=r+(s?" ("+s+")":""),l.low=a.toFixed(3),l.middle=((a+c)/2).toFixed(3),l.high=c.toFixed(3),l}}}return e}),define("platform/features/timeline/src/controllers/TimelineDateTimeController",[],function(){function e(e){function t(t){var n,r=parseInt(t.days,10)||0,i=parseInt(t.hours,10)||0,o=parseInt(t.minutes,10)||0,s=parseInt(t.seconds,10)||0,a="SET";n=24*r,n=60*(i+n),n=60*(o+n),n=1e3*(s+n),e.ngModel[e.field]={timestamp:n,epoch:a}}function n(t){var n=(t||{}).timestamp||0,r=e.datetime;n=Math.floor(n/1e3),r.seconds=n%60,n=Math.floor(n/60),r.minutes=n%60,n=Math.floor(n/60),r.hours=n%24,n=Math.floor(n/24),r.days=n}function r(){return e.ngModel[e.field]}e.$watchCollection("datetime",t),e.$watchCollection(r,n),e.datetime={},n(r())}return e}),define("platform/features/timeline/src/controllers/TimelineZoomController",[],function(){function e(e,n,r){function i(e){return e/p*u[d]}function o(e){return p*e/u[d]}function s(e){isNaN(e)||(d=Math.min(Math.max(e,0),u.length-1))}function a(t){n.requestAnimationFrame(function(){e.scroll.x=t,e.$apply()})}function c(t){var n=t.getDuration();for(d=0;i(e.scroll.width)<n&&d<u.length-1;)d+=1;a(o(t.getStart()))}function l(){e.domainObject&&e.domainObject.useCapability("timespan").then(c)}var u=r.levels||[1e3],d=Math.floor(u.length/2),p=r.width||200;return e.$watch("domainObject",l),{zoom:function(t){if(arguments.length>0&&!isNaN(t)){var n=e.scroll,r=this.toMillis(n.x+n.width/2);s(d+t),a(this.toPixels(r)-n.width/2)}return u[d]},fit:l,toPixels:o,toMillis:i,width:function(n){var r=Math.ceil(o(n*(1+t)));return Math.max(e.scroll.width,r)}}}var t=.25;return e}),define("platform/features/timeline/src/controllers/TimelineTickController",["../TimelineFormatter"],function(e){function t(){function e(e,t,r,i){for(var o,s=[];s.length<t;)o=e+r*s.length,s.push({left:o,text:n.format(i(o))});return s}function t(t,n,l,u){var d=Math.floor(t/l)*l,p=Math.ceil((t+n)/l)*l,f=(p-d)/l+1,h=u(d),m=u(p),g=r!==d||o!==f||i!==l||s!==h||a!==m;return g&&(c=e(d,f,l,u),r=d,o=f,i=l,s=h,a=m),c}var r,i,o,s,a,c=[];return{labels:t}}var n=new e;return t}),define("platform/features/timeline/src/controllers/TimelineTableController",["../TimelineFormatter"],function(e){function t(){function e(e){return n.format(e)}return{niceTime:e}}var n=new e;return t}),define("platform/features/timeline/src/controllers/TimelineGanttController",[],function(){function e(e){function t(t,n,r){return Math.max(r(t.getStart()),n.x-e)}function n(n,r,i){var o=t(n,r,i),s=Math.min(i(n.getEnd()),r.x+r.width+e);return s-o}return{left:t,width:n}}return e}),define("platform/features/timeline/src/controllers/ActivityModeValuesController",[],function(){function e(e){function t(e){var t=(e||{}).key;t&&(n[t]=e)}var n={};return e.forEach(t),{metadata:function(e){return n[e]}}}return e}),define("platform/features/timeline/src/capabilities/ActivityTimespan",[],function(){function e(e,t){function n(){return e.start.timestamp}function r(){return e.start.timestamp+e.duration.timestamp}function i(){return e.duration.timestamp}function o(){return e.start.epoch}function s(n){var i=r();t.mutate(function(e){e.start.timestamp=Math.max(n,0),e.duration.timestamp=Math.max(i-n,0)},e.modified)}function a(n){t.mutate(function(e){e.duration.timestamp=Math.max(n,0)},e.modified)}function c(r){var i=n();t.mutate(function(e){e.duration.timestamp=Math.max(r-i,0)},e.modified)}return{getStart:n,getDuration:i,getEnd:r,setStart:s,setDuration:a,setEnd:c,getEpoch:o}}return e}),define("platform/features/timeline/src/capabilities/ActivityTimespanCapability",["./ActivityTimespan"],function(e){function t(t,n){function r(){return t.when(new e(n.getModel(),n.getCapability("mutation")))}return{invoke:r}}return t.appliesTo=function(e){return e&&"activity"===e.type},t}),define("platform/features/timeline/src/capabilities/TimelineTimespan",[],function(){function e(e,t,n){function r(){return e.start.timestamp}function i(e){return e.getEnd()}function o(e,t){return Math.max(e,t)}function s(){return n.map(i).reduce(o,r())}function a(){return s()-r()}function c(n){t.mutate(function(e){e.start.timestamp=Math.max(n,0)},e.modified)}function l(){}function u(){}function d(){return e.start.epoch}return{getStart:r,getDuration:a,getEnd:s,setStart:c,setDuration:l,setEnd:u,getEpoch:d}}return e}),define("platform/features/timeline/src/capabilities/TimelineTimespanCapability",["./TimelineTimespan"],function(e){function t(t,n){function r(e){return e.useCapability("timespan")}function i(e){return e.hasCapability("timespan")}function o(t){return new e(n.getModel(),n.getCapability("mutation"),t)}function s(e){return t.all(e.filter(i).map(r)).then(o)}function a(){return n.useCapability("composition").then(s)}return{invoke:a}}return t.appliesTo=function(e){return e&&"timeline"===e.type},t}),define("platform/features/timeline/src/capabilities/UtilizationCapability",[],function(){function e(e,t){function n(e,t){return(e||[]).concat(t||[])}function r(e,t,n){return 0===t||n[t-1]!==e}function i(e){return e.filter(r)}function o(e){return e.sort()}function s(e){return e.reduce(n,[])}function a(){return e.when(t.useCapability("composition")||[])}function c(){var n=t.getCapability("relationship"),r=n&&n.getRelatedObjects("modes");return e.when(r||[])}function l(){function e(e){var t=e.getCapability("cost");t&&t.resources().forEach(function(e){o[e]=o[e]||0,o[e]+=t.cost(e)})}function n(t){t.forEach(e)}function r(){return t.useCapability("timespan")}function i(e){return Object.keys(o).sort().map(function(t){return{key:t,value:o[t],start:e.getStart(),end:e.getEnd(),epoch:e.getEpoch()}})}var o={};return c().then(n).then(r).then(i)}function u(e){return e.useCapability("utilization")}function d(e){var t=e.getCapability("utilization");return t&&t.resources()}function p(t){return e.all(t.map(u)).then(s)}function f(t){return e.all(t.map(d)).then(s)}function h(){return a().then(p)}function m(e){var t=e.getCapability("cost");return t?t.resources():[]}function g(e){return e.map(m)}function y(){return c().then(g).then(s)}function v(){return a().then(f)}function b(){return e.all([y(),v()]).then(s).then(o).then(i)}function w(){return e.all([l(),h()]).then(s)}return{resources:b,internal:l,invoke:w}}return e.appliesTo=function(e){return e&&("timeline"===e.type||"activity"===e.type)},e}),define("platform/features/timeline/src/capabilities/ResourceGraph",[],function(){function e(e,t){return e.slice().sort(function(e,n){return e[t]-n[t]})}function t(t){function n(e,t,n){return 0===t||t===n.length-1||e.domain!==n[t-1].domain||e.domain!==n[t+1].domain}function r(e,t){l.push({domain:e,range:u}),u+=t,l.push({domain:e,range:u})}function i(){var e=a.shift();r(e.start,e.value)}function o(){var e=c.shift();r(e.end,-e.value)}function s(){return c.length<1||a.length>0&&a[0].start<=c[0].end}for(var a=e(t,"start"),c=e(t,"end"),l=[],u=0;a.length>0||c.length>0;)(s()?i:o)();return l=l.filter(n),{getPointCount:function(){return l.length},getDomainValue:function(e){return l[e].domain},getRangeValue:function(e){return l[e].range}}}return t}),define("platform/features/timeline/src/capabilities/CumulativeGraph",[],function(){function e(e,t,n,r,i){function o(e,t,n,r){return e+(r-t)/n}function s(){function s(e,r){var s=c[c.length-1],a=e-s.domain,u=a*l*i,d=s.range+u;t>d&&(c.push({domain:o(s.domain,s.range,l*i,t),range:t}),d=t),d>n&&(c.push({domain:o(s.domain,s.range,l*i,n),range:n}),d=n),a>0&&c.push({domain:e,range:d}),l=r}var a,c=[],l=0;for(c.push({domain:0,range:r}),a=0;a<e.getPointCount();a+=1)s(e.getDomainValue(a),e.getRangeValue(a));return c}function a(e){e.range=100*(e.range-t)/(n-t)}var c;return c=s(),c.forEach(a),{getPointCount:function(){return c.length},getDomainValue:function(e){return c[e].domain},getRangeValue:function(e){return c[e].range;
}}}return e}),define("platform/features/timeline/src/capabilities/GraphCapability",["./ResourceGraph","./CumulativeGraph"],function(e,t){function n(n,r){function i(n){var i={},o={};return n.forEach(function(e){var t=e.key;i[t]=i[t]||[],i[t].push(e)}),Object.keys(i).forEach(function(t){o[t]=new e(i[t])}),"timeline"===r.getModel().type&&o.power&&r.getModel().capacity>0&&(o.battery=new t(o.power,0,r.getModel().capacity,r.getModel().capacity,1/36e5)),o}return{invoke:function(){return n.when(r.useCapability("utilization")||[]).then(i)}}}return n.appliesTo=function(e){return e&&("timeline"===e.type||"activity"===e.type)},n}),define("platform/features/timeline/src/capabilities/CostCapability",[],function(){function e(e){var t=e.getModel();return{resources:function(){return Object.keys(t.resources||{}).sort()},cost:function(e){return(t.resources||{})[e]||0},invoke:function(){return t.resources||{}}}}return e.appliesTo=function(e){return"mode"===(e||{}).type},e}),define("platform/features/timeline/src/directives/SwimlaneDragConstants",{MCT_DRAG_TYPE:"mct-domain-object-id",MCT_EXTENDED_DRAG_TYPE:"mct-domain-object",TIMELINE_SWIMLANE_DRAG_TYPE:"timeline-swimlane"}),define("platform/features/timeline/src/directives/MCTSwimlaneDrop",["./SwimlaneDragConstants"],function(e){function t(t){function n(n,r,i){var o=(n||{}).originalEvent||n,s=r[0].offsetHeight,a=r[0].getBoundingClientRect(),c=o.pageY-a.top,l=t.getData(e.MCT_DRAG_TYPE),u=t.getData(e.MCT_EXTENDED_DRAG_TYPE);return l&&(o.dataTransfer.dropEffect="move",i.highlight(.75*s>c&&i.allowDropIn(l,u)),i.highlightBottom(c>=.75*s&&i.allowDropAfter(l,u)),i.highlight()||i.highlightBottom())?(o.preventDefault(),!1):void 0}function r(n,r,i){var o=(n||{}).originalEvent||n,s=o.dataTransfer,a=s.getData(e.MCT_DRAG_TYPE),c=t.getData(e.TIMELINE_SWIMLANE_DRAG_TYPE),l=c?c.domainObject:t.getData(e.MCT_EXTENDED_DRAG_TYPE);a&&(o.stopPropagation(),n.preventDefault(),i.drop(a,l)),i.highlight(!1),i.highlightBottom(!1)}function i(e,t,i){function o(){return e.$eval(i.mctSwimlaneDrop)}t.on("dragover",function(r){var i=o(),s=i.highlight(),a=i.highlightBottom();n(r,t,i),(a!==i.highlightBottom()||s!==i.highlight())&&e.$apply()}),t.on("drop",function(n){r(n,t,o()),e.$apply()}),t.on("dragleave",function(){var t=o(),n=t.highlight()||t.highlightBottom();t.highlight(!1),t.highlightBottom(!1),n&&e.$apply()})}return{restrict:"A",link:i}}return t}),define("platform/features/timeline/src/directives/MCTSwimlaneDrag",["./SwimlaneDragConstants"],function(e){function t(t){function n(n,r,i){function o(){return n.$eval(i.mctSwimlaneDrag)}r.on("dragstart",function(){t.setData(e.TIMELINE_SWIMLANE_DRAG_TYPE,o())}),r.on("dragend",function(){t.removeData(e.TIMELINE_SWIMLANE_DRAG_TYPE)})}return{restrict:"A",link:n}}return t}),define("platform/features/timeline/src/services/ObjectLoader",[],function(){function e(e){function t(n,r){function i(e){return!!e}function o(e){return e&&e.hasCapability(r)}function s(e){return t(e,p)}function a(e){f.composition=e}function c(e){return!h[e.getId()]}function l(t){return e.all(t.filter(p).filter(c).map(s)).then(a)}function u(){return h[n.getId()]=!0,f}function d(){return h[n.getId()]=!0,n.useCapability("composition").then(l).then(u)}var p,f={domainObject:n,composition:[]},h={};return p="function"==typeof r?r:"string"==typeof r?o:i,n.hasCapability("composition")?d():e.when(f)}return{load:t}}return e}),define("text!platform/features/timeline/res/templates/values.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<ul ng-controller="ActivityModeValuesController as controller" class="cols cols-2-ff properties">\r\n    <li ng-repeat="(key, value) in cost" class="l-row s-row">\r\n        <span class="col col-100px s-title">{{controller.metadata(key).name}}</span>\r\n        <span class="col s-value">{{value}} {{controller.metadata(key).units}}</span>\r\n    </li>\r\n</ul>'}),define("text!platform/features/timeline/res/templates/timeline.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="s-timeline l-timeline-holder split-layout vertical splitter-sm"\r\n     ng-controller="TimelineController as timelineController">\r\n\r\n<mct-split-pane anchor="left" class="abs" position="pane.x">\r\n    <!-- LEFT PANE: TABULAR AND RESOURCE LEGEND AREAS -->\r\n    <mct-split-pane anchor="bottom"\r\n                    position="pane.y"\r\n                    class="abs horizontal split-pane-component l-timeline-pane l-pane-l t-pane-v">\r\n        <!-- TOP PANE TABULAR AREA -->\r\n        <div class="split-pane-component s-timeline-tabular l-timeline-pane t-pane-h l-pane-top">\r\n            <!-- TABULAR LEFT FIXED AREA -->\r\n            <div class="t-pane-v l-pane-l l-tabular-l"\r\n                ng-if="true">\r\n\r\n                    <div class="t-header l-header s-header">\r\n                        <div class="l-cols">\r\n                            <span title="Resource Graphing: click a row to toggle" class="l-col l-col-icon l-plot-resource icon-plot-resource"></span>\r\n                            <span title="Activity Links" class="l-col  l-col-icon l-col-link icon-chain-links"></span>\r\n                            <span class="l-col l-title">Title</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="t-swimlanes-holder l-swimlanes-holder"\r\n                         mct-scroll-y="scroll.y">\r\n                        <mct-include key="\'timeline-tabular-swimlane-cols-tree\'"\r\n                                     parameters="{ commit: commit }"\r\n                                     ng-repeat="swimlane in timelineController.swimlanes()"\r\n                                     ng-model="swimlane">\r\n                        </mct-include>\r\n                    </div>\r\n\r\n            </div>\r\n\r\n            <!-- TABULAR RIGHT HORZ SCROLLING AREA -->\r\n            <div class="t-pane-v l-pane-r l-tabular-r">\r\n                <div class="l-width">\r\n                    <div class="t-header l-header s-header">\r\n                        <div class="l-cols">\r\n                            <span class="l-col l-start">Start</span>\r\n                            <span class="l-col l-end">End</span>\r\n                            <span class="l-col l-duration">Duration</span>\r\n                            <span class="l-col l-activity-modes">Activity Modes</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="t-swimlanes-holder l-swimlanes-holder"\r\n                         mct-scroll-y="scroll.y">\r\n                        <mct-include key="\'timeline-tabular-swimlane-cols-data\'"\r\n                                     ng-repeat="swimlane in timelineController.swimlanes()"\r\n                                     ng-model="swimlane">\r\n                        </mct-include>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- HORZ SPLITTER -->\r\n        <mct-splitter></mct-splitter>\r\n\r\n        <!-- BOTTOM PANE RESOURCE LEGEND -->\r\n        <div class="split-pane-component abs l-timeline-pane t-pane-h l-pane-btm s-timeline-resource-legend l-timeline-resource-legend">\r\n            <div class="l-title s-title">{{ngModel.title}}Resource Graph Legend</div>\r\n            <div class="l-legend-items legend">\r\n                <mct-include key="\'timeline-legend-item\'"\r\n                             ng-repeat="swimlane in timelineController.swimlanes()"\r\n                             ng-model="swimlane"\r\n                             ng-show="swimlane.graph()">\r\n                </mct-include>\r\n            </div>\r\n        </div>\r\n    </mct-split-pane>\r\n\r\n\r\n    <!-- MAIN VERTICAL SPLITTER -->\r\n    <mct-splitter></mct-splitter>\r\n\r\n\r\n    <!-- RIGHT PANE: GANTT AND RESOURCE PLOTS -->\r\n    <span ng-controller="TimelineZoomController as zoomController" class="abs">\r\n    <mct-split-pane anchor="bottom"\r\n                    position="pane.y"\r\n                    class="abs split-pane-component l-timeline-pane l-pane-r t-pane-v">\r\n\r\n        <!-- TOP PANE GANTT BARS -->\r\n        <div class="split-pane-component l-timeline-pane t-pane-h l-pane-top t-timeline-gantt l-timeline-gantt s-timeline-gantt">\r\n            <div class="l-hover-btns-holder s-hover-btns-holder">\r\n                <a class="s-button icon-arrows-out"\r\n                   ng-click="zoomController.fit()"\r\n                   ng-show="true"\r\n                   title="Zoom to fit">\r\n                </a>\r\n\r\n                <a class="s-button icon-magnify-in"\r\n                   ng-click="zoomController.zoom(-1)"\r\n                   ng-show="true"\r\n                   title="Zoom in">\r\n                </a>\r\n\r\n                <a class="s-button icon-magnify-out"\r\n                   ng-click="zoomController.zoom(1)"\r\n                   ng-show="true"\r\n                   title="Zoom out">\r\n                </a>\r\n            </div>\r\n\r\n            <div style="overflow: hidden; position: absolute; left: 0; top: 0; right: 0; height: 30px;" mct-scroll-x="scroll.x">\r\n                <mct-include key="\'timeline-ticks\'"\r\n                             parameters="{\r\n                                         fullWidth: zoomController.width(timelineController.end()),\r\n                                         start: scroll.x,\r\n                                         width: scroll.width,\r\n                                         step: zoomController.toPixels(zoomController.zoom()),\r\n                                         toMillis: zoomController.toMillis\r\n                                         }">\r\n                </mct-include>\r\n            </div>\r\n\r\n            <div class="t-swimlanes-holder l-swimlanes-holder"\r\n                 mct-scroll-x="scroll.x"\r\n                 mct-scroll-y="scroll.y">\r\n                <div class="l-width-control"\r\n                     ng-style="{ width: zoomController.width(timelineController.end()) + \'px\' }">\r\n                    <div class="t-swimlane s-swimlane l-swimlane"\r\n                         ng-repeat="swimlane in timelineController.swimlanes()"\r\n                         ng-class="{\r\n                                   exceeded: swimlane.exceeded(),\r\n                                   selected: selection.selected(swimlane),\r\n                                   \'drop-into\': swimlane.highlight(),\r\n                                   \'drop-after\': swimlane.highlightBottom()\r\n                                   }"\r\n                         ng-click="selection.select(swimlane)"\r\n                         mct-swimlane-drop="swimlane">\r\n\r\n                        <mct-representation key="\'gantt\'"\r\n                                            mct-object="swimlane.domainObject"\r\n                                            parameters="{\r\n                                                        scroll: scroll,\r\n                                                        toPixels: zoomController.toPixels\r\n                                                        }">\r\n                        </mct-representation>\r\n\r\n                        <span ng-if="selection.selected(swimlane)">\r\n                            <span ng-repeat="handle in timelineController.handles()"\r\n                                  ng-style="handle.style(zoomController)"\r\n                                  style="position: absolute; top: 0px; bottom: 0px;"\r\n                                  class="handle"\r\n                                  ng-class="{ start: $index === 0, mid: $index === 1, end: $index > 1 }"\r\n                                  mct-drag-down="handle.begin()"\r\n                                  mct-drag="handle.drag(delta[0], zoomController); timelineController.refresh()"\r\n                                  mct-drag-up="handle.finish()">\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- HORZ SPLITTER -->\r\n        <mct-splitter></mct-splitter>\r\n\r\n        <!-- BOTTOM PANE RESOURCE GRAPHS AND RIGHT PANE HORIZONTAL SCROLL CONTROL -->\r\n        <div class="split-pane-component l-timeline-resource-graph l-timeline-pane t-pane-h l-pane-btm">\r\n            <div class="l-graphs-holder"\r\n                 mct-resize="scroll.width = bounds.width">\r\n                <div class="t-graphs l-graphs">\r\n                    <mct-include key="\'timeline-resource-graphs\'"\r\n                                 parameters="{\r\n                                             origin: zoomController.toMillis(scroll.x),\r\n                                             duration: zoomController.toMillis(scroll.width),\r\n                                             graphs: timelineController.graphs()\r\n                                             }">\r\n                    </mct-include>\r\n                </div>\r\n            </div>\r\n            <div mct-scroll-x="scroll.x"\r\n                 class="t-pane-r-scroll-h-control l-scroll-control s-scroll-control">\r\n                <div class="l-width-control"\r\n                     ng-style="{ width: zoomController.width(timelineController.end()) + \'px\' }">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </mct-split-pane>\r\n    </span>\r\n</mct-split-pane>\r\n</div>\r\n'}),define("text!platform/features/timeline/res/templates/activity-gantt.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="t-timeline-gantt l-timeline-gantt s-timeline-gantt"\r\n     ng-class="timespan ? { sm: gantt.width(timespan, parameters.scroll, parameters.toPixels) < 25 } : {}"\r\n     title="{{model.name}}"\r\n     ng-controller="TimelineGanttController as gantt"\r\n     ng-style="timespan ? {\r\n               left: gantt.left(timespan, parameters.scroll, parameters.toPixels) + \'px\',\r\n               width: gantt.width(timespan, parameters.scroll, parameters.toPixels) + \'px\'\r\n               } : {}">\r\n\r\n    <div class="bar">\r\n		<span class="s-activity-type {{type.getCssClass()}}"></span>\r\n		<span class="s-title">\r\n            {{model.name}}\r\n        </span>\r\n	</div>\r\n\r\n</div>\r\n'}),define("text!platform/features/timeline/res/templates/tabular-swimlane-cols-tree.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="t-swimlane s-swimlane l-swimlane {{ngModel.activitystate}} {{ngModel.swimlanestate}}"\r\n     mct-swimlane-drop="ngModel"\r\n     ng-class="{\r\n               exceeded: ngModel.exceeded(),\r\n               selected: ngModel.selected(swimlane),\r\n               \'drop-into\': ngModel.highlight(),\r\n               \'drop-after\': ngModel.highlightBottom()\r\n               }">\r\n    <div class="l-cols">\r\n        <span class="l-col l-col-icon l-plot-resource"\r\n              ng-click="ngModel.toggleGraph(); parameters.commit()"\r\n              title="Click to enable or disable inclusion in Resource Graphing">\r\n            <span class="icon-plot-resource s-toggle-icon"\r\n                  ng-class="{ active: ngModel.graph() }">\r\n            </span>\r\n        </span>\r\n        <span class="l-col l-col-icon l-link">\r\n            <a class="icon-chain-links"\r\n               target="_blank"\r\n               ng-href="{{ngModel.link()}}"\r\n               ng-if="ngModel.link().length > 0"\r\n               title="{{ngModel.link()}}"\r\n               >\r\n            </a>\r\n        </span>\r\n        <span class="l-col l-title"\r\n              ng-click="ngModel.select()"\r\n              ng-style="{ \'margin-left\': 15 * ngModel.depth + \'px\' }">\r\n            <mct-representation key="\'label\'"\r\n                                mct-object="ngModel.domainObject"\r\n                                class="rep-object-label"\r\n                                mct-swimlane-drag="ngModel">\r\n            </mct-representation>\r\n        </span>\r\n    </div>\r\n</div>\r\n'}),define("text!platform/features/timeline/res/templates/tabular-swimlane-cols-data.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="t-swimlane s-swimlane l-swimlane {{ngModel.activitystate}} {{ngModel.swimlanestate}}"\r\n     ng-class="{\r\n               exceeded: ngModel.exceeded(),\r\n               selected: ngModel.selected(swimlane),\r\n               \'drop-into\': ngModel.highlight(),\r\n               \'drop-after\': ngModel.highlightBottom()\r\n               }">\r\n	<div\r\n		class="l-cols"\r\n		ng-controller="TimelineTableController as tabularVal">\r\n		<span class="align-right l-col l-start">{{tabularVal.niceTime(ngModel.timespan().getStart())}}</span>\r\n		<span class="align-right l-col l-end">{{tabularVal.niceTime(ngModel.timespan().getEnd())}}</span>\r\n		<span class="align-right l-col l-duration">{{tabularVal.niceTime(ngModel.timespan().getDuration())}}</span>\r\n		<span class="l-col l-activity-modes"></span>\r\n	</div>\r\n</div>'}),define("text!platform/features/timeline/res/templates/resource-graphs.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="TimelineGraphController as graphController">\r\n    <div class="t-graph l-graph" ng-repeat="graph in parameters.graphs">\r\n        <div class="l-graph-area l-canvas-holder">\r\n            <mct-chart draw="graph.drawingObject"></mct-chart>\r\n        </div>\r\n        <div class="t-graph-labels l-graph-labels">\r\n            <mct-include key="\'timeline-resource-graph-labels\'"\r\n                         parameters="graphController.label(graph)"\r\n                         ng-model="graph">\r\n            </mct-include>\r\n        </div>\r\n    </div>\r\n</span>'}),define("text!platform/features/timeline/res/templates/resource-graph-labels.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="l-title s-title">\r\n    {{parameters.title}}\r\n</div>\r\n<div class="l-graph-area">\r\n	<div class="l-labels-holder l-flex-col">\r\n		<div class="t-resource-graph-tick-label tick-label-y flex-elem">\r\n            {{parameters.high}}\r\n        </div>\r\n		<div class="t-resource-graph-tick-label tick-label-y flex-elem">\r\n            {{parameters.middle}}\r\n        </div>\r\n		<div class="t-resource-graph-tick-label tick-label-y flex-elem">\r\n            {{parameters.low}}\r\n        </div>\r\n	</div>\r\n</div>'}),define("text!platform/features/timeline/res/templates/legend-item.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<!-- TO-DO: make legend item color-swatch dynamic -->\r\n<span\r\n	class="legend-item s-legend-item"\r\n	title="{{ngModel.path}}{{ngModel.domainObject.getModel().name}}"\r\n	>\r\n	<span class="color-swatch"\r\n          ng-style="{ \'background-color\': ngModel.color() }">\r\n    </span>\r\n	<span class="title-label">\r\n        <span class="l-parent-path">{{ngModel.path}}</span>\r\n        <span class="l-leaf-title">{{ngModel.domainObject.getModel().name}}</span>\r\n    </span>\r\n</span>'}),define("text!platform/features/timeline/res/templates/ticks.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="t-header l-header s-header"\r\n     ng-controller="TimelineTickController as tick"\r\n     ng-style="{ width: parameters.fullWidth + \'px\' }">\r\n\r\n    <div class="l-header-elem t-labels l-labels">\r\n        <div class="t-label l-label s-label"\r\n             ng-repeat="label in tick.labels(parameters.start, parameters.width, parameters.step, parameters.toMillis)"\r\n             ng-style="{ left: label.left + \'px\' }">\r\n            {{label.text}}\r\n        </div>\r\n    </div>\r\n    <div class="t-ticks l-ticks s-ticks"\r\n         ng-style="{ \'background-size\': parameters.step + \'px 100%\' }">\r\n    </div>\r\n    <div class="t-ticks s-ticks l-subticks"\r\n         ng-style="{ \'background-size\': (parameters.step / 40) + \'px 100%\' }">\r\n    </div>\r\n</div>\r\n'}),define("text!platform/features/timeline/res/templates/controls/datetime.html",[],function(){return"<!--\r\n Open MCT, Copyright (c) 2009-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n \"License\"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class='form-control complex datetime'>\r\n\r\n    <div class='field-hints'>\r\n        <span class='hint time sm'>Days</span>\r\n        <span class='hint time sm'>Hours</span>\r\n        <span class='hint time sm'>Minutes</span>\r\n        <span class='hint time sm'>Seconds</span>\r\n        <span class='hint' ng-if=\"structure.options.length > 0\">Time System</span>\r\n    </div>\r\n\r\n    <ng-form name=\"mctControl\">\r\n        <div class='fields' ng-controller=\"TimelineDateTimeController\">\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='days'\r\n                       min='0'\r\n                       max='9999'\r\n                       integer\r\n                       ng-pattern=\"/\\d+/\"\r\n                       ng-model='datetime.days'/>\r\n            </span>\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='hour'\r\n                       maxlength='2'\r\n                       min='0'\r\n                       max='23'\r\n                       integer\r\n                       ng-pattern='/\\d+/'\r\n                       ng-model=\"datetime.hours\"/>\r\n            </span>\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='min'\r\n                       maxlength='2'\r\n                       min='0'\r\n                       max='59'\r\n                       integer\r\n                       ng-pattern='/\\d+/'\r\n                       ng-model=\"datetime.minutes\"\r\n                       ng-required='true'/>\r\n            </span>\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='sec'\r\n                       maxlength='2'\r\n                       min='0'\r\n                       max='59'\r\n                       integer\r\n                       ng-pattern='/\\d+/'\r\n                       ng-model=\"datetime.seconds\"\r\n                       ng-required='true'/>\r\n            </span>\r\n            <span ng-if=\"structure.options.length > 0\"\r\n                  class='field control'>\r\n                SET\r\n            </span>\r\n        </div>\r\n    </ng-form>\r\n\r\n\r\n</div>\r\n";
}),define("platform/features/timeline/bundle",["./src/actions/ExportTimelineAsCSVAction","./src/controllers/TimelineController","./src/controllers/TimelineGraphController","./src/controllers/TimelineDateTimeController","./src/controllers/TimelineZoomController","./src/controllers/TimelineTickController","./src/controllers/TimelineTableController","./src/controllers/TimelineGanttController","./src/controllers/ActivityModeValuesController","./src/capabilities/ActivityTimespanCapability","./src/capabilities/TimelineTimespanCapability","./src/capabilities/UtilizationCapability","./src/capabilities/GraphCapability","./src/capabilities/CostCapability","./src/directives/MCTSwimlaneDrop","./src/directives/MCTSwimlaneDrag","./src/services/ObjectLoader","text!./res/templates/values.html","text!./res/templates/timeline.html","text!./res/templates/activity-gantt.html","text!./res/templates/tabular-swimlane-cols-tree.html","text!./res/templates/tabular-swimlane-cols-data.html","text!./res/templates/resource-graphs.html","text!./res/templates/resource-graph-labels.html","text!./res/templates/legend-item.html","text!./res/templates/ticks.html","text!./res/templates/controls/datetime.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m,g,y,v,b,w,S,$,C,x,O,T,k){k.register("platform/features/timeline",{name:"Timelines",description:"Resources, templates, CSS, and code for Timelines.",resources:"res",extensions:{actions:[{key:"timeline.export",name:"Export Timeline as CSV",category:"contextual",implementation:e,depends:["$log","exportService","notificationService","resources[]"]}],constants:[{key:"TIMELINE_MINIMUM_DURATION",description:"The minimum duration to display in a timeline view (one hour.)",value:36e5},{key:"TIMELINE_MAXIMUM_OFFSCREEN",description:"Maximum amount, in pixels, of a Gantt bar which may go off screen.",value:1e3},{key:"TIMELINE_ZOOM_CONFIGURATION",description:"Describes major tick sizes in milliseconds, and width in pixels.",value:{levels:[1e3,2e3,5e3,1e4,2e4,3e4,6e4,12e4,3e5,6e5,12e5,18e5,36e5,72e5,144e5,288e5,432e5,864e5,1728e5,432e6,864e6,1728e6,2592e6,5184e6,10368e6,20736e6,31536e6],width:200}}],types:[{key:"timeline",name:"Timeline",cssclass:"icon-timeline",description:"A time-oriented container that lets you enclose and organize other Timelines and Activities. The Timeline view provides both tabular and Gantt views as well as resource utilization graphing of Activities.",priority:502,features:["creation"],contains:["timeline","activity"],properties:[{name:"Start date/time",control:"timeline-datetime",required:!0,property:["start"],options:["SET"]},{name:"Battery capacity (Watt-hours)",control:"textfield",required:!1,conversion:"number",property:["capacity"],pattern:"^-?\\d+(\\.\\d*)?$"}],model:{composition:[],start:{timestamp:0}}},{key:"activity",name:"Activity",cssclass:"icon-activity",features:["creation"],contains:["activity"],description:"An event or process that starts and ends at a discrete datetime. Activities can be nested in other Activities, and can be added to Timelines. Activity Modes can be added to an Activity to define its resource utilization over time.",priority:501,properties:[{name:"Start date/time",control:"timeline-datetime",required:!0,property:["start"],options:["SET"]},{name:"Duration",control:"duration",required:!0,property:["duration"]}],model:{composition:[],relationships:{modes:[]},start:{timestamp:0},duration:{timestamp:0}}},{key:"mode",name:"Activity Mode",cssclass:"icon-activity-mode",features:["creation"],description:"When a sub-system utilizes Power or Communications resources over time, you can define those values in an Activity Mode. Activity Modes can then be linked to Activities to allow resource utilization graphing and estimating in a Timeline.",priority:500,model:{resources:{comms:0,power:0}},properties:[{name:"Comms (Kbps)",control:"textfield",conversion:"number",pattern:"^-?\\d+(\\.\\d*)?$",property:["resources","comms"]},{name:"Power (watts)",control:"textfield",conversion:"number",pattern:"^-?\\d+(\\.\\d*)?$",property:["resources","power"]}]}],views:[{key:"values",name:"Values",cssclass:"icon-activity-mode",template:y,type:"mode",uses:["cost"],editable:!1},{key:"timeline",name:"Timeline",cssclass:"icon-timeline",type:"timeline",description:"A time-oriented container that lets you enclose and organize other Timelines and Activities. The Timeline view provides both tabular and Gantt views as well as resource utilization graphing of Activities.",template:v,editable:!0,toolbar:{sections:[{items:[{method:"add",control:"menu-button",text:"Add",options:[{name:"Timeline",cssclass:"icon-timeline",key:"timeline"},{name:"Activity",cssclass:"icon-activity",key:"activity"}]}]},{items:[{cssclass:"icon-plot-resource",description:"Graph Resource Utilization",control:"button",method:"toggleGraph"},{cssclass:"icon-activity-mode",control:"dialog-button",description:"Apply Activity Modes...",title:"Apply Activity Modes",dialog:{control:"selector",name:"Modes",type:"mode",layout:"controls-under"},property:"modes"},{cssclass:"icon-chain-links",description:"Edit Activity Link",title:"Activity Link",control:"dialog-button",dialog:{control:"textfield",name:"Link",pattern:"^(ftp|https?)\\:\\/\\/\\w+(\\.\\w+)*(\\:\\d+)?(\\/\\S*)*$",cssclass:"l-input-lg"},property:"link"},{cssclass:"icon-gear",description:"Edit Properties...",control:"button",method:"properties"}]},{items:[{method:"remove",description:"Remove Item",control:"button",cssclass:"icon-trash"}]}]}}],stylesheets:[{stylesheetUrl:"css/timeline.css"},{stylesheetUrl:"css/timeline-espresso.css",theme:"espresso"},{stylesheetUrl:"css/timeline-snow.css",theme:"snow"}],representations:[{key:"gantt",template:b,uses:["timespan","type"]}],templates:[{key:"timeline-tabular-swimlane-cols-tree",priority:"mandatory",template:w},{key:"timeline-tabular-swimlane-cols-data",priority:"mandatory",template:S},{key:"timeline-resource-graphs",priority:"mandatory",template:$},{key:"timeline-resource-graph-labels",priority:"mandatory",template:C},{key:"timeline-legend-item",priority:"mandatory",template:x},{key:"timeline-ticks",priority:"mandatory",template:O}],controls:[{key:"timeline-datetime",template:T},{key:"duration",template:T}],controllers:[{key:"TimelineController",implementation:t,depends:["$scope","$q","objectLoader","TIMELINE_MINIMUM_DURATION"]},{key:"TimelineGraphController",implementation:n,depends:["$scope","resources[]"]},{key:"TimelineDateTimeController",implementation:r,depends:["$scope"]},{key:"TimelineZoomController",implementation:i,depends:["$scope","$window","TIMELINE_ZOOM_CONFIGURATION"]},{key:"TimelineTickController",implementation:o},{key:"TimelineTableController",implementation:s},{key:"TimelineGanttController",implementation:a,depends:["TIMELINE_MAXIMUM_OFFSCREEN"]},{key:"ActivityModeValuesController",implementation:c,depends:["resources[]"]}],capabilities:[{key:"timespan",implementation:l,depends:["$q"]},{key:"timespan",implementation:u,depends:["$q"]},{key:"utilization",implementation:d,depends:["$q"]},{key:"graph",implementation:p,depends:["$q"]},{key:"cost",implementation:f}],directives:[{key:"mctSwimlaneDrop",implementation:h,depends:["dndService"]},{key:"mctSwimlaneDrag",implementation:m,depends:["dndService"]}],services:[{key:"objectLoader",implementation:g,depends:["$q"]}],resources:[{key:"power",name:"Power",units:"watts"},{key:"comms",name:"Comms",units:"Kbps"},{key:"battery",name:"Battery State-of-Charge",units:"%"}]}})}),define("platform/features/table/src/controllers/MCTTableController",[],function(){function e(e,t,n,r){function i(e){"undefined"==typeof e.enableFilter&&(e.enableFilter=!0,e.filters={}),"undefined"==typeof e.enableSort&&(e.enableSort=!0,e.sortColumn=void 0,e.sortDirection=void 0)}var o=this;this.$scope=e,this.element=n,this.$timeout=t,this.maxDisplayRows=50,this.scrollable=n.find("div"),this.thead=n.find("thead"),this.tbody=n.find("tbody"),this.$scope.sizingRow={},this.scrollable.on("scroll",this.onScroll.bind(this)),e.visibleRows=[],i(e),e.exportAsCSV=function(){var t=e.displayHeaders;r.exportCSV(e.displayRows.map(function(e){return t.reduce(function(t,n){return t[n]=e[n].text,t},{})}),{headers:t})},e.toggleSort=function(t){e.enableSort&&(e.sortColumn!==t?(e.sortColumn=t,e.sortDirection="asc"):"asc"===e.sortDirection?e.sortDirection="desc":"desc"===e.sortDirection&&(e.sortColumn=void 0,e.sortDirection=void 0),o.setRows(e.rows))},e.$watchCollection("filters",function(){o.setRows(e.rows)}),e.$watch("headers",this.setHeaders.bind(this)),e.$watch("rows",this.setRows.bind(this)),e.$on("add:row",this.addRow.bind(this)),e.$on("remove:row",this.removeRow.bind(this)),e.resize=this.setElementSizes.bind(this)}return e.prototype.scrollToBottom=function(){var e=this;this.$scope.autoScroll&&this.$timeout(function(){e.scrollable[0].scrollTop=e.scrollable[0].scrollHeight})},e.prototype.addRow=function(e,t){var n=this.$scope.rows[t];1===this.filterRows([n]).length&&(this.insertSorted(this.$scope.displayRows,n),this.resize([this.$scope.sizingRow,n]).then(this.setVisibleRows.bind(this)).then(this.scrollToBottom.bind(this)))},e.prototype.removeRow=function(e,t){var n=this.$scope.rows[t],r=this.$scope.displayRows.indexOf(n);-1!==r&&(this.$scope.displayRows.splice(r,1),this.setVisibleRows())},e.prototype.onScroll=function(e){this.scrollable[0].scrollTop<this.scrollable[0].scrollHeight-this.scrollable[0].offsetHeight?this.$scope.autoScroll=!1:this.$scope.autoScroll=!0,this.setVisibleRows(),this.$scope.$digest()},e.prototype.setVisibleRows=function(){var e,t,n,r,i,o,s=this,a=this.scrollable[0],c=a.scrollTop,l=c+a.offsetHeight;if(this.$scope.displayRows.length<this.maxDisplayRows)i=0,o=this.$scope.displayRows.length;else if(e=c<this.$scope.headerHeight?0:Math.floor((c-this.$scope.headerHeight)/this.$scope.rowHeight),t=Math.ceil((l-this.$scope.headerHeight)/this.$scope.rowHeight),n=t-e,r=this.maxDisplayRows-n,i=e-Math.floor(r/2),o=t+Math.ceil(r/2),0>i?(i=0,o=Math.min(this.maxDisplayRows,this.$scope.displayRows.length)):o>=this.$scope.displayRows.length&&(o=this.$scope.displayRows.length,i=o-this.maxDisplayRows+1),this.$scope.visibleRows[0]&&this.$scope.visibleRows[0].rowIndex===i&&this.$scope.visibleRows[this.$scope.visibleRows.length-1].rowIndex===o)return;this.$scope.visibleRows=this.$scope.displayRows.slice(i,o).map(function(e,t){return{rowIndex:i+t,offsetY:(i+t)*s.$scope.rowHeight+s.$scope.headerHeight,contents:e}})},e.prototype.setHeaders=function(e){e&&(this.$scope.displayHeaders=e,this.$scope.enableFilter&&(this.$scope.filters={}),this.$scope.enableSort&&-1===e.indexOf(this.$scope.sortColumn)&&(this.$scope.sortColumn=void 0,this.$scope.sortDirection=void 0),this.setRows(this.$scope.rows))},e.prototype.setElementSizes=function(){var e,t=this.thead,n=this.tbody,r=n.find("tr"),i=r.find("td"),o=t.prop("offsetHeight"),s=r.prop("offsetHeight"),a=0,c=o+s*(this.$scope.displayRows?this.$scope.displayRows.length-1:0);for(this.$scope.columnWidths=[];i.length;)e=i.prop("offsetWidth"),this.$scope.columnWidths.push(i.prop("offsetWidth")),a+=e,i=i.next();this.$scope.headerHeight=o,this.$scope.rowHeight=s,this.$scope.totalHeight=c,a>0?this.$scope.totalWidth=a+"px":this.$scope.totalWidth="none"},e.prototype.insertSorted=function(e,t){function n(e,t,r,s){var a=Math.floor((s-r)/2)+r;if(r>s)return r;switch(i.sortComparator(t[o].text,e[a][o].text)){case-1:return n(e,t,r,a-1);case 0:return a;case 1:return n(e,t,a+1,s)}}var r=-1,i=this,o=this.$scope.sortColumn;r=this.$scope.sortColumn&&this.$scope.sortDirection?n(e,t,0,e.length-1):e.length,-1===r?e.unshift(t):r===e.length?e.push(t):e.splice(r,0,t)},e.prototype.sortComparator=function(e,t){function n(e){var t=isNaN(Number(e))||isNaN(parseFloat(e))?e:Number(e);return t}var r,i,o,s=0;return i=n(e),o=n(t),"number"==typeof i&&"number"==typeof o&&(e=i,t=o),"string"==typeof e&&"string"==typeof t&&(e=e.toLowerCase(),t=t.toLowerCase()),t>e&&(s=-1),e>t&&(s=1),"asc"===this.$scope.sortDirection?r=1:"desc"===this.$scope.sortDirection&&(r=-1),s*r},e.prototype.sortRows=function(e){var t=this,n=this.$scope.sortColumn;return this.$scope.sortColumn&&this.$scope.sortDirection?e.sort(function(e,r){return t.sortComparator(e[n].text,r[n].text)}):e},e.prototype.buildLargestRow=function(e){var t=e.reduce(function(e,t){return Object.keys(t).forEach(function(n){var r,i,o,s;t[n]&&(r=t[n].text,i=r&&r.length?r.length:r,o=e[n]?e[n].text:"",s=o.length,i>s&&(e[n]=JSON.parse(JSON.stringify(t[n]))))}),e},JSON.parse(JSON.stringify(e[0]||{})));return t},e.prototype.resize=function(e){return this.$scope.sizingRow=this.buildLargestRow(e),this.$timeout(this.setElementSizes.bind(this))},e.prototype.filterAndSort=function(e){var t=e;return this.$scope.enableFilter&&(t=this.filterRows(t)),this.$scope.enableSort&&(t=this.sortRows(t.slice(0))),t},e.prototype.setRows=function(e){this.$scope.displayHeaders&&e&&(this.$scope.displayRows=this.filterAndSort(e||[]),this.resize(e).then(this.setVisibleRows.bind(this)))},e.prototype.filterRows=function(e){function t(e,t){return Object.keys(e).every(function(n){if(!t[n])return!1;var r=String(t[n].text).toLowerCase();return-1!==r.indexOf(e[n])})}var n={},r=this;return Object.keys(this.$scope.filters).length?(Object.keys(this.$scope.filters).forEach(function(e){r.$scope.filters[e]&&(n[e]=r.$scope.filters[e].toLowerCase())}),e.filter(t.bind(null,n))):e},e}),define("text!platform/features/table/res/templates/mct-table.html",[],function(){return'<a class="s-button t-export icon-download labeled"\r\n   ng-click="exportAsCSV()"\r\n   title="Export This View\'s Data">\r\n    Export\r\n</a>\r\n<div class="l-view-section scrolling" style="overflow: auto;" mct-resize="resize()">\r\n    <table class="sizing-table">\r\n        <tbody>\r\n            <tr>\r\n                <td ng-repeat="header in displayHeaders">{{header}}</td>\r\n            </tr>\r\n            <tr><td ng-repeat="header in displayHeaders" >\r\n                {{sizingRow[header].text}}\r\n            </td></tr>\r\n        </tbody>\r\n    </table>\r\n    <table class="filterable mct-table"\r\n           ng-style="{\r\n            height: totalHeight + \'px\',\r\n            \'max-width\': totalWidth\r\n            }">\r\n        <thead>\r\n            <tr>\r\n                <th ng-repeat="header in displayHeaders"\r\n                    ng-style="{\r\n                        width: columnWidths[$index] + \'px\',\r\n                        \'max-width\': columnWidths[$index] + \'px\',\r\n                    }"\r\n                    ng-class="[\r\n                        enableSort ? \'sortable\' : \'\',\r\n                        sortColumn === header ? \'sort\' : \'\',\r\n                        sortDirection || \'\'\r\n                    ].join(\' \')"\r\n                    ng-click="toggleSort(header)">\r\n                    {{ header }}\r\n                </th>\r\n            </tr>\r\n            <tr ng-if="enableFilter" class="s-filters">\r\n                <th ng-repeat="header in displayHeaders"\r\n                    ng-style="{\r\n                        width: columnWidths[$index] + \'px\',\r\n                        \'max-width\': columnWidths[$index] + \'px\',\r\n                    }">\r\n                    <input type="text"\r\n                           ng-model="filters[header]"/>\r\n                </th>\r\n            </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n            <tr ng-repeat="visibleRow in visibleRows track by visibleRow.rowIndex"\r\n                ng-style="{\r\n                    top: visibleRow.offsetY + \'px\',\r\n                }">\r\n                <td ng-repeat="header in displayHeaders"\r\n                    ng-style=" {\r\n                        width: columnWidths[$index] + \'px\',\r\n                        \'max-width\': columnWidths[$index] + \'px\',\r\n                    }"\r\n                    class="{{visibleRow.contents[header].cssClass}}">\r\n                    {{ visibleRow.contents[header].text }}\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n'}),define("platform/features/table/src/directives/MCTTable",["../controllers/MCTTableController","text!../../res/templates/mct-table.html"],function(e,t){function n(n){return{restrict:"E",template:t,controller:["$scope","$timeout","$element","exportService",e],scope:{headers:"=",rows:"=",enableFilter:"=?",enableSort:"=?",autoScroll:"=?"}}}return n}),define("platform/features/table/src/DomainColumn",[],function(){function e(e,t){this.domainMetadata=e,this.telemetryFormatter=t}return e.prototype.getTitle=function(){return this.domainMetadata.name},e.prototype.getValue=function(e,t){return{text:this.telemetryFormatter.formatDomainValue(t[this.domainMetadata.key],this.domainMetadata.format)}},e}),define("platform/features/table/src/RangeColumn",[],function(){function e(e,t){this.rangeMetadata=e,this.telemetryFormatter=t}return e.prototype.getTitle=function(){return this.rangeMetadata.name},e.prototype.getValue=function(e,t){var n=this.rangeMetadata.key,r=e.getCapability("limit"),i=isNaN(t[n])?t[n]:parseFloat(t[n]),o=r&&r.evaluate(t,n);return{cssClass:o&&o.cssClass,text:"undefined"==typeof i?void 0:this.telemetryFormatter.formatRangeValue(i)}},e}),define("platform/features/table/src/NameColumn",[],function(){function e(){}return e.prototype.getTitle=function(){return"Name"},e.prototype.getValue=function(e){return{text:e.getModel().name}},e}),define("platform/features/table/src/TableConfiguration",["./DomainColumn","./RangeColumn","./NameColumn"],function(e,t,n){function r(e,t){this.domainObject=e,this.columns=[],this.telemetryFormatter=t}function i(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(function(n){return e[n]!==t[n]})}return r.prototype.populateColumns=function(r){var i=this;return this.columns=[],r&&(r.forEach(function(n){(n.domains||[]).forEach(function(t){i.addColumn(new e(t,i.telemetryFormatter))}),(n.ranges||[]).forEach(function(e){i.addColumn(new t(e,i.telemetryFormatter))})}),this.columns.length>0&&i.addColumn(new n,0)),this},r.prototype.addColumn=function(e,t){"undefined"==typeof t?this.columns.push(e):this.columns.splice(t,0,e)},r.prototype.getColumnTitle=function(e){return e.getTitle()},r.prototype.getHeaders=function(){var e=this;return this.columns.map(function(t,n){return e.getColumnTitle(t)||"Column "+(n+1)})},r.prototype.getRowValues=function(e,t){var n=this;return this.columns.reduce(function(r,i,o){var s=n.getColumnTitle(i)||"Column "+(o+1),a=i.getValue(e,t);return void 0!==a&&void 0===a.text&&(a.text=""),(void 0===r[s]||void 0===r[s].text||0===r[s].text.length)&&(r[s]=a),r},{})},r.prototype.defaultColumnConfiguration=function(){return((this.domainObject.getModel().configuration||{}).table||{}).columns||{}},r.prototype.saveColumnConfiguration=function(e){this.domainObject.useCapability("mutation",function(t){t.configuration=t.configuration||{},t.configuration.table=t.configuration.table||{},t.configuration.table.columns=e})},r.prototype.buildColumnConfiguration=function(){var e={},t=this.defaultColumnConfiguration();return this.getHeaders().forEach(function(n){e[n]="undefined"==typeof t[n]?!0:t[n]}),i(e,t)&&this.saveColumnConfiguration(e),e},r}),define("platform/features/table/src/controllers/TelemetryTableController",["../TableConfiguration"],function(e){function t(t,n,r){var i=this;this.$scope=t,this.columns={},this.handle=void 0,this.telemetryHandler=n,this.table=new e(t.domainObject,r),this.changeListeners=[],t.rows=[],this.$scope.$watch("domainObject",function(){i.subscribe(),i.registerChangeListeners()}),this.$scope.$on("$destroy",this.destroy.bind(this))}return t.prototype.unregisterChangeListeners=function(){this.changeListeners.forEach(function(e){return e&&e()}),this.changeListeners=[]},t.prototype.registerChangeListeners=function(){var e=this;this.unregisterChangeListeners(),this.changeListeners.push(this.$scope.$watchCollection("domainObject.getModel().composition",function(t,n){t!==n&&e.subscribe()})),this.changeListeners.push(this.$scope.$on("telemetry:display:bounds",this.subscribe.bind(this)))},t.prototype.destroy=function(){this.handle&&(this.handle.unsubscribe(),this.handle=void 0)},t.prototype.addRealtimeData=function(){},t.prototype.addHistoricalData=function(){},t.prototype.subscribe=function(){this.handle&&this.handle.unsubscribe(),this.$scope.loading=!0,this.handle=this.$scope.domainObject&&this.telemetryHandler.handle(this.$scope.domainObject,this.addRealtimeData.bind(this),!0),this.handle.request({}).then(this.addHistoricalData.bind(this)),this.setup()},t.prototype.setup=function(){var e=this.handle,t=this.table,n=this;e&&e.promiseTelemetryObjects().then(function(){n.$scope.headers=[],n.$scope.rows=[],t.populateColumns(e.getMetadata()),n.filterColumns(),n.changeListeners.push(n.$scope.$watchCollection("domainObject.getModel().configuration.table.columns",n.filterColumns.bind(n)))})},t.prototype.filterColumns=function(){var e=this.table.buildColumnConfiguration();this.$scope.headers=Object.keys(e).filter(function(t){return e[t]})},t}),define("platform/features/table/src/controllers/RealtimeTableController",["./TelemetryTableController"],function(e){function t(t,n,r){e.call(this,t,n,r),this.maxRows=1e5}return t.prototype=Object.create(e.prototype),t.prototype.addRealtimeData=function(){var e,t,n=this;this.handle.getTelemetryObjects().forEach(function(r){e=n.handle.getDatum(r),e&&(t=n.table.getRowValues(r,e),n.$scope.rows.push(t),n.$scope.rows.length>n.maxRows&&(n.$scope.$broadcast("remove:row",0),n.$scope.rows.shift()),n.$scope.$broadcast("add:row",n.$scope.rows.length-1))}),this.$scope.loading=!1},t}),define("platform/features/table/src/controllers/HistoricalTableController",["./TelemetryTableController"],function(e){function t(t,r,i,o){var s=this;this.$timeout=o,this.timeoutHandle=void 0,this.batchSize=n,t.$on("$destroy",function(){s.timeoutHandle&&s.$timeout.cancel(s.timeoutHandle)}),e.call(this,t,r,i)}var n=1e3;return t.prototype=Object.create(e.prototype),t.prototype.doneProcessing=function(e){this.$scope.rows=e,this.$scope.loading=!1},t.prototype.processTelemetryObjects=function(e,t,n,r){var i,o,s,a=e[t],c=n;if(!a)return this.doneProcessing(r);for(i=this.handle.getSeries(a),o=i.getPointCount(),s=Math.min(n+this.batchSize,o);s>c;c++)r.push(this.table.getRowValues(a,this.handle.makeDatum(a,i,c)));s>=o&&(t++,s=0),this.timeoutHandle=this.$timeout(this.processTelemetryObjects.bind(this,e,t,s,r))},t.prototype.addHistoricalData=function(){this.timeoutHandle&&this.$timeout.cancel(this.timeoutHandle),this.timeoutHandle=this.$timeout(this.processTelemetryObjects.bind(this,this.handle.getTelemetryObjects(),0,0,[]))},t}),define("platform/features/table/src/controllers/TableOptionsController",[],function(){function e(e){function t(){n.listeners.forEach(function(e){e()})}var n=this;this.$scope=e,this.domainObject=e.domainObject,this.listeners=[],e.columnsForm={},e.$watch("domainObject",function(e){t(),n.populateForm(e.getModel()),n.listeners.push(n.domainObject.getCapability("mutation").listen(function(e){n.populateForm(e)}))}),e.$watchCollection("configuration.table.columns",function(e,t){e!==t&&(n.domainObject.useCapability("mutation",function(t){t.configuration.table.columns=e}),n.domainObject.getCapability("persistence").persist())}),e.$on("$destroy",t)}return e.prototype.populateForm=function(e){var t=((e.configuration||{}).table||{}).columns||{},n=[];this.$scope.columnsForm={name:"Columns",sections:[{name:"Columns",rows:n}]},Object.keys(t).forEach(function(e){n.push({name:e,control:"checkbox",key:e})}),this.$scope.configuration=JSON.parse(JSON.stringify(e.configuration||{}))},e}),define("platform/commonUI/regions/src/Region",[],function(){function e(e){e=e||{},this.name=e.name,this.content=e.content,this.modes=e.modes,this.regions=[]}return e.prototype.addRegion=function(e,t){t?this.regions.splice(t,0,e):this.regions.push(e)},e.prototype.removeRegion=function(e){"number"==typeof e?this.regions.splice(e,1):"string"==typeof e?this.regions=this.regions.filter(function(t){return t.name!==e}):this.regions.splice(this.regions.indexOf(e),1)},e}),define("platform/commonUI/browse/src/InspectorRegion",["../../regions/src/Region"],function(e){function t(){e.call(this,{name:"Inspector"}),this.buildRegion()}return t.prototype=Object.create(e.prototype),t.prototype.constructor=e,t.prototype.buildRegion=function(){var t={name:"metadata",title:"Metadata Region",modes:["browse","edit"],content:{key:"object-properties"}};this.addRegion(new e(t),0)},t}),define("platform/features/table/bundle",["./src/directives/MCTTable","./src/controllers/RealtimeTableController","./src/controllers/HistoricalTableController","./src/controllers/TableOptionsController","../../commonUI/regions/src/Region","../../commonUI/browse/src/InspectorRegion","legacyRegistry"],function(e,t,n,r,i,o,s){var a=new o,c=new i({name:"table-options",title:"Table Options",modes:["edit"],content:{key:"table-options-edit"}});a.addRegion(c),s.register("platform/features/table",{extensions:{types:[{key:"table",name:"Historical Telemetry Table",cssclass:"icon-tabular",description:"A static table of all values over time for all included telemetry elements. Rows are timestamped data values for each telemetry element; columns are data fields. The number of rows is based on the range of your query. New incoming data must be manually re-queried for.",priority:861,features:"creation",delegates:["telemetry"],inspector:a,contains:[{has:"telemetry"}],model:{composition:[]},views:["table"]},{key:"rttable",name:"Real-time Telemetry Table",cssclass:"icon-tabular-realtime",description:"A scrolling table of latest values for all included telemetry elements. Rows are timestamped data values for each telemetry element; columns are data fields. New incoming data is automatically added to the view.",priority:860,features:"creation",delegates:["telemetry"],inspector:a,contains:[{has:"telemetry"}],model:{composition:[]},views:["rt-table","scrolling-table"]}],controllers:[{key:"HistoricalTableController",implementation:n,depends:["$scope","telemetryHandler","telemetryFormatter","$timeout"]},{key:"RealtimeTableController",implementation:t,depends:["$scope","telemetryHandler","telemetryFormatter"]},{key:"TableOptionsController",implementation:r,depends:["$scope"]}],views:[{name:"Historical Table",key:"table",cssclass:"icon-tabular",templateUrl:"templates/historical-table.html",needs:["telemetry"],delegation:!0,editable:!1},{name:"Real-time Table",key:"rt-table",cssclass:"icon-tabular-realtime",templateUrl:"templates/rt-table.html",needs:["telemetry"],delegation:!0,editable:!1}],directives:[{key:"mctTable",implementation:e,depends:["$timeout"]}],representations:[{key:"table-options-edit",templateUrl:"templates/table-options-edit.html"}],stylesheets:[{stylesheetUrl:"css/table.css",priority:"mandatory"}]}})}),define("platform/forms/src/controllers/FormController",[],function(){function e(e){function n(e){return e?e instanceof RegExp?e:(r[e]||(r[e]=new RegExp(e)),r[e]):t}var r=[];e.$watch("mctForm",function(t){e.name&&(e.$parent[e.name]=t)}),e.getRegExp=n}var t=/\S/;return e}),define("text!platform/forms/res/templates/form.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<form name="mctForm" novalidate class="form">\r\n    <span ng-repeat="section in structure.sections">\r\n        <div class="section-header" ng-if="section.name">\r\n            {{section.name}}\r\n        </div>\r\n        <div class="form-section" ng-class="{ first:$index < 1 }">\r\n            <ng-form name="mctFormInner" ng-repeat="row in section.rows">\r\n                <div class="form-row validates l-flex-row"\r\n                     ng-class="{\r\n                               req: row.required,\r\n                               valid: mctFormInner.$dirty && mctFormInner.$valid,\r\n                               invalid: mctFormInner.$dirty && !mctFormInner.$valid,\r\n                               first: $index < 1,\r\n                               \'l-controls-first\': row.layout === \'control-first\',\r\n                               \'l-controls-under\': row.layout === \'controls-under\'\r\n                               }">\r\n                    <div class=\'label flex-elem\' title="{{row.description}}">\r\n                        {{row.name}}\r\n                    </div>\r\n                    <div class=\'controls flex-elem\'>\r\n                        <div class="wrapper" ng-if="row.control">\r\n                            <mct-control key="row.control"\r\n                                         ng-model="ngModel"\r\n                                         ng-required="row.required"\r\n                                         ng-pattern="getRegExp(row.pattern)"\r\n                                         options="row.options"\r\n                                         structure="row"\r\n                                         field="row.key">\r\n                            </mct-control>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </ng-form>\r\n        </div>\r\n    </span>\r\n</form>'}),define("platform/forms/src/MCTForm",["./controllers/FormController","text!../res/templates/form.html"],function(e,t){function n(){return{restrict:"E",template:t,controller:["$scope",e],scope:{ngModel:"=",structure:"=",name:"@"}}}return n}),define("text!platform/forms/res/templates/toolbar.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<form novalidate>\r\n	<div class="tool-bar btn-bar contents abs">\r\n	    <span ng-repeat="section in structure.sections"\r\n	          class="l-control-group"\r\n	          ng-if="!section.hidden"\r\n	          title="{{section.description}}">\r\n	        <ng-form ng-repeat="item in section.items"\r\n	                 ng-class="{ \'input-labeled\': item.name }"\r\n	                 ng-hide="item.hidden"\r\n	                 class="inline"\r\n	                 title="{{item.description}}"\r\n	                 name="mctFormInner">\r\n\r\n	            <label ng-if="item.name">\r\n	                {{item.name}}:\r\n	            </label>\r\n	            <mct-control key="item.control"\r\n	                         ng-class="{ disabled: item.disabled }"\r\n	                         ng-model="ngModel"\r\n	                         ng-required="item.required"\r\n	                         ng-pattern="getRegExp(item.pattern)"\r\n	                         options="item.options"\r\n	                         structure="item"\r\n	                         field="item.key">\r\n	            </mct-control>\r\n	        </ng-form>\r\n	    </span>\r\n	</div>\r\n</form>';
}),define("platform/forms/src/MCTToolbar",["./MCTForm","text!../res/templates/toolbar.html"],function(e,t){function n(){var n=new e;return n.template=t,n}return n}),define("platform/forms/src/MCTControl",[],function(){function e(e,t){function n(t,n,i,o){var s=e.link(t,n);t.$watch("key",function(e){s(r[e])}),t.ngModelController=o}var r={};return t.forEach(function(e){r[e.key]=e}),{restrict:"E",priority:1e3,require:"?ngModel",link:n,scope:{key:"=",ngBlur:"&",ngModel:"=",ngDisabled:"=",ngRequired:"=",ngPattern:"=",options:"=",structure:"=",field:"="}}}return e}),define("platform/forms/src/controllers/DateTimeController",["moment"],function(e){function t(t){function r(){var r=t.datetime.date,i=t.datetime.hour,o=t.datetime.min,s=t.datetime.sec,a=e.utc(r,n).hour(i||0).minute(o||0).second(s||0);a.isValid()&&(t.ngModel[t.field]=a.valueOf()),t.partiallyComplete=Object.keys(t.datetime).some(function(e){return t.datetime[e]}),t.partiallyComplete||(t.ngModel[t.field]=void 0)}function i(r){var i;void 0!==r?(i=e.utc(r),t.datetime={date:i.format(n),hour:i.format("H"),min:i.format("m"),sec:i.format("s")}):t.datetime={}}t.$watch("ngModel[field]",i),t.$watch("datetime.date",r),t.$watch("datetime.hour",r),t.$watch("datetime.min",r),t.$watch("datetime.sec",r),t.format=n,i(t.ngModel&&t.field?t.ngModel[t.field]:void 0)}var n="YYYY-MM-DD";return t}),define("platform/forms/src/controllers/CompositeController",[],function(){function e(){}function t(e){return"undefined"!=typeof e}return e.prototype.isNonEmpty=function(e){return Array.isArray(e)&&e.some(t)},e}),define("platform/forms/src/controllers/ColorController",[],function(){function e(e){return"#"+e.map(function(e){return(16>e?"0":"")+e.toString(16)}).join("")}function t(e,t){return e.map(function(e){return Math.round(t>0?e+(255-e)*t:e*(1+t))})}function n(){var n;for(n=[];n.length<10;)n.push(e([Math.round(28.3333*n.length),Math.round(28.3333*n.length),Math.round(28.3333*n.length)]));s.push(n),s.push(i.map(e)),n=[],o.forEach(function(r){n=n.concat(i.map(function(n){return e(t(n,r))}))}),s.push(n)}function r(){0===s.length&&n()}var i=[[136,32,32],[224,64,64],[240,160,72],[255,248,96],[128,240,72],[128,248,248],[88,144,224],[0,72,240],[136,80,240],[224,96,248]],o=[.75,.5,.25,-.25,-.5,-.75],s=[];return r.prototype.groups=function(){return s},r}),define("platform/forms/src/controllers/DialogButtonController",[],function(){function e(e,t){function n(t){e.ngModel[e.field]=t[e.field]}function r(){var r={};r[e.field]=e.ngModel[e.field],t.getUserInput(o,r).then(n)}function i(t){var n=Object.create(t.dialog||{});t=t||{},n.key=e.field,s.buttonStructure={},s.buttonStructure.cssclass=t.cssclass,s.buttonStructure.name=t.name,s.buttonStructure.description=t.description,s.buttonStructure.click=r,o={name:t.title,sections:[{rows:[n]}]}}var o,s=this;e.$watch("structure",i)}return e.prototype.getButtonStructure=function(){return this.buttonStructure},e}),define("text!platform/forms/res/templates/controls/checkbox.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<label class="checkbox custom no-text">\r\n    <input type="checkbox"\r\n           name="mctControl"\r\n           ng-model="ngModel[field]"\r\n           ng-disabled="ngDisabled">\r\n    <em></em>\r\n</label>\r\n'}),define("text!platform/forms/res/templates/controls/datetime.html",[],function(){return"<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n \"License\"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class='form-control complex datetime'>\r\n\r\n    <div class='field-hints'>\r\n        <span class='hint date'>Date</span>\r\n        <span class='hint time sm'>Hour</span>\r\n        <span class='hint time sm'>Min</span>\r\n        <span class='hint time sm'>Sec</span>\r\n        <span class='hint timezone'>Timezone</span>\r\n    </div>\r\n\r\n\r\n    <ng-form name=\"mctControl\">\r\n        <div class='fields' ng-controller=\"DateTimeController\">\r\n            <span class='field control date'>\r\n                <input type='text'\r\n                       name='date'\r\n                       placeholder=\"{{format}}\"\r\n                       ng-pattern=\"/\\d\\d\\d\\d-\\d\\d-\\d\\d/\"\r\n                       ng-model='datetime.date'\r\n                       ng-required='ngRequired || partiallyComplete'/>\r\n            </span>\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='hour'\r\n                       maxlength='2'\r\n                       min='0'\r\n                       max='23'\r\n                       integer\r\n                       ng-pattern='/\\d+/'\r\n                       ng-model=\"datetime.hour\"\r\n                       ng-required='ngRequired || partiallyComplete'/>\r\n            </span>\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='min'\r\n                       maxlength='2'\r\n                       min='0'\r\n                       max='59'\r\n                       integer\r\n                       ng-pattern='/\\d+/'\r\n                       ng-model=\"datetime.min\"\r\n                       ng-required='ngRequired || partiallyComplete'/>\r\n            </span>\r\n            <span class='field control time sm'>\r\n                <input type='text'\r\n                       name='sec'\r\n                       maxlength='2'\r\n                       min='0'\r\n                       max='59'\r\n                       integer\r\n                       ng-pattern='/\\d+/'\r\n                       ng-model=\"datetime.sec\"\r\n                       ng-required='ngRequired || partiallyComplete'/>\r\n            </span>\r\n            <span class='field control timezone'>\r\n                UTC\r\n            </span>\r\n        </div>\r\n    </ng-form>\r\n\r\n\r\n</div>\r\n"}),define("text!platform/forms/res/templates/controls/select.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class=\'form-control select\'>\r\n    <select\r\n            ng-model="ngModel[field]"\r\n            ng-options="opt.value as opt.name for opt in options"\r\n            ng-required="ngRequired"\r\n            name="mctControl">\r\n        <option value="" ng-show="!ngModel[field]">- Select One -</option>\r\n    </select>\r\n</div>\r\n'}),define("text!platform/forms/res/templates/controls/textfield.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span class=\'form-control shell\'>\r\n    <span class=\'field control {{structure.cssclass}}\'>\r\n        <input type="text"\r\n               ng-required="ngRequired"\r\n               ng-model="ngModel[field]"\r\n               ng-pattern="ngPattern"\r\n               size="{{structure.size}}"\r\n               name="mctControl">\r\n    </span>\r\n</span>\r\n'}),define("text!platform/forms/res/templates/controls/button.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<a class="s-button {{structure.cssclass}}"\r\n   ng-class="{ labeled: structure.text }"\r\n   ng-click="structure.click()">\r\n    <span class="title-label" ng-if="structure.text">\r\n        {{structure.text}}\r\n    </span>\r\n</a>\r\n'}),define("text!platform/forms/res/templates/controls/color.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="s-button s-menu-button menu-element t-color-palette {{structure.cssclass}}"\r\n    ng-controller="ClickAwayController as toggle">\r\n\r\n    <span class="l-click-area" ng-click="toggle.toggle()"></span>\r\n    <span class="color-swatch"\r\n          ng-style="{\r\n             background: ngModel[field]\r\n         }">\r\n    </span>\r\n    <span class="title-label" ng-if="structure.text">\r\n        {{structure.text}}\r\n    </span>\r\n\r\n    <div class="menu l-color-palette"\r\n        ng-controller="ColorController as colors"\r\n        ng-show="toggle.isActive()">\r\n        <div\r\n	        class="l-palette-row l-option-row"\r\n	        ng-if="!structure.mandatory">\r\n            <div class="l-palette-item s-palette-item {{ngModel[field] === \'transparent\' ? \'icon-check\' : \'\' }}"\r\n                ng-click="ngModel[field] = \'transparent\'">\r\n            </div>\r\n            <span class="l-palette-item-label">None</span>\r\n        </div>\r\n        <div\r\n	        class="l-palette-row"\r\n            ng-repeat="group in colors.groups()">\r\n            <div class="l-palette-item s-palette-item {{ngModel[field] === color ? \'icon-check\' : \'\' }}"\r\n	            ng-repeat="color in group"\r\n                ng-style="{ background: color }"\r\n                ng-click="ngModel[field] = color">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}),define("text!platform/forms/res/templates/controls/composite.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="CompositeController as compositeCtrl">\r\n    <ng-form name="mctFormItem" ng-repeat="item in structure.items">\r\n	    <div class="l-composite-control l-{{item.control}} {{item.cssclass}}">\r\n	        <mct-control key="item.control"\r\n	                     ng-model="ngModel[field]"\r\n	                     ng-required="ngRequired || compositeCtrl.isNonEmpty(ngModel[field])"\r\n	                     ng-pattern="ngPattern"\r\n	                     options="item.options"\r\n	                     structure="row"\r\n	                     field="$index">\r\n	        </mct-control>\r\n	        <span class="composite-control-label">\r\n	            {{item.name}}\r\n	        </span>\r\n	    </div>\r\n    </ng-form>\r\n</span>\r\n'}),define("text!platform/forms/res/templates/controls/menu-button.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="s-menu-button menu-element {{ structure.cssclass }}"\r\n     ng-controller="ClickAwayController as toggle">\r\n\r\n    <span class="l-click-area" ng-click="toggle.toggle()"></span>\r\n    <span class="title-label" ng-if="structure.text">\r\n        {{structure.text}}\r\n    </span>\r\n\r\n    <div class="menu" ng-show="toggle.isActive()">\r\n        <ul>\r\n            <li ng-click="structure.click(option.key); toggle.setState(false)"\r\n                ng-repeat="option in structure.options"\r\n                class="{{ option.cssclass }}">\r\n                    {{option.name}}\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'}),define("text!platform/forms/res/templates/controls/dialog.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="DialogButtonController as dialog">\r\n    <mct-control key="\'button\'"\r\n                 structure="dialog.getButtonStructure()">\r\n    </mct-control>\r\n</span>'}),define("text!platform/forms/res/templates/controls/radio.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<label class="radio custom no-text">\r\n    <input type="radio"\r\n           name="mctControl"\r\n           ng-model="ngModel[field]"\r\n           ng-disabled="ngDisabled"\r\n           ng-value="structure.value">\r\n    <em></em>\r\n</label>\r\n'}),define("platform/forms/bundle",["./src/MCTForm","./src/MCTToolbar","./src/MCTControl","./src/controllers/DateTimeController","./src/controllers/CompositeController","./src/controllers/ColorController","./src/controllers/DialogButtonController","text!./res/templates/controls/checkbox.html","text!./res/templates/controls/datetime.html","text!./res/templates/controls/select.html","text!./res/templates/controls/textfield.html","text!./res/templates/controls/button.html","text!./res/templates/controls/color.html","text!./res/templates/controls/composite.html","text!./res/templates/controls/menu-button.html","text!./res/templates/controls/dialog.html","text!./res/templates/controls/radio.html","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m,g,y){y.register("platform/forms",{name:"MCT Forms",description:"Form generator; includes directive and some controls.",extensions:{directives:[{key:"mctForm",implementation:e},{key:"mctToolbar",implementation:t},{key:"mctControl",implementation:n,depends:["templateLinker","controls[]"]}],controls:[{key:"checkbox",template:a},{key:"radio",template:g},{key:"datetime",template:c},{key:"select",template:l},{key:"textfield",template:u},{key:"button",template:d},{key:"color",template:p},{key:"composite",template:f},{key:"menu-button",template:h},{key:"dialog-button",template:m}],controllers:[{key:"DateTimeController",implementation:r,depends:["$scope"]},{key:"CompositeController",implementation:i},{key:"ColorController",implementation:o},{key:"DialogButtonController",implementation:s,depends:["$scope","dialogService"]}]}})}),define("platform/identity/src/IdentityAggregator",[],function(){function e(e,t){this.providers=t,this.$q=e}function t(e){return e.getUser()}function n(e){return e}function r(e){return e.filter(n)[0]}return e.prototype.getUser=function(){var e=this.$q,n=this.providers.map(t);return e.all(n).then(r)},e}),define("platform/identity/src/IdentityProvider",[],function(){function e(e){this.userPromise=e.when(void 0)}return e.prototype.getUser=function(){return this.userPromise},e}),define("platform/identity/src/IdentityCreationDecorator",[],function(){function e(e,t){this.identityService=e,this.creationService=t}return e.prototype.createObject=function(e,t){var n=this.creationService,r=this.identityService;return r.getUser().then(function(r){return r&&r.key&&(e.creator=r.key),n.createObject(e,t)})},e}),define("platform/identity/src/IdentityIndicator",[],function(){function e(e){var t=this;e.getUser().then(function(e){e&&e.key&&(t.text=e.name||e.key,t.description="Logged in as "+e.key)})}return e.prototype.getCssClass=function(){return this.text&&"icon-person"},e.prototype.getText=function(){return this.text},e.prototype.getDescription=function(){return this.description},e}),define("platform/identity/bundle",["./src/IdentityAggregator","./src/IdentityProvider","./src/IdentityCreationDecorator","./src/IdentityIndicator","legacyRegistry"],function(e,t,n,r,i){i.register("platform/identity",{extensions:{components:[{implementation:e,type:"aggregator",provides:"identityService",depends:["$q"]},{implementation:t,type:"provider",provides:"identityService",depends:["$q"],priority:"fallback"},{type:"decorator",provides:"creationService",implementation:n,depends:["identityService"]}],indicators:[{implementation:r,depends:["identityService"]}],types:[{properties:[{key:"creator",name:"Creator"}]}]}})}),define("platform/persistence/aggregator/src/PersistenceAggregator",[],function(){function e(e,t){function n(e){return e.listSpaces().then(function(t){t.forEach(function(t){r[t]=r[t]||e})})}var r={};this.providerMapPromise=e.all(t.map(n)).then(function(){return r})}var t={createObject:!1,readObject:void 0,listObjects:[],updateObject:!1,deleteObject:!1};return e.prototype.listSpaces=function(){return this.providerMapPromise.then(function(e){return Object.keys(e)})},Object.keys(t).forEach(function(n){e.prototype[n]=function(e){var r=Array.prototype.slice.apply(arguments,[]);return this.providerMapPromise.then(function(i){var o=i[e];return o?o[n].apply(o,r):t[n]})}}),e}),define("platform/persistence/aggregator/bundle",["./src/PersistenceAggregator","legacyRegistry"],function(e,t){t.register("platform/persistence/aggregator",{extensions:{components:[{provides:"persistenceService",type:"aggregator",depends:["$q"],implementation:e}]}})}),define("platform/persistence/local/src/LocalStoragePersistenceProvider",[],function(){function e(e,t,n){this.$q=t,this.space=n,this.spaces=n?[n]:[],this.localStorage=e.localStorage}return e.prototype.setValue=function(e,t){this.localStorage[e]=JSON.stringify(t)},e.prototype.getValue=function(e){return this.localStorage[e]?JSON.parse(this.localStorage[e]):{}},e.prototype.listSpaces=function(){return this.$q.when(this.spaces)},e.prototype.listObjects=function(e){return this.$q.when(Object.keys(this.getValue(e)))},e.prototype.createObject=function(e,t,n){var r=this.getValue(e);return r[t]=n,this.setValue(e,r),this.$q.when(!0)},e.prototype.readObject=function(e,t){var n=this.getValue(e);return this.$q.when(n[t])},e.prototype.deleteObject=function(e,t){var n=this.getValue(e);return delete n[t],this.setValue(e,n),this.$q.when(!0)},e.prototype.updateObject=e.prototype.createObject,e}),define("platform/persistence/local/src/LocalStorageIndicator",[],function(){function e(){}var t=["Using browser local storage for persistence.","Anything you create or change will be visible only","in this browser on this machine."].join(" ");return e.prototype.getCssClass=function(){return"icon-database"},e.prototype.getGlyphClass=function(){return"caution"},e.prototype.getText=function(){return"Off-line storage"},e.prototype.getDescription=function(){return t},e}),define("platform/persistence/local/bundle",["./src/LocalStoragePersistenceProvider","./src/LocalStorageIndicator","legacyRegistry"],function(e,t,n){n.register("platform/persistence/local",{extensions:{components:[{provides:"persistenceService",type:"provider",implementation:e,depends:["$window","$q","PERSISTENCE_SPACE"]}],constants:[{key:"PERSISTENCE_SPACE",value:"mct"}],indicators:[{implementation:t}]}})}),define("platform/persistence/queue/src/QueuingPersistenceCapability",[],function(){function e(e,t,n){var r=Object.create(t);return r.persist=function(){return e.put(n,t)},r}return e}),define("platform/persistence/queue/src/QueuingPersistenceCapabilityDecorator",["./QueuingPersistenceCapability"],function(e){function t(e,t){this.persistenceQueue=e,this.capabilityService=t}return t.prototype.getCapabilities=function(t){function n(t){var n=t.persistence;return n&&(t.persistence=function(t){var r="function"==typeof n?n(t):n;return new e(i,r,t)}),t}var r=this.capabilityService,i=this.persistenceQueue;return n(r.getCapabilities(t))},t}),define("platform/persistence/queue/src/PersistenceQueueImpl",[],function(){function e(e,t,n,r){this.persistences={},this.objects={},this.lastObservedSize=0,this.activeDefer=e.defer(),this.delay=r||0,this.handler=n,this.$timeout=t,this.$q=e}return e.prototype.scheduleFlush=function(){function e(){return Object.keys(r.persistences).length===r.lastObservedSize}function t(){function e(e){return r.flushPromise=void 0,t.resolve(e),e}var t=r.activeDefer;r.flushPromise=s.persist(r.persistences,r.objects,r).then(e,e),r.persistences={},r.objects={},r.lastObservedSize=0,r.pendingTimeout=void 0,r.activeDefer=o.defer()}function n(){r.pendingTimeout=void 0,e()?t():r.scheduleFlush(),r.lastObservedSize=Object.keys(r.persistences).length}var r=this,i=this.$timeout,o=this.$q,s=this.handler;return r.flushPromise?r.flushPromise.then(n):r.pendingTimeout=r.pendingTimeout||i(n,r.delay,!1),r.activeDefer.promise},e.prototype.put=function(e,t){var n=e.getId();return this.persistences[n]=t,this.objects[n]=e,this.scheduleFlush()},e}),define("platform/persistence/queue/src/PersistenceQueueHandler",[],function(){function e(e,t){this.$q=e,this.failureHandler=t}return e.prototype.persist=function(e,t,n){function r(e,t,n,r){function i(e){function i(){return r.put(l,a)}function o(e){return e}function s(t){return c.push({id:e,persistence:a,domainObject:l,requeue:i,error:t}),!1}var a=t[e],l=n[e];return a.persist().then(o,s)}function a(e){return c.length>0?s.handle(c):e}var c=[];return o.all(e.map(i)).then(a)}var i=Object.keys(e),o=this.$q,s=this.failureHandler;return r(i,e,t,n)},e}),define("platform/persistence/queue/src/PersistenceFailureConstants",{REVISION_ERROR_KEY:"revision",OVERWRITE_KEY:"overwrite",TIMESTAMP_FORMAT:"YYYY-MM-DD HH:mm:ss\\Z",UNKNOWN_USER:"unknown user"}),define("platform/persistence/queue/src/PersistenceFailureDialog",["./PersistenceFailureConstants"],function(e){function t(t){function i(t){var n=((t||{}).error||{}).key===e.REVISION_ERROR_KEY;(n?o:s).push(t)}var o=[],s=[];return t.forEach(i),{title:"Save Error",template:"persistence-failure-dialog",model:{revised:o,unrecoverable:s},options:o.length>0?n:r}}var n=[{name:"Overwrite",key:e.OVERWRITE_KEY},{name:"Discard",key:"cancel"}],r=[{name:"OK",key:"ok"}];return t}),define("platform/persistence/queue/src/PersistenceFailureHandler",["./PersistenceFailureDialog","./PersistenceFailureConstants"],function(e,t){function n(e,t){this.$q=e,this.dialogService=t}return n.prototype.handle=function(n){function r(e){return e.persistence.refresh()}function i(e){e.requeue()}function o(e){function t(e){o[e.id]=JSON.parse(JSON.stringify(e.domainObject.getModel()))}function n(e){var t=o[e.id];return e.domainObject.useCapability("mutation",function(){return t},t.modified)}var o={};return e.forEach(t),d.all(e.map(r)).then(function(){return d.all(e.map(n))}).then(function(){return d.all(e.map(i))})}function s(e){var t=e.domainObject.getCapability("persistence");return t.refresh()}function a(e){return d.all(e.map(s))}function c(e){return e===t.OVERWRITE_KEY?o(u):a(u)}var l=new e(n),u=l.model.revised,d=this.$q;return this.dialogService.getUserChoice(l).then(c,c)},n}),define("platform/persistence/queue/src/PersistenceQueue",["./PersistenceQueueImpl","./PersistenceQueueHandler","./PersistenceFailureHandler"],function(e,t,n){function r(r,i,o,s){return new e(r,i,new t(r,new n(r,o)),s)}return r}),define("platform/persistence/queue/src/PersistenceFailureController",["moment","./PersistenceFailureConstants"],function(e,t){function n(){}return n.prototype.formatTimestamp=function(n){return e.utc(n).format(t.TIMESTAMP_FORMAT)},n.prototype.formatUsername=function(e){return e||t.UNKNOWN_USER},n}),define("text!platform/persistence/queue/res/templates/persistence-failure-dialog.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<span ng-controller="PersistenceFailureController as controller">\r\n\r\n<div ng-if="ngModel.revised.length > 0">\r\n    External changes have been made to the following objects:\r\n    <ul>\r\n        <li ng-repeat="failure in ngModel.revised">\r\n            <mct-representation key="\'label\'"\r\n                                mct-object="failure.domainObject">\r\n            </mct-representation>\r\n            was modified at\r\n            <b>{{controller.formatTimestamp(failure.error.model.modified)}}</b>\r\n            by\r\n            <i>{{controller.formatUsername(failure.error.model.modifier)}}</i>\r\n        </li>\r\n    </ul>\r\n    You may overwrite these objects, or discard your changes to keep\r\n    the updates that were made externally.\r\n</div>\r\n\r\n<div ng-if="ngModel.unrecoverable.length > 0">\r\n    Changes to these objects could not be saved for unknown reasons:\r\n    <ul>\r\n        <li ng-repeat="failure in ngModel.unrecoverable">\r\n            <mct-representation key="\'label\'"\r\n                                mct-object="failure.domainObject">\r\n            </mct-representation>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n</span>';
}),define("platform/persistence/queue/bundle",["./src/QueuingPersistenceCapabilityDecorator","./src/PersistenceQueue","./src/PersistenceFailureController","text!./res/templates/persistence-failure-dialog.html","legacyRegistry"],function(e,t,n,r,i){i.register("platform/persistence/queue",{extensions:{components:[{type:"decorator",provides:"capabilityService",implementation:e,depends:["persistenceQueue"]}],services:[{key:"persistenceQueue",implementation:t,depends:["$q","$timeout","dialogService","PERSISTENCE_QUEUE_DELAY"]}],constants:[{key:"PERSISTENCE_QUEUE_DELAY",value:5}],templates:[{key:"persistence-failure-dialog",template:r}],controllers:[{key:"PersistenceFailureController",implementation:n}]}})}),define("platform/policy/src/PolicyActionDecorator",[],function(){function e(e,t){this.policyService=e,this.actionService=t}return e.prototype.getActions=function(e){function t(t){return n.allow("action",t,e)}var n=this.policyService;return this.actionService.getActions(e).filter(t)},e}),define("platform/policy/src/PolicyViewDecorator",[],function(){function e(e,t){this.policyService=e,this.viewService=t}return e.prototype.getViews=function(e){function t(t){return n.allow("view",t,e)}var n=this.policyService;return this.viewService.getViews(e).filter(t)},e}),define("platform/policy/src/PolicyProvider",[],function(){function e(e){function t(e){var t=Object.create(new e);return t.message=e.message,t}function n(e){var n=(e||{}).category;n&&(r[n]=r[n]||[],r[n].push(t(e)))}var r={};e.forEach(n),this.policyMap=r}return e.prototype.allow=function(e,t,n,r){var i,o=this.policyMap[e]||[];for(i=0;i<o.length;i+=1)if(!o[i].allow(t,n))return r&&r(o[i].message),!1;return!0},e}),define("platform/policy/bundle",["./src/PolicyActionDecorator","./src/PolicyViewDecorator","./src/PolicyProvider","legacyRegistry"],function(e,t,n,r){r.register("platform/policy",{name:"Policy Service",description:"Provides support for extension-driven decisions.",sources:"src",extensions:{components:[{type:"decorator",provides:"actionService",implementation:e,depends:["policyService"]},{type:"decorator",provides:"viewService",implementation:t,depends:["policyService"]},{type:"provider",provides:"policyService",implementation:n,depends:["policies[]"]}]}})}),define("platform/entanglement/src/actions/AbstractComposeAction",[],function(){function e(e,t,n,r,i,o){r.selectedObject?(this.newParent=r.domainObject,this.object=r.selectedObject):this.object=r.domainObject,this.currentParent=this.object.getCapability("context").getParent(),this.context=r,this.policyService=e,this.locationService=t,this.composeService=n,this.verb=i||"Compose",this.suffix=o||"to a new location"}return e.prototype.cloneContext=function(){var e={},t=this.context;return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},e.prototype.perform=function(){var e,t,n,r=this,i=this.locationService,o=this.composeService,s=this.currentParent,a=this.newParent,c=this.object;return a?o.perform(c,a):(e=[this.verb,c.getModel().name,this.suffix].join(" "),t=this.verb+" To",n=function(e){var t=r.cloneContext();return t.selectedObject=c,t.domainObject=e,o.validate(c,e)&&r.policyService.allow("action",r,t)},i.getLocationFromUser(e,t,n,s).then(function(e){return o.perform(c,e)}))},e.appliesTo=function(e){var t=e.selectedObject||e.domainObject;return!(!t||!t.hasCapability("context"))},e}),define("platform/entanglement/src/actions/MoveAction",["./AbstractComposeAction"],function(e){function t(t,n,r,i){e.apply(this,[t,n,r,i,"Move"])}return t.prototype=Object.create(e.prototype),t.appliesTo=e.appliesTo,t}),define("platform/entanglement/src/actions/CopyAction",["./AbstractComposeAction"],function(e){function t(t,n,r,i,o,s,a){this.dialog=void 0,this.notification=void 0,this.dialogService=o,this.notificationService=s,this.$log=t,e.call(this,n,r,i,a,"Duplicate","to a location")}return t.prototype=Object.create(e.prototype),t.prototype.progress=function(e,t,n){"preparing"!==e.toLowerCase()||this.dialog?"copying"===e.toLowerCase()&&(this.dialog&&this.dialog.dismiss(),this.notification||(this.notification=this.notificationService.notify({title:"Copying objects",unknownProgress:!1,severity:"info"})),this.notification.model.progress=n/t*100,this.notification.model.title=["Copied ",n,"of ",t,"objects"].join(" ")):this.dialog=this.dialogService.showBlockingMessage({title:"Preparing to copy objects",hint:"Do not navigate away from this page or close this browser tab while this message is displayed.",unknownProgress:!0,severity:"info"})},t.prototype.perform=function(){function t(){i.notification.dismiss(),i.notificationService.info("Copying complete.")}function n(e){var t,n={title:"Error copying objects.",severity:"error",hint:e.message,minimized:!0,options:[{label:"OK",callback:function(){t.dismiss()}}]};i.dialog.dismiss(),i.notification&&i.notification.dismiss(),i.$log.error("Error copying objects. ",e),i.notificationService.notify(n),t=i.dialogService.showBlockingMessage(n)}function r(e){i.progress(e.phase,e.totalObjects,e.processed)}var i=this;return e.prototype.perform.call(this).then(t,n,r)},t.appliesTo=e.appliesTo,t}),define("platform/entanglement/src/actions/LinkAction",["./AbstractComposeAction"],function(e){function t(t,n,r,i){e.apply(this,[t,n,r,i,"Link"])}return t.prototype=Object.create(e.prototype),t.appliesTo=e.appliesTo,t}),define("platform/entanglement/src/actions/GoToOriginalAction",[],function(){function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){return this.domainObject.getCapability("location").getOriginal().then(function(e){var t=e.getCapability("action");return t&&t.perform("navigate")})},e.appliesTo=function(e){var t=e.domainObject;return t&&t.hasCapability("location")&&t.getCapability("location").isLink()},e}),define("platform/entanglement/src/actions/SetPrimaryLocationAction",[],function(){function e(e){this.domainObject=e.domainObject}return e.prototype.perform=function(){var e=this.domainObject.getCapability("location");return e.setPrimaryLocation(e.getContextualLocation())},e.appliesTo=function(e){var t=e.domainObject;return t&&t.hasCapability("location")&&void 0===t.getModel().location},e}),define("platform/entanglement/src/services/LocatingCreationDecorator",[],function(){function e(e){this.creationService=e}return e.prototype.createObject=function(e,t){return t&&t.getId&&(e.location=t.getId()),this.creationService.createObject(e,t)},e}),define("platform/entanglement/src/services/LocatingObjectDecorator",[],function(){function e(e,t,n,r){this.contextualize=e,this.$log=n,this.objectService=r,this.$q=t}return e.prototype.getObjects=function(e){function t(e,n){function s(o){var s=(o||{})[e],a=s&&s.getModel(),c=(a||{}).location;return c?n[e]?(r.warn(["LocatingObjectDecorator detected a cycle","while attempted to define a context for",e+";","no context will be added and unexpected behavior","may follow."].join(" ")),s):(n[e]=!0,t(c,n).then(function(e){return i(s,e)})):s}return o.getObjects([e]).then(s)}var n=this.$q,r=this.$log,i=this.contextualize,o=this.objectService,s={};return e.forEach(function(e){s[e]=t(e,{})}),n.all(s)},e}),define("platform/entanglement/src/policies/CopyPolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("type");return!(!t||!t.hasFeature("creation"))}function n(e){return e.selectedObject||e.domainObject}return e.prototype.allow=function(e,r){var i=e.getMetadata().key;return"copy"===i?t(n(r)):!0},e}),define("platform/entanglement/src/policies/CrossSpacePolicy",[],function(){function e(){}function t(e){var t=e&&e.getCapability("persistence");return t&&t.getSpace()}function n(e){var n=e.domainObject,r=e.selectedObject;return void 0!==r&&void 0!==n&&t(n)!==t(r)}var r=["move"];return e.prototype.allow=function(e,t){var i=e.getMetadata().key;return-1!==r.indexOf(i)?!n(t):!0},e}),define("platform/entanglement/src/policies/MovePolicy",[],function(){function e(){}function t(e){var t=e.getCapability("context");return t&&t.getParent()}function n(e){var t=e&&e.getCapability("type");return!(!t||!t.hasFeature("creation"))}function r(e){return e.selectedObject||e.domainObject}return e.prototype.allow=function(e,i){var o=e.getMetadata().key;return"move"===o?n(r(i))&&n(t(r(i))):!0},e}),define("platform/entanglement/src/capabilities/LocationCapability",[],function(){function e(e,t,n){return this.domainObject=n,this.$q=e,this.$injector=t,this}return e.prototype.getOriginal=function(){var e;return this.isOriginal()?this.$q.when(this.domainObject):(e=this.domainObject.getId(),this.objectService=this.objectService||this.$injector.get("objectService"),this.objectService.getObjects([e]).then(function(t){return t[e]}))},e.prototype.setPrimaryLocation=function(e){var t=this;return this.domainObject.useCapability("mutation",function(t){t.location=e}).then(function(){return t.domainObject.getCapability("persistence").persist()})},e.prototype.getContextualLocation=function(){var e=this.domainObject.getCapability("context");if(e)return e.getParent().getId()},e.prototype.isLink=function(){var e=this.domainObject.getModel();return e.location!==this.getContextualLocation()},e.prototype.isOriginal=function(){return!this.isLink()},e}),define("platform/entanglement/src/services/MoveService",[],function(){function e(e,t){this.policyService=e,this.linkService=t}return e.prototype.validate=function(e,t){var n=e.getCapability("context").getParent();return t&&t.getId?t.getId()===n.getId()?!1:t.getId()===e.getId()?!1:-1!==t.getModel().composition.indexOf(e.getId())?!1:this.policyService.allow("composition",t.getCapability("type"),e.getCapability("type")):!1},e.prototype.perform=function(e,t){function n(t){var n=t.getCapability("location"),r=e.getCapability("location");if(n&&r)return r.isOriginal()?n.setPrimaryLocation(n.getContextualLocation()):void 0}if(!this.validate(e,t))throw new Error("Tried to move objects without validating first.");return this.linkService.perform(e,t).then(n).then(function(){return e.getCapability("action").perform("remove")})},e}),define("platform/entanglement/src/services/LinkService",[],function(){function e(e){this.policyService=e}return e.prototype.validate=function(e,t){return t&&t.getId?t.getId()===e.getId()?!1:t.hasCapability("composition")?-1!==t.getModel().composition.indexOf(e.getId())?!1:this.policyService.allow("composition",t.getCapability("type"),e.getCapability("type")):!1:!1},e.prototype.perform=function(e,t){if(!this.validate(e,t))throw new Error("Tried to link objects without validating first.");return t.getCapability("composition").add(e).then(function(e){return t.getCapability("persistence").persist().then(function(){return e})})},e}),define("platform/entanglement/src/services/CopyTask",[],function(){function e(e,t,n,r){this.domainObject=e,this.parent=t,this.firstClone=void 0,this.$q=r,this.deferred=void 0,this.filter=n,this.persisted=0,this.clones=[],this.idMap={}}function t(e,t,n){return t.getModel().composition.push(e.getId()),n&&void 0===e.getModel().location&&(e.getModel().location=t.getId()),e}function n(e){var t=JSON.parse(JSON.stringify(e));return t.composition&&(t.composition=[]),delete t.persisted,delete t.modified,delete t.location,t}function r(e){return e.$q.all(e.clones.map(function(t){return t.getCapability("persistence").persist().then(function(){e.deferred.notify({phase:"copying",totalObjects:e.clones.length,processed:++e.persisted})})})).then(function(){return e})}function i(e){return e.parent.getCapability("composition").add(e.firstClone).then(function(t){return e.parent.getCapability("persistence").persist().then(function(){return t})})}return e.prototype.rewriteIdentifiers=function(e,t){function n(e){return"string"==typeof e&&t[e]||e}Array.isArray(e)?e.forEach(function(r,i){e[i]=n(r),this.rewriteIdentifiers(e[i],t)},this):e&&"object"==typeof e&&Object.keys(e).forEach(function(r){var i=e[r];e[r]=n(i),t[r]&&(delete e[r],e[t[r]]=i),this.rewriteIdentifiers(i,t)},this)},e.prototype.copyComposees=function(e,n,r){var i=this,o={};return(e||[]).reduce(function(e,s){return e.then(function(){return i.copy(s,r).then(function(e){return o[s.getId()]=e.getId(),t(e,n,e!==s)})})},i.$q.when(void 0)).then(function(){return i.rewriteIdentifiers(n.getModel(),o),i.clones.push(n),n})},e.prototype.copy=function(e){var t,r=this;return this.filter(e)?(t=this.parent.useCapability("instantiation",n(e.getModel())),this.$q.when(e.useCapability("composition")).then(function(n){return r.deferred.notify({phase:"preparing"}),r.copyComposees(n,t,e)})):r.$q.when(e)},e.prototype.buildCopyPlan=function(){var e=this;return this.copy(e.domainObject,e.parent).then(function(t){return t!==e.domainObject&&(t.getModel().location=e.parent.getId()),e.firstClone=t,e})},e.prototype.perform=function(){return this.deferred=this.$q.defer(),this.buildCopyPlan().then(r).then(i).then(this.deferred.resolve,this.deferred.reject),this.deferred.promise},e}),define("platform/entanglement/src/services/CopyService",["./CopyTask"],function(e){function t(e,t){this.$q=e,this.policyService=t}return t.prototype.validate=function(e,t){return t&&t.getId?t.getId()===e.getId()?!1:this.policyService.allow("composition",t.getCapability("type"),e.getCapability("type")):!1},t.prototype.perform=function(t,n,r){function i(e){return(!r||r(e))&&o.allow("creation",e.getCapability("type"))}var o=this.policyService;if(this.validate(t,n))return new e(t,n,i,this.$q).perform();throw new Error("Tried to copy objects without validating first.")},t}),define("platform/entanglement/src/services/LocationService",[],function(){function e(e){return{getLocationFromUser:function(t,n,r,i){var o,s;return o={sections:[{name:"Location",rows:[{name:n,control:"locator",validate:r,key:"location"}]}],name:t},s={location:i},e.getUserInput(o,s).then(function(e){return e.location})}}}return e}),define("platform/entanglement/bundle",["./src/actions/MoveAction","./src/actions/CopyAction","./src/actions/LinkAction","./src/actions/GoToOriginalAction","./src/actions/SetPrimaryLocationAction","./src/services/LocatingCreationDecorator","./src/services/LocatingObjectDecorator","./src/policies/CopyPolicy","./src/policies/CrossSpacePolicy","./src/policies/MovePolicy","./src/capabilities/LocationCapability","./src/services/MoveService","./src/services/LinkService","./src/services/CopyService","./src/services/LocationService","legacyRegistry"],function(e,t,n,r,i,o,s,a,c,l,u,d,p,f,h,m){m.register("platform/entanglement",{name:"Entanglement",description:"Tools to assist you in entangling the world of WARP.",configuration:{},extensions:{actions:[{key:"move",name:"Move",description:"Move object to another location.",cssclass:"icon-move",category:"contextual",implementation:e,depends:["policyService","locationService","moveService"]},{key:"copy",name:"Duplicate",description:"Duplicate object to another location.",cssclass:"icon-duplicate",category:"contextual",implementation:t,depends:["$log","policyService","locationService","copyService","dialogService","notificationService"]},{key:"link",name:"Create Link",description:"Create Link to object in another location.",cssclass:"icon-link",category:"contextual",implementation:n,depends:["policyService","locationService","linkService"]},{key:"follow",name:"Go To Original",description:"Go to the original, un-linked instance of this object.",cssclass:"",category:"contextual",implementation:r},{key:"locate",name:"Set Primary Location",description:"Set a domain object's primary location.",cssclass:"",category:"contextual",implementation:i}],components:[{type:"decorator",provides:"creationService",implementation:o},{type:"decorator",provides:"objectService",implementation:s,depends:["contextualize","$q","$log"]}],policies:[{category:"action",implementation:c},{category:"action",implementation:a},{category:"action",implementation:l}],capabilities:[{key:"location",name:"Location Capability",description:"Provides a capability for retrieving the location of an object based upon it's context.",implementation:u,depends:["$q","$injector"]}],services:[{key:"moveService",name:"Move Service",description:"Provides a service for moving objects",implementation:d,depends:["policyService","linkService","$q"]},{key:"linkService",name:"Link Service",description:"Provides a service for linking objects",implementation:p,depends:["policyService"]},{key:"copyService",name:"Copy Service",description:"Provides a service for copying objects",implementation:f,depends:["$q","policyService","now"]},{key:"locationService",name:"Location Service",description:"Provides a service for prompting a user for locations.",implementation:h,depends:["dialogService"]}],licenses:[]}})}),define("platform/search/src/controllers/SearchController",[],function(){function e(e,t){var n=this;this.$scope=e,this.searchService=t,this.numberToDisplay=this.RESULTS_PER_PAGE,this.availabileResults=0,this.$scope.results=[],this.$scope.loading=!1,this.pendingQuery=void 0,this.$scope.ngModel.filter=function(){return n.onFilterChange.apply(n,arguments)}}return e.prototype.RESULTS_PER_PAGE=20,e.prototype.areMore=function(){return this.$scope.results.length<this.availableResults},e.prototype.loadMore=function(){this.numberToDisplay+=this.RESULTS_PER_PAGE,this.dispatchSearch()},e.prototype.search=function(){var e=this.$scope.ngModel.input;return this.clearResults(),e?(this.$scope.loading=!0,this.$scope.ngModel.search=!0,void this.dispatchSearch()):(this.pendingQuery=void 0,this.$scope.ngModel.search=!1,void(this.$scope.loading=!1))},e.prototype.dispatchSearch=function(){var e=this.$scope.ngModel.input,t=this,n=e+this.numberToDisplay;this.pendingQuery!==n&&(this.pendingQuery=n,this.searchService.query(e,this.numberToDisplay,this.filterPredicate()).then(function(e){t.pendingQuery===n&&t.onSearchComplete(e)}))},e.prototype.filter=e.prototype.onFilterChange,e.prototype.onFilterChange=function(){this.pendingQuery=void 0,this.search()},e.prototype.filterPredicate=function(){if(this.$scope.ngModel.checkAll)return function(){return!0};var e=this.$scope.ngModel.checked;return function(t){return!!e[t.type]}},e.prototype.clearResults=function(){this.$scope.results=[],this.availableResults=0,this.numberToDisplay=this.RESULTS_PER_PAGE},e.prototype.onSearchComplete=function(e){this.availableResults=e.total,this.$scope.results=e.hits,this.$scope.loading=!1,this.pendingQuery=void 0},e}),define("platform/search/src/controllers/SearchMenuController",[],function(){function e(e,t){function n(){var t,n;if(e.ngModel.checkAll)for(t in e.ngModel.checked)e.ngModel.checked[t]&&(e.ngModel.checkAll=!1);if(e.ngModel.filtersString="",!e.ngModel.checkAll){for(n=0;n<e.ngModel.types.length;n+=1)e.ngModel.checked[e.ngModel.types[n].key]&&(""===e.ngModel.filtersString?e.ngModel.filtersString+=e.ngModel.types[n].name:e.ngModel.filtersString+=", "+e.ngModel.types[n].name);""===e.ngModel.filtersString&&(e.ngModel.filtersString="NONE")}e.ngModel.filter()}function r(){Object.keys(e.ngModel.checked).forEach(function(t){e.ngModel.checked[t]=!1}),e.ngModel.checkAll?e.ngModel.filtersString="":e.ngModel.filtersString="NONE",e.ngModel.filter()}return e.ngModel.types=[],e.ngModel.checked={},e.ngModel.checkAll=!0,e.ngModel.filtersString="",t.forEach(function(t){t.key&&t.name&&"root"!==t.key&&(e.ngModel.types.push(t),e.ngModel.checked[t.key]=!1)}),{updateOptions:n,checkAll:r}}return e}),define("platform/search/src/services/GenericSearchProvider",[],function(){function e(e,t,n,r,i,o){var s=this;this.$q=e,this.$log=t,this.modelService=n,this.indexedIds={},this.idsToIndex=[],this.pendingIndex={},this.pendingRequests=0,this.pendingQueries={},this.worker=this.startWorker(r),this.indexOnMutation(i),o.forEach(function(e){s.scheduleForIndexing(e)})}return e.prototype.MAX_CONCURRENT_REQUESTS=100,e.prototype.query=function(e,t){var n=this.dispatchSearch(e,t),r=this.$q.defer();return this.pendingQueries[n]=r,r.promise},e.prototype.startWorker=function(e){var t=e.run("genericSearchWorker"),n=this;return t.addEventListener("message",function(e){n.onWorkerMessage(e)}),t},e.prototype.indexOnMutation=function(e){var t=e("mutation"),n=this;t.listen(function(e){var t=e.getCapability("editor");t&&t.inEditContext()||n.index(e.getId(),e.getModel())})},e.prototype.scheduleForIndexing=function(e){this.indexedIds[e]||this.pendingIndex[e]||(this.indexedIds[e]=!0,this.pendingIndex[e]=!0,this.idsToIndex.push(e)),this.keepIndexing()},e.prototype.keepIndexing=function(){for(;this.pendingRequests<this.MAX_CONCURRENT_REQUESTS&&this.idsToIndex.length;)this.beginIndexRequest()},e.prototype.index=function(e,t){var n=this;this.worker.postMessage({request:"index",model:t,id:e}),Array.isArray(t.composition)&&t.composition.forEach(function(e){n.scheduleForIndexing(e)})},e.prototype.beginIndexRequest=function(){var e=this.idsToIndex.shift(),t=this;this.pendingRequests+=1,this.modelService.getModels([e]).then(function(n){delete t.pendingIndex[e],n[e]&&t.index(e,n[e])},function(){t.$log.warn("Failed to index domain object "+e)}).then(function(){setTimeout(function(){t.pendingRequests-=1,t.keepIndexing()},0)})},e.prototype.onWorkerMessage=function(e){if("search"===e.data.request){var t=this.pendingQueries[e.data.queryId],n={total:e.data.total};n.hits=e.data.results.map(function(e){return{id:e.item.id,model:e.item.model,score:e.matchCount}}),t.resolve(n),delete this.pendingQueries[e.data.queryId]}},e.prototype.makeQueryId=function(){for(var e=Math.ceil(1e5*Math.random());this.pendingQueries[e];)e=Math.ceil(1e5*Math.random());return e},e.prototype.dispatchSearch=function(e,t){var n=this.makeQueryId();return this.worker.postMessage({request:"search",input:e,maxResults:t,queryId:n}),n},e}),define("platform/search/src/services/SearchAggregator",[],function(){function e(e,t,n){this.$q=e,this.objectService=t,this.providers=n}return e.prototype.DEFAULT_MAX_RESULTS=100,e.prototype.FUDGE_FACTOR=5,e.prototype.query=function(e,t,n){var r,i=this;return t||(t=this.DEFAULT_MAX_RESULTS),r=this.providers.map(function(n){return n.query(e,t*i.FUDGE_FACTOR)}),this.$q.all(r).then(function(e){var t={hits:[],total:0};return e.forEach(function(e){t.hits=t.hits.concat(e.hits),t.total+=e.total}),t=i.orderByScore(t),t=i.applyFilter(t,n),t=i.removeDuplicates(t),i.asObjectResults(t)})},e.prototype.orderByScore=function(e){return e.hits.sort(function(e,t){return e.score>t.score?-1:t.score>e.score?1:0}),e},e.prototype.applyFilter=function(e,t){if(!t)return e;var n,r,i=e.hits.length;return e.hits=e.hits.filter(function(e){return t(e.model)}),n=e.hits.length,r=i-n,e.total-=r,e},e.prototype.removeDuplicates=function(e){var t={};return e.hits=e.hits.filter(function(n){return t[n.id]?(e.total-=1,!1):(t[n.id]=!0,!0)}),e},e.prototype.asObjectResults=function(e){var t=e.hits.map(function(e){return e.id});return this.objectService.getObjects(t).then(function(t){var n={total:e.total};return n.hits=e.hits.map(function(e){return{id:e.id,object:t[e.id],score:e.score}}),n})},e}),define("text!platform/search/res/templates/search-item.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n--> \r\n\r\n<div class="search-result-item l-flex-row flex-elem grows"\r\n     ng-class="{selected: ngModel.selectedObject.getId() === domainObject.getId()}">\r\n    <mct-representation key="\'label\'"\r\n                        mct-object="domainObject"\r\n                        ng-model="ngModel"\r\n                        ng-click="ngModel.selectedObject = domainObject"\r\n                        class="l-flex-row flex-elem grows">\r\n    </mct-representation>\r\n</div>'}),define("text!platform/search/res/templates/search.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n-->\r\n<div class="angular-w" ng-controller="SearchController as controller">\r\n    <div class="l-flex-col flex-elem grows holder holder-search" ng-controller="SearchMenuController as menuController">\r\n        <div class="search-bar flex-elem l-flex-row"\r\n             ng-controller="ToggleController as toggle"\r\n             ng-class="{ holder: !(ngModel.input === \'\' || ngModel.input === undefined) }">\r\n            <div class="holder flex-elem grows">\r\n                <input class="search-input"\r\n                       type="text"\r\n                       ng-model="ngModel.input"\r\n                       ng-keyup="controller.search()"/>\r\n                <a class="clear-icon clear-input icon-x-in-circle"\r\n                   ng-class="{show: !(ngModel.input === \'\' || ngModel.input === undefined)}"\r\n                   ng-click="ngModel.input = \'\'; controller.search()"></a>\r\n\r\n                <!-- To prevent double triggering of clicks on click away, render\r\n                non-clickable version of the button when menu active-->\r\n                <a ng-if="!toggle.isActive()" class="menu-icon context-available"\r\n                   ng-click="toggle.toggle()"></a>\r\n                <a ng-if="toggle.isActive()" class="menu-icon context-available"></a>\r\n\r\n                <mct-include key="\'search-menu\'"\r\n                             class="menu-element search-menu-holder"\r\n                             ng-class="{off: !toggle.isActive()}"\r\n                             ng-model="ngModel"\r\n                             parameters="{menuVisible: toggle.setState}">\r\n                </mct-include>\r\n            </div>\r\n\r\n            <a class="holder s-button flex-elem btn-cancel"\r\n               ng-show="!(ngModel.input === \'\' || ngModel.input === undefined)"\r\n               ng-click="ngModel.input = \'\'; ngModel.checkAll = true; menuController.checkAll(); controller.search()">\r\n                Cancel</a>\r\n        </div>\r\n\r\n        <div class="active-filter-display flex-elem holder"\r\n             ng-class="{off: ngModel.filtersString === \'\' || ngModel.filtersString === undefined || !ngModel.search}">\r\n            <a class="clear-filters icon-x-in-circle s-icon-button"\r\n               ng-click="ngModel.checkAll = true; menuController.checkAll()"></a>Filtered by: {{ ngModel.filtersString }}\r\n        </div>\r\n\r\n        <div class="flex-elem holder results-msg" ng-model="ngModel" ng-show="!loading && ngModel.search">\r\n            {{\r\n                !results.length > 0? \'No results found\':\r\n                    results.length + \' result\' + (results.length > 1? \'s\':\'\') + \' found\'\r\n            }}\r\n        </div>\r\n\r\n        <div class="search-results flex-elem holder grows vscroll"\r\n             ng-class="{ off: !(loading || results.length > 0), loading: loading }">\r\n            <mct-representation key="\'search-item\'"\r\n                                ng-repeat="result in results"\r\n                                mct-object="result.object"\r\n                                ng-model="ngModel"\r\n                                class="l-flex-row flex-elem grows">\r\n            </mct-representation>\r\n            <a class="load-more-button s-button vsm" ng-if="controller.areMore()" ng-click="controller.loadMore()">More Results</a>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!platform/search/res/templates/search-menu.html",[],function(){return'<!--\r\n Open MCT, Copyright (c) 2014-2016, United States Government\r\n as represented by the Administrator of the National Aeronautics and Space\r\n Administration. All rights reserved.\r\n\r\n Open MCT is licensed under the Apache License, Version 2.0 (the\r\n "License"); you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n http://www.apache.org/licenses/LICENSE-2.0.\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\r\n WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n License for the specific language governing permissions and limitations\r\n under the License.\r\n\r\n Open MCT includes source code licensed under additional open source\r\n licenses. See the Open Source Licenses file (LICENSES.md) included with\r\n this source code distribution or the Licensing information page available\r\n at runtime from the About dialog for additional information.\r\n--> \r\n\r\n<div ng-controller="SearchMenuController as controller">\r\n\r\n    <div class="menu checkbox-menu"\r\n         mct-click-elsewhere="parameters.menuVisible(false)">\r\n        <ul>\r\n            <!-- First element is special - it\'s a reset option -->\r\n            <li class="search-menu-item special icon-asterisk"\r\n                title="Select all filters"\r\n                ng-click="ngModel.checkAll = !ngModel.checkAll; controller.checkAll()">\r\n                <label class="checkbox custom no-text">\r\n                    <input type="checkbox"\r\n                           class="checkbox"\r\n                           ng-model="ngModel.checkAll"\r\n                           ng-change="controller.checkAll()" />\r\n                    <em></em>\r\n                </label>\r\n				All\r\n            </li>\r\n\r\n            <!-- The filter options, by type -->\r\n            <li class="search-menu-item {{ type.cssclass }}"\r\n                ng-repeat="type in ngModel.types"\r\n                ng-click="ngModel.checked[type.key] = !ngModel.checked[type.key]; controller.updateOptions()">\r\n\r\n                <label class="checkbox custom no-text">\r\n                    <input type="checkbox"\r\n                           class="checkbox"\r\n                           ng-model="ngModel.checked[type.key]"\r\n                           ng-change="controller.updateOptions()" />\r\n                    <em></em>\r\n                </label>\r\n				{{ type.name }}\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'}),define("platform/search/bundle",["./src/controllers/SearchController","./src/controllers/SearchMenuController","./src/services/GenericSearchProvider","./src/services/SearchAggregator","text!./res/templates/search-item.html","text!./res/templates/search.html","text!./res/templates/search-menu.html","legacyRegistry"],function(e,t,n,r,i,o,s,a){
a.register("platform/search",{name:"Search",description:"Allows the user to search through the file tree.",extensions:{constants:[{key:"GENERIC_SEARCH_ROOTS",value:["ROOT"],priority:"fallback"}],controllers:[{key:"SearchController",implementation:e,depends:["$scope","searchService"]},{key:"SearchMenuController",implementation:t,depends:["$scope","types[]"]}],representations:[{key:"search-item",template:i}],templates:[{key:"search",template:o},{key:"search-menu",template:s}],components:[{provides:"searchService",type:"provider",implementation:n,depends:["$q","$log","modelService","workerService","topic","GENERIC_SEARCH_ROOTS"]},{provides:"searchService",type:"aggregator",implementation:r,depends:["$q","objectService"]}],workers:[{key:"genericSearchWorker",scriptUrl:"services/GenericSearchWorker.js"}]}})}),define("platform/status/src/StatusConstants",{CSS_CLASS_PREFIX:"s-status-",TOPIC_PREFIX:"status:"}),define("platform/status/src/StatusRepresenter",["./StatusConstants"],function(e){function t(e,t){this.element=t,this.lastClasses=[]}var n=e.CSS_CLASS_PREFIX;return t.prototype.clearClasses=function(){var e=this.element;this.lastClasses.forEach(function(t){e.removeClass(t)})},t.prototype.represent=function(e,t){function r(e){var t=e.map(function(e){return n+e});i.clearClasses(),t.forEach(function(e){i.element.addClass(e)}),i.lastClasses=t}var i=this,o=t.getCapability("status");r(o.list()),this.unlisten=o.listen(r)},t.prototype.destroy=function(){this.clearClasses(),this.unlisten&&(this.unlisten(),this.unlisten=void 0)},t}),define("platform/status/src/StatusCapability",[],function(){function e(e,t){this.statusService=e,this.domainObject=t}return e.prototype.list=function(){return this.statusService.listStatuses(this.domainObject.getId())},e.prototype.get=function(e){return-1!==this.list().indexOf(e)},e.prototype.set=function(e,t){return this.statusService.setStatus(this.domainObject.getId(),e,t)},e.prototype.listen=function(e){return this.statusService.listen(this.domainObject.getId(),e)},e}),define("platform/status/src/StatusService",["./StatusConstants"],function(e){function t(e){this.statusTable={},this.topic=e}var n=e.TOPIC_PREFIX;return t.prototype.listStatuses=function(e){return this.statusTable[e]||[]},t.prototype.setStatus=function(e,t,r){this.statusTable[e]=this.statusTable[e]||[],this.statusTable[e]=this.statusTable[e].filter(function(e){return e!==t}),r&&this.statusTable[e].push(t),this.topic(n+e).notify(this.statusTable[e])},t.prototype.listen=function(e,t){return this.topic(n+e).listen(t)},t}),define("platform/status/bundle",["./src/StatusRepresenter","./src/StatusCapability","./src/StatusService","legacyRegistry"],function(e,t,n,r){r.register("platform/status",{extensions:{representers:[{implementation:e}],capabilities:[{key:"status",implementation:t,depends:["statusService"]}],services:[{key:"statusService",implementation:n,depends:["topic"]}]}})}),define("platform/commonUI/regions/src/InspectorController",["../../browse/src/InspectorRegion"],function(e){function t(t,n){function r(e){return e.regions&&e.regions.filter(function(e){return n.allow("region",e,s)})}function i(){t.regions=r(a.getDefinition().inspector||new e)}var o,s=t.domainObject,a=s.getCapability("type");o=s.getCapability("status").listen(i),t.$on("$destroy",function(){o()}),i()}return t}),define("platform/commonUI/regions/src/EditableRegionPolicy",[],function(){function e(){}return e.prototype.allow=function(e,t){return e.modes?t.hasCapability("editor")&&t.getCapability("editor").inEditContext()?-1!==e.modes.indexOf("edit"):-1!==e.modes.indexOf("browse"):!0},e}),define("platform/commonUI/regions/bundle",["./src/InspectorController","./src/EditableRegionPolicy","legacyRegistry"],function(e,t,n){n.register("platform/commonUI/regions",{extensions:{controllers:[{key:"InspectorController",implementation:e,depends:["$scope","policyService"]}],policies:[{category:"region",implementation:t}]}})}),requirejs.config({paths:{legacyRegistry:"src/legacyRegistry",angular:"bower_components/angular/angular.min","angular-route":"bower_components/angular-route/angular-route.min",csv:"bower_components/comma-separated-values/csv.min","es6-promise":"bower_components/es6-promise/promise.min",moment:"bower_components/moment/moment","moment-duration-format":"bower_components/moment-duration-format/lib/moment-duration-format",saveAs:"bower_components/FileSaver.js/FileSaver.min",screenfull:"bower_components/screenfull/dist/screenfull.min",text:"bower_components/text/text",uuid:"bower_components/node-uuid/uuid",zepto:"bower_components/zepto/zepto.min"},shim:{angular:{exports:"angular"},"angular-route":{deps:["angular"]},"moment-duration-format":{deps:["moment"]},screenfull:{exports:"screenfull"},zepto:{exports:"Zepto"}}}),define("main",["./platform/framework/src/Main","legacyRegistry","./platform/framework/bundle","./platform/core/bundle","./platform/representation/bundle","./platform/commonUI/about/bundle","./platform/commonUI/browse/bundle","./platform/commonUI/edit/bundle","./platform/commonUI/dialog/bundle","./platform/commonUI/formats/bundle","./platform/commonUI/general/bundle","./platform/commonUI/inspect/bundle","./platform/commonUI/mobile/bundle","./platform/commonUI/themes/espresso/bundle","./platform/commonUI/notification/bundle","./platform/containment/bundle","./platform/execution/bundle","./platform/exporters/bundle","./platform/telemetry/bundle","./platform/features/clock/bundle","./platform/features/fixed/bundle","./platform/features/imagery/bundle","./platform/features/layout/bundle","./platform/features/pages/bundle","./platform/features/plot/bundle","./platform/features/timeline/bundle","./platform/features/table/bundle","./platform/forms/bundle","./platform/identity/bundle","./platform/persistence/aggregator/bundle","./platform/persistence/local/bundle","./platform/persistence/queue/bundle","./platform/policy/bundle","./platform/entanglement/bundle","./platform/search/bundle","./platform/status/bundle","./platform/commonUI/regions/bundle"],function(e,t){return{legacyRegistry:t,run:function(){return(new e).run(t)}}});
//# sourceMappingURL=main.build.js.map
//# sourceMappingURL=main.js.map
